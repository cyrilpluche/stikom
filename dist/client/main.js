(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["main"],{

/***/ "./node_modules/moment/locale sync recursive ^\\.\\/.*$":
/*!**************************************************!*\
  !*** ./node_modules/moment/locale sync ^\.\/.*$ ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var map = {
	"./af": "./node_modules/moment/locale/af.js",
	"./af.js": "./node_modules/moment/locale/af.js",
	"./ar": "./node_modules/moment/locale/ar.js",
	"./ar-dz": "./node_modules/moment/locale/ar-dz.js",
	"./ar-dz.js": "./node_modules/moment/locale/ar-dz.js",
	"./ar-kw": "./node_modules/moment/locale/ar-kw.js",
	"./ar-kw.js": "./node_modules/moment/locale/ar-kw.js",
	"./ar-ly": "./node_modules/moment/locale/ar-ly.js",
	"./ar-ly.js": "./node_modules/moment/locale/ar-ly.js",
	"./ar-ma": "./node_modules/moment/locale/ar-ma.js",
	"./ar-ma.js": "./node_modules/moment/locale/ar-ma.js",
	"./ar-sa": "./node_modules/moment/locale/ar-sa.js",
	"./ar-sa.js": "./node_modules/moment/locale/ar-sa.js",
	"./ar-tn": "./node_modules/moment/locale/ar-tn.js",
	"./ar-tn.js": "./node_modules/moment/locale/ar-tn.js",
	"./ar.js": "./node_modules/moment/locale/ar.js",
	"./az": "./node_modules/moment/locale/az.js",
	"./az.js": "./node_modules/moment/locale/az.js",
	"./be": "./node_modules/moment/locale/be.js",
	"./be.js": "./node_modules/moment/locale/be.js",
	"./bg": "./node_modules/moment/locale/bg.js",
	"./bg.js": "./node_modules/moment/locale/bg.js",
	"./bm": "./node_modules/moment/locale/bm.js",
	"./bm.js": "./node_modules/moment/locale/bm.js",
	"./bn": "./node_modules/moment/locale/bn.js",
	"./bn.js": "./node_modules/moment/locale/bn.js",
	"./bo": "./node_modules/moment/locale/bo.js",
	"./bo.js": "./node_modules/moment/locale/bo.js",
	"./br": "./node_modules/moment/locale/br.js",
	"./br.js": "./node_modules/moment/locale/br.js",
	"./bs": "./node_modules/moment/locale/bs.js",
	"./bs.js": "./node_modules/moment/locale/bs.js",
	"./ca": "./node_modules/moment/locale/ca.js",
	"./ca.js": "./node_modules/moment/locale/ca.js",
	"./cs": "./node_modules/moment/locale/cs.js",
	"./cs.js": "./node_modules/moment/locale/cs.js",
	"./cv": "./node_modules/moment/locale/cv.js",
	"./cv.js": "./node_modules/moment/locale/cv.js",
	"./cy": "./node_modules/moment/locale/cy.js",
	"./cy.js": "./node_modules/moment/locale/cy.js",
	"./da": "./node_modules/moment/locale/da.js",
	"./da.js": "./node_modules/moment/locale/da.js",
	"./de": "./node_modules/moment/locale/de.js",
	"./de-at": "./node_modules/moment/locale/de-at.js",
	"./de-at.js": "./node_modules/moment/locale/de-at.js",
	"./de-ch": "./node_modules/moment/locale/de-ch.js",
	"./de-ch.js": "./node_modules/moment/locale/de-ch.js",
	"./de.js": "./node_modules/moment/locale/de.js",
	"./dv": "./node_modules/moment/locale/dv.js",
	"./dv.js": "./node_modules/moment/locale/dv.js",
	"./el": "./node_modules/moment/locale/el.js",
	"./el.js": "./node_modules/moment/locale/el.js",
	"./en-au": "./node_modules/moment/locale/en-au.js",
	"./en-au.js": "./node_modules/moment/locale/en-au.js",
	"./en-ca": "./node_modules/moment/locale/en-ca.js",
	"./en-ca.js": "./node_modules/moment/locale/en-ca.js",
	"./en-gb": "./node_modules/moment/locale/en-gb.js",
	"./en-gb.js": "./node_modules/moment/locale/en-gb.js",
	"./en-ie": "./node_modules/moment/locale/en-ie.js",
	"./en-ie.js": "./node_modules/moment/locale/en-ie.js",
	"./en-il": "./node_modules/moment/locale/en-il.js",
	"./en-il.js": "./node_modules/moment/locale/en-il.js",
	"./en-nz": "./node_modules/moment/locale/en-nz.js",
	"./en-nz.js": "./node_modules/moment/locale/en-nz.js",
	"./eo": "./node_modules/moment/locale/eo.js",
	"./eo.js": "./node_modules/moment/locale/eo.js",
	"./es": "./node_modules/moment/locale/es.js",
	"./es-do": "./node_modules/moment/locale/es-do.js",
	"./es-do.js": "./node_modules/moment/locale/es-do.js",
	"./es-us": "./node_modules/moment/locale/es-us.js",
	"./es-us.js": "./node_modules/moment/locale/es-us.js",
	"./es.js": "./node_modules/moment/locale/es.js",
	"./et": "./node_modules/moment/locale/et.js",
	"./et.js": "./node_modules/moment/locale/et.js",
	"./eu": "./node_modules/moment/locale/eu.js",
	"./eu.js": "./node_modules/moment/locale/eu.js",
	"./fa": "./node_modules/moment/locale/fa.js",
	"./fa.js": "./node_modules/moment/locale/fa.js",
	"./fi": "./node_modules/moment/locale/fi.js",
	"./fi.js": "./node_modules/moment/locale/fi.js",
	"./fo": "./node_modules/moment/locale/fo.js",
	"./fo.js": "./node_modules/moment/locale/fo.js",
	"./fr": "./node_modules/moment/locale/fr.js",
	"./fr-ca": "./node_modules/moment/locale/fr-ca.js",
	"./fr-ca.js": "./node_modules/moment/locale/fr-ca.js",
	"./fr-ch": "./node_modules/moment/locale/fr-ch.js",
	"./fr-ch.js": "./node_modules/moment/locale/fr-ch.js",
	"./fr.js": "./node_modules/moment/locale/fr.js",
	"./fy": "./node_modules/moment/locale/fy.js",
	"./fy.js": "./node_modules/moment/locale/fy.js",
	"./gd": "./node_modules/moment/locale/gd.js",
	"./gd.js": "./node_modules/moment/locale/gd.js",
	"./gl": "./node_modules/moment/locale/gl.js",
	"./gl.js": "./node_modules/moment/locale/gl.js",
	"./gom-latn": "./node_modules/moment/locale/gom-latn.js",
	"./gom-latn.js": "./node_modules/moment/locale/gom-latn.js",
	"./gu": "./node_modules/moment/locale/gu.js",
	"./gu.js": "./node_modules/moment/locale/gu.js",
	"./he": "./node_modules/moment/locale/he.js",
	"./he.js": "./node_modules/moment/locale/he.js",
	"./hi": "./node_modules/moment/locale/hi.js",
	"./hi.js": "./node_modules/moment/locale/hi.js",
	"./hr": "./node_modules/moment/locale/hr.js",
	"./hr.js": "./node_modules/moment/locale/hr.js",
	"./hu": "./node_modules/moment/locale/hu.js",
	"./hu.js": "./node_modules/moment/locale/hu.js",
	"./hy-am": "./node_modules/moment/locale/hy-am.js",
	"./hy-am.js": "./node_modules/moment/locale/hy-am.js",
	"./id": "./node_modules/moment/locale/id.js",
	"./id.js": "./node_modules/moment/locale/id.js",
	"./is": "./node_modules/moment/locale/is.js",
	"./is.js": "./node_modules/moment/locale/is.js",
	"./it": "./node_modules/moment/locale/it.js",
	"./it.js": "./node_modules/moment/locale/it.js",
	"./ja": "./node_modules/moment/locale/ja.js",
	"./ja.js": "./node_modules/moment/locale/ja.js",
	"./jv": "./node_modules/moment/locale/jv.js",
	"./jv.js": "./node_modules/moment/locale/jv.js",
	"./ka": "./node_modules/moment/locale/ka.js",
	"./ka.js": "./node_modules/moment/locale/ka.js",
	"./kk": "./node_modules/moment/locale/kk.js",
	"./kk.js": "./node_modules/moment/locale/kk.js",
	"./km": "./node_modules/moment/locale/km.js",
	"./km.js": "./node_modules/moment/locale/km.js",
	"./kn": "./node_modules/moment/locale/kn.js",
	"./kn.js": "./node_modules/moment/locale/kn.js",
	"./ko": "./node_modules/moment/locale/ko.js",
	"./ko.js": "./node_modules/moment/locale/ko.js",
	"./ky": "./node_modules/moment/locale/ky.js",
	"./ky.js": "./node_modules/moment/locale/ky.js",
	"./lb": "./node_modules/moment/locale/lb.js",
	"./lb.js": "./node_modules/moment/locale/lb.js",
	"./lo": "./node_modules/moment/locale/lo.js",
	"./lo.js": "./node_modules/moment/locale/lo.js",
	"./lt": "./node_modules/moment/locale/lt.js",
	"./lt.js": "./node_modules/moment/locale/lt.js",
	"./lv": "./node_modules/moment/locale/lv.js",
	"./lv.js": "./node_modules/moment/locale/lv.js",
	"./me": "./node_modules/moment/locale/me.js",
	"./me.js": "./node_modules/moment/locale/me.js",
	"./mi": "./node_modules/moment/locale/mi.js",
	"./mi.js": "./node_modules/moment/locale/mi.js",
	"./mk": "./node_modules/moment/locale/mk.js",
	"./mk.js": "./node_modules/moment/locale/mk.js",
	"./ml": "./node_modules/moment/locale/ml.js",
	"./ml.js": "./node_modules/moment/locale/ml.js",
	"./mn": "./node_modules/moment/locale/mn.js",
	"./mn.js": "./node_modules/moment/locale/mn.js",
	"./mr": "./node_modules/moment/locale/mr.js",
	"./mr.js": "./node_modules/moment/locale/mr.js",
	"./ms": "./node_modules/moment/locale/ms.js",
	"./ms-my": "./node_modules/moment/locale/ms-my.js",
	"./ms-my.js": "./node_modules/moment/locale/ms-my.js",
	"./ms.js": "./node_modules/moment/locale/ms.js",
	"./mt": "./node_modules/moment/locale/mt.js",
	"./mt.js": "./node_modules/moment/locale/mt.js",
	"./my": "./node_modules/moment/locale/my.js",
	"./my.js": "./node_modules/moment/locale/my.js",
	"./nb": "./node_modules/moment/locale/nb.js",
	"./nb.js": "./node_modules/moment/locale/nb.js",
	"./ne": "./node_modules/moment/locale/ne.js",
	"./ne.js": "./node_modules/moment/locale/ne.js",
	"./nl": "./node_modules/moment/locale/nl.js",
	"./nl-be": "./node_modules/moment/locale/nl-be.js",
	"./nl-be.js": "./node_modules/moment/locale/nl-be.js",
	"./nl.js": "./node_modules/moment/locale/nl.js",
	"./nn": "./node_modules/moment/locale/nn.js",
	"./nn.js": "./node_modules/moment/locale/nn.js",
	"./pa-in": "./node_modules/moment/locale/pa-in.js",
	"./pa-in.js": "./node_modules/moment/locale/pa-in.js",
	"./pl": "./node_modules/moment/locale/pl.js",
	"./pl.js": "./node_modules/moment/locale/pl.js",
	"./pt": "./node_modules/moment/locale/pt.js",
	"./pt-br": "./node_modules/moment/locale/pt-br.js",
	"./pt-br.js": "./node_modules/moment/locale/pt-br.js",
	"./pt.js": "./node_modules/moment/locale/pt.js",
	"./ro": "./node_modules/moment/locale/ro.js",
	"./ro.js": "./node_modules/moment/locale/ro.js",
	"./ru": "./node_modules/moment/locale/ru.js",
	"./ru.js": "./node_modules/moment/locale/ru.js",
	"./sd": "./node_modules/moment/locale/sd.js",
	"./sd.js": "./node_modules/moment/locale/sd.js",
	"./se": "./node_modules/moment/locale/se.js",
	"./se.js": "./node_modules/moment/locale/se.js",
	"./si": "./node_modules/moment/locale/si.js",
	"./si.js": "./node_modules/moment/locale/si.js",
	"./sk": "./node_modules/moment/locale/sk.js",
	"./sk.js": "./node_modules/moment/locale/sk.js",
	"./sl": "./node_modules/moment/locale/sl.js",
	"./sl.js": "./node_modules/moment/locale/sl.js",
	"./sq": "./node_modules/moment/locale/sq.js",
	"./sq.js": "./node_modules/moment/locale/sq.js",
	"./sr": "./node_modules/moment/locale/sr.js",
	"./sr-cyrl": "./node_modules/moment/locale/sr-cyrl.js",
	"./sr-cyrl.js": "./node_modules/moment/locale/sr-cyrl.js",
	"./sr.js": "./node_modules/moment/locale/sr.js",
	"./ss": "./node_modules/moment/locale/ss.js",
	"./ss.js": "./node_modules/moment/locale/ss.js",
	"./sv": "./node_modules/moment/locale/sv.js",
	"./sv.js": "./node_modules/moment/locale/sv.js",
	"./sw": "./node_modules/moment/locale/sw.js",
	"./sw.js": "./node_modules/moment/locale/sw.js",
	"./ta": "./node_modules/moment/locale/ta.js",
	"./ta.js": "./node_modules/moment/locale/ta.js",
	"./te": "./node_modules/moment/locale/te.js",
	"./te.js": "./node_modules/moment/locale/te.js",
	"./tet": "./node_modules/moment/locale/tet.js",
	"./tet.js": "./node_modules/moment/locale/tet.js",
	"./tg": "./node_modules/moment/locale/tg.js",
	"./tg.js": "./node_modules/moment/locale/tg.js",
	"./th": "./node_modules/moment/locale/th.js",
	"./th.js": "./node_modules/moment/locale/th.js",
	"./tl-ph": "./node_modules/moment/locale/tl-ph.js",
	"./tl-ph.js": "./node_modules/moment/locale/tl-ph.js",
	"./tlh": "./node_modules/moment/locale/tlh.js",
	"./tlh.js": "./node_modules/moment/locale/tlh.js",
	"./tr": "./node_modules/moment/locale/tr.js",
	"./tr.js": "./node_modules/moment/locale/tr.js",
	"./tzl": "./node_modules/moment/locale/tzl.js",
	"./tzl.js": "./node_modules/moment/locale/tzl.js",
	"./tzm": "./node_modules/moment/locale/tzm.js",
	"./tzm-latn": "./node_modules/moment/locale/tzm-latn.js",
	"./tzm-latn.js": "./node_modules/moment/locale/tzm-latn.js",
	"./tzm.js": "./node_modules/moment/locale/tzm.js",
	"./ug-cn": "./node_modules/moment/locale/ug-cn.js",
	"./ug-cn.js": "./node_modules/moment/locale/ug-cn.js",
	"./uk": "./node_modules/moment/locale/uk.js",
	"./uk.js": "./node_modules/moment/locale/uk.js",
	"./ur": "./node_modules/moment/locale/ur.js",
	"./ur.js": "./node_modules/moment/locale/ur.js",
	"./uz": "./node_modules/moment/locale/uz.js",
	"./uz-latn": "./node_modules/moment/locale/uz-latn.js",
	"./uz-latn.js": "./node_modules/moment/locale/uz-latn.js",
	"./uz.js": "./node_modules/moment/locale/uz.js",
	"./vi": "./node_modules/moment/locale/vi.js",
	"./vi.js": "./node_modules/moment/locale/vi.js",
	"./x-pseudo": "./node_modules/moment/locale/x-pseudo.js",
	"./x-pseudo.js": "./node_modules/moment/locale/x-pseudo.js",
	"./yo": "./node_modules/moment/locale/yo.js",
	"./yo.js": "./node_modules/moment/locale/yo.js",
	"./zh-cn": "./node_modules/moment/locale/zh-cn.js",
	"./zh-cn.js": "./node_modules/moment/locale/zh-cn.js",
	"./zh-hk": "./node_modules/moment/locale/zh-hk.js",
	"./zh-hk.js": "./node_modules/moment/locale/zh-hk.js",
	"./zh-tw": "./node_modules/moment/locale/zh-tw.js",
	"./zh-tw.js": "./node_modules/moment/locale/zh-tw.js"
};


function webpackContext(req) {
	var id = webpackContextResolve(req);
	var module = __webpack_require__(id);
	return module;
}
function webpackContextResolve(req) {
	var id = map[req];
	if(!(id + 1)) { // check for number or string
		var e = new Error('Cannot find module "' + req + '".');
		e.code = 'MODULE_NOT_FOUND';
		throw e;
	}
	return id;
}
webpackContext.keys = function webpackContextKeys() {
	return Object.keys(map);
};
webpackContext.resolve = webpackContextResolve;
module.exports = webpackContext;
webpackContext.id = "./node_modules/moment/locale sync recursive ^\\.\\/.*$";

/***/ }),

/***/ "./src/$$_lazy_route_resource lazy recursive":
/*!**********************************************************!*\
  !*** ./src/$$_lazy_route_resource lazy namespace object ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

function webpackEmptyAsyncContext(req) {
	// Here Promise.resolve().then() is used instead of new Promise() to prevent
	// uncaught exception popping up in devtools
	return Promise.resolve().then(function() {
		var e = new Error('Cannot find module "' + req + '".');
		e.code = 'MODULE_NOT_FOUND';
		throw e;
	});
}
webpackEmptyAsyncContext.keys = function() { return []; };
webpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;
module.exports = webpackEmptyAsyncContext;
webpackEmptyAsyncContext.id = "./src/$$_lazy_route_resource lazy recursive";

/***/ }),

/***/ "./src/app/app.component.css":
/*!***********************************!*\
  !*** ./src/app/app.component.css ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "body {\r\n  background-color: #f1f1f0;\r\n}\r\n"

/***/ }),

/***/ "./src/app/app.component.html":
/*!************************************!*\
  !*** ./src/app/app.component.html ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<app-nav-bar></app-nav-bar>\r\n\r\n<div class=\"body-content\" style=\"min-height: 700px\">\r\n  <router-outlet></router-outlet>\r\n</div>\r\n\r\n\r\n<app-footer></app-footer>\r\n\r\n"

/***/ }),

/***/ "./src/app/app.component.ts":
/*!**********************************!*\
  !*** ./src/app/app.component.ts ***!
  \**********************************/
/*! exports provided: AppComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppComponent", function() { return AppComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};

var AppComponent = /** @class */ (function () {
    function AppComponent() {
        this.title = 'app';
    }
    AppComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-root',
            template: __webpack_require__(/*! ./app.component.html */ "./src/app/app.component.html"),
            styles: [__webpack_require__(/*! ./app.component.css */ "./src/app/app.component.css")]
        })
    ], AppComponent);
    return AppComponent;
}());



/***/ }),

/***/ "./src/app/app.module.ts":
/*!*******************************!*\
  !*** ./src/app/app.module.ts ***!
  \*******************************/
/*! exports provided: AppModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppModule", function() { return AppModule; });
/* harmony import */ var _angular_platform_browser__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/platform-browser */ "./node_modules/@angular/platform-browser/fesm5/platform-browser.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _guards_auth_guard__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./guards/auth.guard */ "./src/app/guards/auth.guard.ts");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var _app_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./app.component */ "./src/app/app.component.ts");
/* harmony import */ var _component_home_home_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./component/home/home.component */ "./src/app/component/home/home.component.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _shared_layout_nav_bar_nav_bar_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./shared/layout/nav-bar/nav-bar.component */ "./src/app/shared/layout/nav-bar/nav-bar.component.ts");
/* harmony import */ var _component_account_account_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./component/account/account.component */ "./src/app/component/account/account.component.ts");
/* harmony import */ var _component_sop_list_sop_list_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./component/sop-list/sop-list.component */ "./src/app/component/sop-list/sop-list.component.ts");
/* harmony import */ var _component_staff_list_staff_list_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./component/staff-list/staff-list.component */ "./src/app/component/staff-list/staff-list.component.ts");
/* harmony import */ var _component_staff_list_staff_staff_component__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./component/staff-list/staff/staff.component */ "./src/app/component/staff-list/staff/staff.component.ts");
/* harmony import */ var _component_admin_admin_component__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./component/admin/admin.component */ "./src/app/component/admin/admin.component.ts");
/* harmony import */ var _component_performance_project_performance_project_component__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./component/performance-project/performance-project.component */ "./src/app/component/performance-project/performance-project.component.ts");
/* harmony import */ var _component_performance_project_performance_target_performance_target_component__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./component/performance-project/performance-target/performance-target.component */ "./src/app/component/performance-project/performance-target/performance-target.component.ts");
/* harmony import */ var _component_performance_project_performance_report_performance_report_component__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./component/performance-project/performance-report/performance-report.component */ "./src/app/component/performance-project/performance-report/performance-report.component.ts");
/* harmony import */ var _component_work_schedule_work_schedule_component__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./component/work-schedule/work-schedule.component */ "./src/app/component/work-schedule/work-schedule.component.ts");
/* harmony import */ var _component_project_list_project_list_component__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./component/project-list/project-list.component */ "./src/app/component/project-list/project-list.component.ts");
/* harmony import */ var _component_project_list_project_project_component__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./component/project-list/project/project.component */ "./src/app/component/project-list/project/project.component.ts");
/* harmony import */ var _component_authentification_authentification_component__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./component/authentification/authentification.component */ "./src/app/component/authentification/authentification.component.ts");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _component_authentification_sign_up_sign_up_component__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./component/authentification/sign-up/sign-up.component */ "./src/app/component/authentification/sign-up/sign-up.component.ts");
/* harmony import */ var angular_bootstrap_md__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! angular-bootstrap-md */ "./node_modules/angular-bootstrap-md/esm5/angular-bootstrap-md.es5.js");
/* harmony import */ var _component_sop_list_sop_creation_sop_creation_component__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./component/sop-list/sop-creation/sop-creation.component */ "./src/app/component/sop-list/sop-creation/sop-creation.component.ts");
/* harmony import */ var _shared_modals_confirmation_confirmation_component__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./shared/modals/confirmation/confirmation.component */ "./src/app/shared/modals/confirmation/confirmation.component.ts");
/* harmony import */ var _shared_summary_summary_component__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./shared/summary/summary.component */ "./src/app/shared/summary/summary.component.ts");
/* harmony import */ var _component_sop_list_sop_sop_component__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./component/sop-list/sop/sop.component */ "./src/app/component/sop-list/sop/sop.component.ts");
/* harmony import */ var _component_project_list_project_creation_project_creation_component__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./component/project-list/project-creation/project-creation.component */ "./src/app/component/project-list/project-creation/project-creation.component.ts");
/* harmony import */ var _shared_modals_warning_warning_component__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./shared/modals/warning/warning.component */ "./src/app/shared/modals/warning/warning.component.ts");
/* harmony import */ var _component_activity_list_activity_list_component__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ./component/activity-list/activity-list.component */ "./src/app/component/activity-list/activity-list.component.ts");
/* harmony import */ var _component_activity_list_activity_creation_activity_creation_component__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ./component/activity-list/activity-creation/activity-creation.component */ "./src/app/component/activity-list/activity-creation/activity-creation.component.ts");
/* harmony import */ var _component_account_validation_account_validation_component__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ./component/account-validation/account-validation.component */ "./src/app/component/account-validation/account-validation.component.ts");
/* harmony import */ var _component_admin_users_admin_users_component__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ./component/admin-users/admin-users.component */ "./src/app/component/admin-users/admin-users.component.ts");
/* harmony import */ var _component_organization_management_organization_management_component__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ./component/organization-management/organization-management.component */ "./src/app/component/organization-management/organization-management.component.ts");
/* harmony import */ var _shared_modals_action_action_component__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ./shared/modals/action/action.component */ "./src/app/shared/modals/action/action.component.ts");
/* harmony import */ var _component_job_list_job_list_component__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ./component/job-list/job-list.component */ "./src/app/component/job-list/job-list.component.ts");
/* harmony import */ var _component_job_list_job_job_component__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ./component/job-list/job/job.component */ "./src/app/component/job-list/job/job.component.ts");
/* harmony import */ var _component_job_list_job_creation_job_creation_component__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! ./component/job-list/job-creation/job-creation.component */ "./src/app/component/job-list/job-creation/job-creation.component.ts");
/* harmony import */ var _documents_pdf_sop_pdf_sop_component__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! ./documents/pdf-sop/pdf-sop.component */ "./src/app/documents/pdf-sop/pdf-sop.component.ts");
/* harmony import */ var _documents_pdf_gantt_pdf_gantt_component__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! ./documents/pdf-gantt/pdf-gantt.component */ "./src/app/documents/pdf-gantt/pdf-gantt.component.ts");
/* harmony import */ var _documents_pdf_progress_evaluation_pdf_progress_evaluation_component__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! ./documents/pdf-progress-evaluation/pdf-progress-evaluation.component */ "./src/app/documents/pdf-progress-evaluation/pdf-progress-evaluation.component.ts");
/* harmony import */ var _documents_pdf_performance_target_pdf_performance_target_component__WEBPACK_IMPORTED_MODULE_41__ = __webpack_require__(/*! ./documents/pdf-performance-target/pdf-performance-target.component */ "./src/app/documents/pdf-performance-target/pdf-performance-target.component.ts");
/* harmony import */ var _documents_pdf_performance_report_pdf_performance_report_component__WEBPACK_IMPORTED_MODULE_42__ = __webpack_require__(/*! ./documents/pdf-performance-report/pdf-performance-report.component */ "./src/app/documents/pdf-performance-report/pdf-performance-report.component.ts");
/* harmony import */ var _component_gantt_gantt_component__WEBPACK_IMPORTED_MODULE_43__ = __webpack_require__(/*! ./component/gantt/gantt.component */ "./src/app/component/gantt/gantt.component.ts");
/* harmony import */ var _component_gantt_gantt_creation_gantt_creation_component__WEBPACK_IMPORTED_MODULE_44__ = __webpack_require__(/*! ./component/gantt/gantt-creation/gantt-creation.component */ "./src/app/component/gantt/gantt-creation/gantt-creation.component.ts");
/* harmony import */ var _shared_Loader_loader_loader_component__WEBPACK_IMPORTED_MODULE_45__ = __webpack_require__(/*! ./shared/Loader/loader/loader.component */ "./src/app/shared/Loader/loader/loader.component.ts");
/* harmony import */ var _component_project_list_volume_progress_volume_progress_component__WEBPACK_IMPORTED_MODULE_46__ = __webpack_require__(/*! ./component/project-list/volume-progress/volume-progress.component */ "./src/app/component/project-list/volume-progress/volume-progress.component.ts");
/* harmony import */ var _component_not_found_not_found_not_found_component__WEBPACK_IMPORTED_MODULE_47__ = __webpack_require__(/*! ./component/not-found/not-found/not-found.component */ "./src/app/component/not-found/not-found/not-found.component.ts");
/* harmony import */ var _helpers_text_helper_text_helper_component__WEBPACK_IMPORTED_MODULE_48__ = __webpack_require__(/*! ./helpers/text-helper/text-helper.component */ "./src/app/helpers/text-helper/text-helper.component.ts");
/* harmony import */ var _shared_modals_activity_update_activity_update_component__WEBPACK_IMPORTED_MODULE_49__ = __webpack_require__(/*! ./shared/modals/activity-update/activity-update.component */ "./src/app/shared/modals/activity-update/activity-update.component.ts");
/* harmony import */ var _helpers_date_helper_date_helper_component__WEBPACK_IMPORTED_MODULE_50__ = __webpack_require__(/*! ./helpers/date-helper/date-helper.component */ "./src/app/helpers/date-helper/date-helper.component.ts");
/* harmony import */ var _component_master_of_work_master_of_work_component__WEBPACK_IMPORTED_MODULE_51__ = __webpack_require__(/*! ./component/master-of-work/master-of-work.component */ "./src/app/component/master-of-work/master-of-work.component.ts");
/* harmony import */ var _shared_footer_footer_component__WEBPACK_IMPORTED_MODULE_52__ = __webpack_require__(/*! ./shared/footer/footer.component */ "./src/app/shared/footer/footer.component.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};






















































var routes = [
    { path: '', component: _component_home_home_component__WEBPACK_IMPORTED_MODULE_5__["HomeComponent"] },
    { path: 'home', component: _component_home_home_component__WEBPACK_IMPORTED_MODULE_5__["HomeComponent"] },
    { path: 'account-validation/:seed', component: _component_account_validation_account_validation_component__WEBPACK_IMPORTED_MODULE_31__["AccountValidationComponent"] },
    { path: 'personal-achievement', component: _component_performance_project_performance_project_component__WEBPACK_IMPORTED_MODULE_13__["PerformanceProjectComponent"] },
    { path: 'account', component: _component_account_account_component__WEBPACK_IMPORTED_MODULE_8__["AccountComponent"], canActivate: [_guards_auth_guard__WEBPACK_IMPORTED_MODULE_2__["AuthGuard"]] },
    { path: 'authentification', component: _component_authentification_authentification_component__WEBPACK_IMPORTED_MODULE_19__["AuthentificationComponent"] },
    { path: 'sign-up', component: _component_authentification_sign_up_sign_up_component__WEBPACK_IMPORTED_MODULE_21__["SignUpComponent"] },
    { path: 'authentification', component: _component_authentification_authentification_component__WEBPACK_IMPORTED_MODULE_19__["AuthentificationComponent"] },
    { path: 'project-list', component: _component_project_list_project_list_component__WEBPACK_IMPORTED_MODULE_17__["ProjectListComponent"], canActivate: [_guards_auth_guard__WEBPACK_IMPORTED_MODULE_2__["AuthGuard"]] },
    { path: 'project', component: _component_project_list_project_project_component__WEBPACK_IMPORTED_MODULE_18__["ProjectComponent"], canActivate: [_guards_auth_guard__WEBPACK_IMPORTED_MODULE_2__["AuthGuard"]] },
    { path: 'sop-creation', component: _component_sop_list_sop_creation_sop_creation_component__WEBPACK_IMPORTED_MODULE_23__["SopCreationComponent"], canActivate: [_guards_auth_guard__WEBPACK_IMPORTED_MODULE_2__["AuthGuard"]] },
    { path: 'sop-list', component: _component_sop_list_sop_list_component__WEBPACK_IMPORTED_MODULE_9__["SopListComponent"], canActivate: [_guards_auth_guard__WEBPACK_IMPORTED_MODULE_2__["AuthGuard"]] },
    { path: 'sop', component: _component_sop_list_sop_sop_component__WEBPACK_IMPORTED_MODULE_26__["SopComponent"], canActivate: [_guards_auth_guard__WEBPACK_IMPORTED_MODULE_2__["AuthGuard"]] },
    { path: 'activity-creation', component: _component_activity_list_activity_creation_activity_creation_component__WEBPACK_IMPORTED_MODULE_30__["ActivityCreationComponent"], canActivate: [_guards_auth_guard__WEBPACK_IMPORTED_MODULE_2__["AuthGuard"]] },
    { path: 'project-creation', component: _component_project_list_project_creation_project_creation_component__WEBPACK_IMPORTED_MODULE_27__["ProjectCreationComponent"], canActivate: [_guards_auth_guard__WEBPACK_IMPORTED_MODULE_2__["AuthGuard"]] },
    { path: 'admin-users', component: _component_admin_users_admin_users_component__WEBPACK_IMPORTED_MODULE_32__["AdminUsersComponent"], canActivate: [_guards_auth_guard__WEBPACK_IMPORTED_MODULE_2__["AuthGuard"]] },
    { path: 'job-creation', component: _component_job_list_job_creation_job_creation_component__WEBPACK_IMPORTED_MODULE_37__["JobCreationComponent"], canActivate: [_guards_auth_guard__WEBPACK_IMPORTED_MODULE_2__["AuthGuard"]] },
    { path: 'admin-organization-management', component: _component_organization_management_organization_management_component__WEBPACK_IMPORTED_MODULE_33__["OrganizationManagementComponent"], canActivate: [_guards_auth_guard__WEBPACK_IMPORTED_MODULE_2__["AuthGuard"]] },
    { path: 'pdf-sop', component: _documents_pdf_sop_pdf_sop_component__WEBPACK_IMPORTED_MODULE_38__["PdfSopComponent"] },
    { path: 'pdf-gantt', component: _documents_pdf_gantt_pdf_gantt_component__WEBPACK_IMPORTED_MODULE_39__["PdfGanttComponent"] },
    { path: 'pdf-progress-evaluation', component: _documents_pdf_progress_evaluation_pdf_progress_evaluation_component__WEBPACK_IMPORTED_MODULE_40__["PdfProgressEvaluationComponent"] },
    { path: 'job-list', component: _component_job_list_job_list_component__WEBPACK_IMPORTED_MODULE_35__["JobListComponent"], canActivate: [_guards_auth_guard__WEBPACK_IMPORTED_MODULE_2__["AuthGuard"]] },
    { path: 'admin-organization-management', component: _component_organization_management_organization_management_component__WEBPACK_IMPORTED_MODULE_33__["OrganizationManagementComponent"], canActivate: [_guards_auth_guard__WEBPACK_IMPORTED_MODULE_2__["AuthGuard"]] },
    { path: 'gantt', component: _component_gantt_gantt_component__WEBPACK_IMPORTED_MODULE_43__["GanttComponent"], canActivate: [_guards_auth_guard__WEBPACK_IMPORTED_MODULE_2__["AuthGuard"]] },
    { path: 'gantt-creation', component: _component_gantt_gantt_creation_gantt_creation_component__WEBPACK_IMPORTED_MODULE_44__["GanttCreationComponent"], canActivate: [_guards_auth_guard__WEBPACK_IMPORTED_MODULE_2__["AuthGuard"]] },
    { path: 'admin-organization-management', component: _component_organization_management_organization_management_component__WEBPACK_IMPORTED_MODULE_33__["OrganizationManagementComponent"], canActivate: [_guards_auth_guard__WEBPACK_IMPORTED_MODULE_2__["AuthGuard"]] },
    { path: 'pdf-performance-target', component: _documents_pdf_performance_target_pdf_performance_target_component__WEBPACK_IMPORTED_MODULE_41__["PdfPerformanceTargetComponent"] },
    { path: 'pdf-performance-report', component: _documents_pdf_performance_report_pdf_performance_report_component__WEBPACK_IMPORTED_MODULE_42__["PdfPerformanceReportComponent"] },
    { path: 'volume-progress', component: _component_project_list_volume_progress_volume_progress_component__WEBPACK_IMPORTED_MODULE_46__["VolumeProgressComponent"] },
    { path: 'master-of-work', component: _component_master_of_work_master_of_work_component__WEBPACK_IMPORTED_MODULE_51__["MasterOfWorkComponent"] },
    { path: '404', component: _component_not_found_not_found_not_found_component__WEBPACK_IMPORTED_MODULE_47__["NotFoundComponent"] },
    { path: '**', component: _component_not_found_not_found_not_found_component__WEBPACK_IMPORTED_MODULE_47__["NotFoundComponent"] }
];
var AppModule = /** @class */ (function () {
    function AppModule() {
    }
    AppModule = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["NgModule"])({
            declarations: [
                _app_component__WEBPACK_IMPORTED_MODULE_4__["AppComponent"],
                _component_home_home_component__WEBPACK_IMPORTED_MODULE_5__["HomeComponent"],
                _shared_layout_nav_bar_nav_bar_component__WEBPACK_IMPORTED_MODULE_7__["NavBarComponent"],
                _component_account_account_component__WEBPACK_IMPORTED_MODULE_8__["AccountComponent"],
                _component_sop_list_sop_list_component__WEBPACK_IMPORTED_MODULE_9__["SopListComponent"],
                _component_staff_list_staff_list_component__WEBPACK_IMPORTED_MODULE_10__["StaffListComponent"],
                _component_staff_list_staff_staff_component__WEBPACK_IMPORTED_MODULE_11__["StaffComponent"],
                _component_admin_admin_component__WEBPACK_IMPORTED_MODULE_12__["AdminComponent"],
                _component_performance_project_performance_project_component__WEBPACK_IMPORTED_MODULE_13__["PerformanceProjectComponent"],
                _component_performance_project_performance_target_performance_target_component__WEBPACK_IMPORTED_MODULE_14__["PerformanceTargetComponent"],
                _component_performance_project_performance_report_performance_report_component__WEBPACK_IMPORTED_MODULE_15__["PerformanceReportComponent"],
                _component_work_schedule_work_schedule_component__WEBPACK_IMPORTED_MODULE_16__["WorkScheduleComponent"],
                _component_project_list_project_list_component__WEBPACK_IMPORTED_MODULE_17__["ProjectListComponent"],
                _component_project_list_project_project_component__WEBPACK_IMPORTED_MODULE_18__["ProjectComponent"],
                _component_authentification_authentification_component__WEBPACK_IMPORTED_MODULE_19__["AuthentificationComponent"],
                _component_authentification_sign_up_sign_up_component__WEBPACK_IMPORTED_MODULE_21__["SignUpComponent"],
                _component_sop_list_sop_creation_sop_creation_component__WEBPACK_IMPORTED_MODULE_23__["SopCreationComponent"],
                _shared_summary_summary_component__WEBPACK_IMPORTED_MODULE_25__["SummaryComponent"],
                _shared_modals_confirmation_confirmation_component__WEBPACK_IMPORTED_MODULE_24__["ConfirmationComponent"],
                _component_sop_list_sop_sop_component__WEBPACK_IMPORTED_MODULE_26__["SopComponent"],
                _component_project_list_project_creation_project_creation_component__WEBPACK_IMPORTED_MODULE_27__["ProjectCreationComponent"],
                _shared_modals_warning_warning_component__WEBPACK_IMPORTED_MODULE_28__["WarningComponent"],
                _component_activity_list_activity_list_component__WEBPACK_IMPORTED_MODULE_29__["ActivityListComponent"],
                _component_activity_list_activity_creation_activity_creation_component__WEBPACK_IMPORTED_MODULE_30__["ActivityCreationComponent"],
                _component_account_validation_account_validation_component__WEBPACK_IMPORTED_MODULE_31__["AccountValidationComponent"],
                _component_admin_users_admin_users_component__WEBPACK_IMPORTED_MODULE_32__["AdminUsersComponent"],
                _component_organization_management_organization_management_component__WEBPACK_IMPORTED_MODULE_33__["OrganizationManagementComponent"],
                _component_admin_users_admin_users_component__WEBPACK_IMPORTED_MODULE_32__["AdminUsersComponent"],
                _shared_modals_action_action_component__WEBPACK_IMPORTED_MODULE_34__["ActionComponent"],
                _component_job_list_job_list_component__WEBPACK_IMPORTED_MODULE_35__["JobListComponent"],
                _component_job_list_job_job_component__WEBPACK_IMPORTED_MODULE_36__["JobComponent"],
                _component_job_list_job_creation_job_creation_component__WEBPACK_IMPORTED_MODULE_37__["JobCreationComponent"],
                _documents_pdf_sop_pdf_sop_component__WEBPACK_IMPORTED_MODULE_38__["PdfSopComponent"],
                _documents_pdf_gantt_pdf_gantt_component__WEBPACK_IMPORTED_MODULE_39__["PdfGanttComponent"],
                _documents_pdf_progress_evaluation_pdf_progress_evaluation_component__WEBPACK_IMPORTED_MODULE_40__["PdfProgressEvaluationComponent"],
                _documents_pdf_performance_target_pdf_performance_target_component__WEBPACK_IMPORTED_MODULE_41__["PdfPerformanceTargetComponent"],
                _documents_pdf_performance_report_pdf_performance_report_component__WEBPACK_IMPORTED_MODULE_42__["PdfPerformanceReportComponent"],
                _documents_pdf_gantt_pdf_gantt_component__WEBPACK_IMPORTED_MODULE_39__["PdfGanttComponent"],
                _component_gantt_gantt_component__WEBPACK_IMPORTED_MODULE_43__["GanttComponent"],
                _component_gantt_gantt_creation_gantt_creation_component__WEBPACK_IMPORTED_MODULE_44__["GanttCreationComponent"],
                _shared_Loader_loader_loader_component__WEBPACK_IMPORTED_MODULE_45__["LoaderComponent"],
                _component_project_list_volume_progress_volume_progress_component__WEBPACK_IMPORTED_MODULE_46__["VolumeProgressComponent"],
                _component_not_found_not_found_not_found_component__WEBPACK_IMPORTED_MODULE_47__["NotFoundComponent"],
                _helpers_text_helper_text_helper_component__WEBPACK_IMPORTED_MODULE_48__["TextHelperComponent"],
                _shared_modals_activity_update_activity_update_component__WEBPACK_IMPORTED_MODULE_49__["ActivityUpdateComponent"],
                _shared_footer_footer_component__WEBPACK_IMPORTED_MODULE_52__["FooterComponent"],
                _shared_modals_activity_update_activity_update_component__WEBPACK_IMPORTED_MODULE_49__["ActivityUpdateComponent"],
                _helpers_date_helper_date_helper_component__WEBPACK_IMPORTED_MODULE_50__["DateHelperComponent"],
                _component_master_of_work_master_of_work_component__WEBPACK_IMPORTED_MODULE_51__["MasterOfWorkComponent"]
            ],
            imports: [
                _angular_common_http__WEBPACK_IMPORTED_MODULE_3__["HttpClientModule"],
                _angular_platform_browser__WEBPACK_IMPORTED_MODULE_0__["BrowserModule"],
                [_angular_router__WEBPACK_IMPORTED_MODULE_6__["RouterModule"].forRoot(routes)],
                _angular_forms__WEBPACK_IMPORTED_MODULE_20__["FormsModule"],
                _angular_forms__WEBPACK_IMPORTED_MODULE_20__["ReactiveFormsModule"],
                angular_bootstrap_md__WEBPACK_IMPORTED_MODULE_22__["MDBBootstrapModule"].forRoot()
            ],
            schemas: [_angular_core__WEBPACK_IMPORTED_MODULE_1__["NO_ERRORS_SCHEMA"]],
            providers: [_guards_auth_guard__WEBPACK_IMPORTED_MODULE_2__["AuthGuard"]],
            bootstrap: [_app_component__WEBPACK_IMPORTED_MODULE_4__["AppComponent"]]
        })
    ], AppModule);
    return AppModule;
}());



/***/ }),

/***/ "./src/app/component/account-validation/account-validation.component.html":
/*!********************************************************************************!*\
  !*** ./src/app/component/account-validation/account-validation.component.html ***!
  \********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<app-summary *ngIf=\"title !== null\"\r\n             title=\"{{title}}\"\r\n             text=\"{{message}}\"\r\n             buttonTitle=\"Home\" link=\"home\">\r\n</app-summary>\r\n"

/***/ }),

/***/ "./src/app/component/account-validation/account-validation.component.scss":
/*!********************************************************************************!*\
  !*** ./src/app/component/account-validation/account-validation.component.scss ***!
  \********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/component/account-validation/account-validation.component.ts":
/*!******************************************************************************!*\
  !*** ./src/app/component/account-validation/account-validation.component.ts ***!
  \******************************************************************************/
/*! exports provided: AccountValidationComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AccountValidationComponent", function() { return AccountValidationComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _objects_member_member_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../objects/member/member.service */ "./src/app/objects/member/member.service.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var AccountValidationComponent = /** @class */ (function () {
    function AccountValidationComponent(_memberService, _route, router) {
        this._memberService = _memberService;
        this._route = _route;
        this.router = router;
        this.seed = "";
        this.statut = false;
        this.message = "";
        this.title = "";
    }
    AccountValidationComponent.prototype.ngOnInit = function () {
        var _this = this;
        this._route.params.subscribe(function (params) {
            _this.seed = params['seed'];
        });
        console.log(this.seed);
        this._memberService.seedCheck(this.seed)
            .subscribe(function (res) {
            console.log("OK : ", res);
            _this.message = "Your account will be available when an administrator will have validate it.";
            _this.title = "Your mail has been validated";
            _this.statut = true;
        }, function (error) {
            console.log("ERREUR : ", error);
            _this.title = "ERRROR";
            _this.message = "The link you've just clicked is not valide anymore";
            _this.statut = false;
        });
    };
    AccountValidationComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-account-validation',
            template: __webpack_require__(/*! ./account-validation.component.html */ "./src/app/component/account-validation/account-validation.component.html"),
            styles: [__webpack_require__(/*! ./account-validation.component.scss */ "./src/app/component/account-validation/account-validation.component.scss")]
        }),
        __metadata("design:paramtypes", [_objects_member_member_service__WEBPACK_IMPORTED_MODULE_1__["MemberService"],
            _angular_router__WEBPACK_IMPORTED_MODULE_2__["ActivatedRoute"],
            _angular_router__WEBPACK_IMPORTED_MODULE_2__["Router"]])
    ], AccountValidationComponent);
    return AccountValidationComponent;
}());



/***/ }),

/***/ "./src/app/component/account/account.component.css":
/*!*********************************************************!*\
  !*** ./src/app/component/account/account.component.css ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/component/account/account.component.html":
/*!**********************************************************!*\
  !*** ./src/app/component/account/account.component.html ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div *ngIf=\"!changeFinished\" class=\"container\">\r\n  <div class=\"row row-first\">\r\n    <div class=\"col-12 card card-cascade hoverable\">\r\n      <!--Table-->\r\n      <div class=\"card-body card-body-cascade\">\r\n        My account\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class=\"row\" style=\"margin-top: 20px;\">\r\n    <div class=\"col-sm-12 col-lg-3\">\r\n      <p class=\"font-weight-bold\">Name first_name</p>\r\n    </div>\r\n    <div class=\"col-sm-12 col-lg-9 \">\r\n      <p class=\"float-lg-left float-sm-right\">{{name}} {{firstName}}</p>\r\n    </div>\r\n  </div>\r\n  <div class=\"row\" style=\"margin-top: 20px;\">\r\n    <div class=\"col-sm-12 col-lg-3\">\r\n      <p class=\"font-weight-bold\">Mail</p>\r\n    </div>\r\n    <div class=\"col-sm-12 col-lg-9 \">\r\n      <p class=\"float-lg-left float-sm-right\">{{mail}}</p>\r\n    </div>\r\n  </div>\r\n  <form (ngSubmit)=\"onSubmit()\">\r\n  <div class=\"row\" style=\"margin-top: 20px;\">\r\n    <div class=\"col-sm-12 col-lg-12\" style=\"padding-top: 30px;\">\r\n      <p class=\"font-weight-bold\">Change password</p>\r\n    </div>\r\n    <div class=\"col-sm-12 col-lg-3\">\r\n      <div class=\"md-form\">\r\n        <i class=\"fa fa-lock prefix grey-text\"></i>\r\n        <input required [(ngModel)]=\"actualPassword\" name=actualPassword type=\"password\" id=\"actualPassword\" class=\"form-control\">\r\n        <label for=\"actualPassword\">Actual password</label>\r\n      </div>\r\n    </div>\r\n    <div class=\"col-sm-12 col-lg-3\">\r\n      <div class=\"md-form\">\r\n        <i class=\"fa fa-lock prefix grey-text\"></i>\r\n        <input required [(ngModel)]=\"newPassword\" name=newPassword type=\"password\" id=\"newPassword\" class=\"form-control\">\r\n        <label for=\"newPassword\">New password</label>\r\n      </div>\r\n    </div>\r\n    <div class=\"col-sm-12 col-lg-3\">\r\n      <div class=\"md-form\">\r\n        <i class=\"fa fa-lock prefix grey-text\"></i>\r\n        <input required [(ngModel)]=\"newPasswordCheck\" name=password type=\"password\" id=\"newPasswordCheck\" class=\"form-control\">\r\n        <label for=\"newPasswordCheck\">Confirm new password</label>\r\n      </div>\r\n    </div>\r\n    <div *ngIf=\"errorMessage\" class=\"alert alert-danger\" role=\"alert\">\r\n      {{errorMessage}}\r\n    </div>\r\n    <div class=\"col-sm-12 col-lg-3\">\r\n      <div class=\"text-center mt-4\">\r\n        <button class=\"btn btn-default btn-sm\" type=\"submit\">Change</button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  </form>\r\n\r\n</div>\r\n\r\n<app-summary *ngIf=\"changeFinished\"\r\n             title=\"Success\"\r\n             text=\"Your password has been updated, please login to confirm your statut.\"\r\n             buttonTitle=\"Home\" link=\"home\">\r\n</app-summary>\r\n"

/***/ }),

/***/ "./src/app/component/account/account.component.ts":
/*!********************************************************!*\
  !*** ./src/app/component/account/account.component.ts ***!
  \********************************************************/
/*! exports provided: AccountComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AccountComponent", function() { return AccountComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _objects_member_member_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../objects/member/member.service */ "./src/app/objects/member/member.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var AccountComponent = /** @class */ (function () {
    function AccountComponent(_memberService) {
        this._memberService = _memberService;
        this.errorMessage = "";
        this.changeFinished = false;
    }
    AccountComponent.prototype.ngOnInit = function () {
        var userData = this._memberService.getUserDataFull();
        this.mail = userData['mail'];
        this.firstName = userData['first_name'];
        this.name = userData['name'];
    };
    AccountComponent.prototype.onSubmit = function () {
        this.errorMessage = "";
        if (this.actualPassword == null || this.actualPassword == "") {
            this.errorMessage = "Actual password is required.";
        }
        else if (this.newPassword == null || this.newPassword == "") {
            this.errorMessage = "New password is required.";
        }
        else if (this.newPasswordCheck == null || this.newPasswordCheck == "") {
            this.errorMessage = "New password confirmation is required.";
        }
        else if (this.newPassword !== this.newPasswordCheck) {
            this.errorMessage = "New password and confirmation not the same.";
        }
        else {
            this.sendPassword(this.actualPassword, this.newPassword, this.newPasswordCheck);
        }
    };
    AccountComponent.prototype.sendPassword = function (actual, newP, confP) {
        var _this = this;
        this._memberService.passwordUpdate(actual, newP, confP)
            .subscribe(function (res) {
            _this.errorMessage = "";
            _this.changeFinished = true;
        }, function (error) {
            console.log("ERREUR : ", error);
            _this.errorMessage = error.error.message;
        });
    };
    AccountComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-account',
            template: __webpack_require__(/*! ./account.component.html */ "./src/app/component/account/account.component.html"),
            styles: [__webpack_require__(/*! ./account.component.css */ "./src/app/component/account/account.component.css")]
        }),
        __metadata("design:paramtypes", [_objects_member_member_service__WEBPACK_IMPORTED_MODULE_1__["MemberService"]])
    ], AccountComponent);
    return AccountComponent;
}());



/***/ }),

/***/ "./src/app/component/activity-list/activity-creation/activity-creation.component.html":
/*!********************************************************************************************!*\
  !*** ./src/app/component/activity-list/activity-creation/activity-creation.component.html ***!
  \********************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class=\"container\" *ngIf=\"!ready\">\r\n  <div class=\"row-first\">\r\n    <app-loader></app-loader>\r\n  </div>\r\n</div>\r\n\r\n<div class=\"container\" *ngIf=\"ready\">\r\n\r\n  <!-- Back button -> Sop List -->\r\n  <div class=\"row row-first\">\r\n    <div class=\"col\">\r\n      <button type=\"button\" class=\"btn btn-outline-danger waves-effect\" data-toggle=\"modal\" data-target=\"#warningModal\"><h6 class=\"no-margin-bottom\"><i class=\"fa fa-times mr-3\"></i>Exit</h6></button>\r\n    </div>\r\n  </div>\r\n\r\n  <!-- Activity Form -->\r\n\r\n  <div class=\"row row-first justify-content-center\">\r\n\r\n    <!-- Card -->\r\n    <div class=\"col card card-cascade hoverable\">\r\n\r\n      <!-- Card content -->\r\n      <div class=\"card-body card-body-cascade\">\r\n\r\n        <p class=\"h4 text-center mb-4\">Activities Creation</p>\r\n\r\n        <!-- Activity Form -->\r\n        <form>\r\n\r\n          <!-- Title -->\r\n          <div class=\"row md-form\">\r\n            <div class=\"offset-1 col-10\">\r\n              <input (keyup)=\"verification()\" [(ngModel)]=\"new_activity.activity_title\" name=\"newActivityTitle\" type=\"text\" id=\"newActivityTitle\" class=\"form-control\">\r\n              <label for=\"newActivityTitle\">Activity Name</label>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- Description -->\r\n          <div class=\"row md-form\">\r\n            <div class=\"offset-1 col-10\">\r\n              <textarea (keyup)=\"verification()\" [(ngModel)]=\"new_activity.activity_description\" name=\"newActivityDescription\" type=\"text\" id=\"newActivityDescription\" class=\"form-control md-textarea\" rows=\"1\" ></textarea>\r\n              <label for=\"newActivityDescription\">Activity description</label>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- Management Level -->\r\n          <div class=\"row md-form\">\r\n            <div class=\"offset-1 col-10\">\r\n              <p class=\"text-center mb-4 text-description\"> Please select a management level </p>\r\n              <select [disabled]=\"step==2\" (change)=\"verification()\" [(ngModel)]=\"new_activity.managment_level_id\" name=\"newActivityLevelId\" class=\"form-control\">\r\n                <option value=\"\" disabled selected>Choose your management level</option>\r\n                <option *ngFor=\"let m of management_levels\" value=\"{{m.managment_level_id}}\">{{m.managment_level_label}}</option>\r\n              </select>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- Unit -->\r\n          <div class=\"row md-form\">\r\n            <div class=\"offset-1 col-10\">\r\n              <p class=\"text-center mb-4 text-description\"> Please select a unit</p>\r\n              <select [disabled]=\"step==2\" (change)=\"verification()\" [(ngModel)]=\"new_unit_id\" name=\"unit_id_selected\" class=\"form-control\">\r\n                <option value=\"\" disabled selected>Choose an unit</option>\r\n                <option *ngFor=\"let u of units\" value=\"{{u.unit_id}}\">{{u.unit_name}}</option>\r\n              </select>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- Type Duration -->\r\n          <div class=\"row md-form\">\r\n            <div class=\"offset-1 col-10\">\r\n              <p class=\"text-center mb-4 text-description\"> Please select a duration type </p>\r\n              <select [disabled]=\"step==2\" (change)=\"verification()\" [(ngModel)]=\"new_activity.activity_type_duration\" name=\"newActivityTypeDuration\" class=\"form-control\">\r\n                <option value=\"\" disabled selected>Choose your duration type</option>\r\n                <option value=\"minutes\">Minute</option>\r\n                <option value=\"hours\">Hour</option>\r\n                <option value=\"days\">Day</option>\r\n                <option value=\"months\">Month</option>\r\n              </select>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- Duration -->\r\n          <div class=\"row md-form\">\r\n            <div class=\"offset-1 col-10\">\r\n              <input (keyup)=\"verification()\" [(ngModel)]=\"new_activity.activity_duration\" name=\"newActivityDuration\" type=\"number\" id=\"newActivityDuration\" min=\"0\" class=\"form-control\">\r\n              <label for=\"newActivityDuration\">Duration</label>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- Type output -->\r\n          <div class=\"row md-form\">\r\n            <div class=\"offset-1 col-10\">\r\n              <input (keyup)=\"verification()\" [(ngModel)]=\"new_activity.activity_type_output\" name=\"newActivityTypeOutput\" type=\"text\" id=\"newActivityTypeOutput\" class=\"form-control\">\r\n              <label for=\"newActivityTypeOutput\">Type of output</label>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"row md-form\" *ngIf=\"step == 1\">\r\n            <div class=\"offset-1 col-5\">\r\n              <button class=\"btn btn-primary waves-effect\" type=\"button\" (click)=\"addActivity()\" [disabled]=\"!fieldsReady\">Add</button>\r\n            </div>\r\n            <div class=\"col-5 row justify-content-end\">\r\n              <div class=\"\">\r\n                <button class=\"btn btn-success waves-effect\" data-toggle=\"modal\" data-target=\"#confirmationModal\" type=\"button\">Finish</button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"row md-form\" *ngIf=\"step == 2\">\r\n            <div class=\"offset-1 col-5\">\r\n              <button class=\"btn btn-primary waves-effect\" type=\"button\" (click)=\"addSubActivity()\" [disabled]=\"!fieldsReady\">Add</button>\r\n            </div>\r\n            <div class=\"col-5 row justify-content-end\">\r\n              <div class=\"\">\r\n                <button class=\"btn btn-primary waves-effect\" (click)=\"changeStep(false);\" type=\"button\">Back</button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n        </form>\r\n\r\n      </div>\r\n      <!-- Card content -->\r\n    </div>\r\n    <!-- Card -->\r\n\r\n  </div>\r\n\r\n  <!-- Activity Form -->\r\n\r\n  <!--Title of the step-->\r\n  <div class=\"row row-first\">\r\n    <h4>\r\n      <span class=\"badge badge-pill badge-primary\" [hidden]=\"step != 1\">Activity List</span>\r\n      <span class=\"badge badge-pill badge-primary\" *ngIf=\"activity_selected != null\" [hidden]=\"step != 2\">{{activity_selected.activity_title}}</span>\r\n    </h4>\r\n    <!-- Error alert -->\r\n    <div *ngIf=\"errorMessage\" class=\"col offset-2 row justify-content-end error-text\">\r\n      <i>{{errorMessage}}</i>\r\n    </div>\r\n  </div>\r\n\r\n  <!-- SOP Display -->\r\n  <div class=\"row row-last justify-content-center\">\r\n\r\n        <table class=\"col hoverable table table-borderless table-hover table-fixed\" id=\"activiy-table\" [hidden]=\"step != 1\">\r\n\r\n          <!--Table head-->\r\n          <thead class=\"\">\r\n          <tr class=\"text-white text-center\">\r\n            <th style=\"width: 10%\">Sub Activities</th>\r\n            <th (click)=\"sortTable(1)\"><a>Title</a></th>\r\n            <th (click)=\"sortTable(2)\"><a>Duration</a></th>\r\n            <th (click)=\"sortTable(3)\"><a>Type of output</a></th>\r\n            <th style=\"width: 10%\" >Delete</th>\r\n          </tr>\r\n          </thead>\r\n\r\n          <tbody>\r\n\r\n          <tr class=\"text-center\" *ngFor=\"let activity of convertMap(activities)\">\r\n            <ng-container *ngIf=\"activity['action'] != 'delete'\">\r\n              <td class=\"text-center\">\r\n                <a (click)=\"selectActivity(activity)\"><i class=\"fa fa-plus text-blue\"></i></a>\r\n              </td>\r\n              <td>{{activity['activity'].activity_title}}</td>\r\n              <td>{{activity['activity'].activity_duration}} {{activity['activity'].activity_type_duration}}</td>\r\n              <td>{{activity['activity'].activity_type_output}}</td>\r\n              <td>\r\n                <a (click)=\"deleteActivity(activity)\"><i class=\"fa fa-close text-red\"></i></a>\r\n              </td>\r\n            </ng-container>\r\n          </tr>\r\n          </tbody>\r\n        </table>\r\n\r\n        <table class=\"col hoverable table table-borderless table-hover table-fixed\" id=\"sub_activity-table\" [hidden]=\"step != 2\" *ngIf=\"activity_selected != null\">\r\n\r\n          <!--Table head-->\r\n          <thead class=\"\">\r\n          <tr class=\"text-white text-center\">\r\n            <th (click)=\"sortTable1(0)\"><a>Title</a></th>\r\n            <th (click)=\"sortTable1(1)\"><a>Duration</a></th>\r\n            <th (click)=\"sortTable1(2)\"><a>Type of output</a></th>\r\n            <th style=\"width: 10%\">Delete</th>\r\n          </tr>\r\n          </thead>\r\n\r\n          <tbody>\r\n\r\n          <tr class=\"text-center\" *ngFor=\"let activity of activity_selected['children']\" [hidden]=\"step !=2\">\r\n            <ng-container *ngIf=\"activity['action'] != 'delete'\">\r\n              <td>{{activity['activity'].activity_title}}</td>\r\n              <td>{{activity['activity'].activity_duration}} {{activity['activity'].activity_type_duration}}</td>\r\n              <td>{{activity['activity'].activity_type_output}}</td>\r\n              <td>\r\n                <a (click)=\"deleteSubActivity(activity)\"><i class=\"fa fa-close text-red\"></i></a>\r\n              </td>\r\n            </ng-container>\r\n          </tr>\r\n          </tbody>\r\n\r\n        </table>\r\n\r\n  </div>\r\n  <!-- Activity Display -->\r\n\r\n</div>\r\n\r\n<!-- Modal confirmation -->\r\n<app-confirmation title=\"Confirmation activities creation\"\r\n                  text=\"Are you sure all informations provided are correct ?\"\r\n                  [isLinkActive]=false\r\n                  link=\"sop-list\"\r\n                  (success)=\"onSubmit()\"\r\n                  >\r\n</app-confirmation>\r\n\r\n<!-- Modal warning -->\r\n<app-warning title=\"Exit\"\r\n             text=\"Are you sure you want to go back to the SOP list ?\"\r\n             [isLink]=true\r\n             link=\"sop-list\">\r\n</app-warning>\r\n\r\n\r\n<script>\r\n  // Tooltips Initialization\r\n  $(function () {\r\n    $('[data-toggle=\"tooltip\"]').tooltip()\r\n  })\r\n</script>\r\n"

/***/ }),

/***/ "./src/app/component/activity-list/activity-creation/activity-creation.component.scss":
/*!********************************************************************************************!*\
  !*** ./src/app/component/activity-list/activity-creation/activity-creation.component.scss ***!
  \********************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/component/activity-list/activity-creation/activity-creation.component.ts":
/*!******************************************************************************************!*\
  !*** ./src/app/component/activity-list/activity-creation/activity-creation.component.ts ***!
  \******************************************************************************************/
/*! exports provided: ActivityCreationComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ActivityCreationComponent", function() { return ActivityCreationComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _objects_sop_sop_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../objects/sop/sop.service */ "./src/app/objects/sop/sop.service.ts");
/* harmony import */ var _objects_activity_activity__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../objects/activity/activity */ "./src/app/objects/activity/activity.ts");
/* harmony import */ var _objects_activity_activity_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../objects/activity/activity.service */ "./src/app/objects/activity/activity.service.ts");
/* harmony import */ var _objects_managment_level_managment_level_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../objects/managment_level/managment-level.service */ "./src/app/objects/managment_level/managment-level.service.ts");
/* harmony import */ var _objects_unit_unit_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../objects/unit/unit.service */ "./src/app/objects/unit/unit.service.ts");
/* harmony import */ var _objects_job_job_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../objects/job/job.service */ "./src/app/objects/job/job.service.ts");
/* harmony import */ var _objects_job_job__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../objects/job/job */ "./src/app/objects/job/job.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = y[op[0] & 2 ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [0, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};









var ActivityCreationComponent = /** @class */ (function () {
    function ActivityCreationComponent(router, _sopService, _activityService, _managmentService, _unitService, _jobService) {
        this.router = router;
        this._sopService = _sopService;
        this._activityService = _activityService;
        this._managmentService = _managmentService;
        this._unitService = _unitService;
        this._jobService = _jobService;
        this.units = [];
        this.errorMessage = "";
        this.sop_id = "";
        this.activities = new Map();
        this.nb_new_a = 0; //The number of new activities
        this.ready = false;
        this.new_activity = new _objects_activity_activity__WEBPACK_IMPORTED_MODULE_3__["Activity"]();
        this.isNewSop = false;
        this.fieldsReady = false;
    }
    ActivityCreationComponent.prototype.ngOnInit = function () {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this.sop_id = this._sopService.getSopIdLocal();
                        this.step = 1;
                        return [4 /*yield*/, this.loadData()];
                    case 1:
                        _a.sent();
                        this.isNewSop = this.activity_sop == null;
                        this.generateSopActivity();
                        return [4 /*yield*/, this.initializeActivity(false)];
                    case 2:
                        _a.sent();
                        this.ready = true;
                        return [2 /*return*/];
                }
            });
        });
    };
    //Set the fields to the right value
    ActivityCreationComponent.prototype.initializeActivity = function (isChild) {
        if (!isChild) {
            this.new_activity.activity_type_duration = "days";
            this.new_activity.managment_level_id = this.management_levels[0].managment_level_id.toString();
            this.new_unit_id = this.units[0].unit_id;
            this.new_activity.activity_id_is_father = null;
        }
        else {
            this.new_activity.activity_type_duration = this.activity_selected['activity'].activity_type_duration;
            this.new_activity.managment_level_id = this.activity_selected['activity'].managment_level_id;
            this.new_unit_id = this.activity_selected['unit'];
            this.new_activity.activity_id_is_father = this.activity_selected['activity'].activity_id;
        }
        this.new_activity.activity_title = "";
        this.new_activity.activity_type_output = "";
        this.new_activity.activity_type = "";
        this.new_activity.activity_shape = "";
        this.new_activity.activity_duration = null;
        this.new_activity.activity_description = "";
        this.new_activity.sop_id = this.sop_id;
    };
    ActivityCreationComponent.prototype.onSubmit = function () {
        return __awaiter(this, void 0, void 0, function () {
            var _i, _a, element, id, job_id, _b, _c, sub_a, ids, id2, isChanged, old_job, _d, _e, sub_a, ids, error_1;
            return __generator(this, function (_f) {
                switch (_f.label) {
                    case 0:
                        _f.trys.push([0, 36, , 37]);
                        //this.errorMessage = "";
                        this.ready = false;
                        _i = 0, _a = this.convertMap(this.activities);
                        _f.label = 1;
                    case 1:
                        if (!(_i < _a.length)) return [3 /*break*/, 34];
                        element = _a[_i];
                        if (!(element['state'] == 'new_activity')) return [3 /*break*/, 17];
                        return [4 /*yield*/, this._activityService.createActivity(element['activity']).toPromise()];
                    case 2:
                        id = _f.sent();
                        return [4 /*yield*/, this._jobService.createJob(element['activity'].activity_title, id['data']['activity_id'], this.sop_id).toPromise()];
                    case 3:
                        job_id = _f.sent();
                        return [4 /*yield*/, this._unitService.bindUnitActivity(element['unit'], id['data']['activity_id']).toPromise()];
                    case 4:
                        _f.sent();
                        return [4 /*yield*/, this._jobService.bind_job_activity(job_id['data']['job_id'], id['data']['activity_id']).toPromise()];
                    case 5:
                        _f.sent();
                        return [4 /*yield*/, this._jobService.bind_job_activity(this.job_sop.job_id, id['data']['activity_id']).toPromise()];
                    case 6:
                        _f.sent();
                        _b = 0, _c = element['children'];
                        _f.label = 7;
                    case 7:
                        if (!(_b < _c.length)) return [3 /*break*/, 13];
                        sub_a = _c[_b];
                        /* SUB ACTIVITY CREATION */
                        sub_a['activity'].activity_id_is_father = id['data']['activity_id'];
                        return [4 /*yield*/, this._activityService.createActivity(sub_a['activity']).toPromise()];
                    case 8:
                        ids = _f.sent();
                        return [4 /*yield*/, this._unitService.bindUnitActivity(sub_a['unit'], ids['data']['activity_id']).toPromise()];
                    case 9:
                        _f.sent();
                        return [4 /*yield*/, this._jobService.bind_job_activity(job_id['data']['job_id'], ids['data']['activity_id']).toPromise()];
                    case 10:
                        _f.sent();
                        return [4 /*yield*/, this._jobService.bind_job_activity(this.job_sop.job_id, ids['data']['activity_id']).toPromise()];
                    case 11:
                        _f.sent();
                        _f.label = 12;
                    case 12:
                        _b++;
                        return [3 /*break*/, 7];
                    case 13:
                        //We generate the super activity linked
                        /* SUPER ACTIVITY CREATION */
                        this.generateSuperActivity(element, id['data']['activity_id']);
                        return [4 /*yield*/, this._activityService.createActivity(element['activity']).toPromise()];
                    case 14:
                        id2 = _f.sent();
                        return [4 /*yield*/, this._unitService.bindUnitActivity(element['unit'], id2['data']['activity_id']).toPromise()];
                    case 15:
                        _f.sent();
                        return [4 /*yield*/, this._jobService.bind_job_activity(job_id['data']['job_id'], id2['data']['activity_id']).toPromise()];
                    case 16:
                        _f.sent();
                        console.log('Super activity created no problem.');
                        return [3 /*break*/, 33];
                    case 17:
                        if (!(element['action'] == 'delete')) return [3 /*break*/, 20];
                        /* ACTIVITY DELETE */
                        element['state'] = 'new_activity';
                        this.deleteActivity(element);
                        return [4 /*yield*/, this._activityService.delete(element['super'].activity_id, null).toPromise()];
                    case 18:
                        _f.sent();
                        return [4 /*yield*/, this._activityService.delete(element['activity'].activity_id, this.job_sop.job_id).toPromise()];
                    case 19:
                        _f.sent();
                        return [3 /*break*/, 33];
                    case 20:
                        isChanged = false;
                        return [4 /*yield*/, this._jobService.selectFromActivity(element['activity'].activity_id).toPromise()];
                    case 21:
                        old_job = _f.sent();
                        console.log('Old job : ', old_job);
                        _d = 0, _e = element['children'];
                        _f.label = 22;
                    case 22:
                        if (!(_d < _e.length)) return [3 /*break*/, 31];
                        sub_a = _e[_d];
                        if (!(sub_a['action'] == 'delete' && element['action'] != 'delete')) return [3 /*break*/, 25];
                        /* SUB ACTIVITY DELETE */
                        isChanged = true;
                        return [4 /*yield*/, this._activityService.delete(sub_a['activity'].activity_id, null).toPromise()];
                    case 23:
                        _f.sent();
                        sub_a['state'] = 'new_sub_activity';
                        this.deleteSubActivity(sub_a);
                        this.generateSuperActivity(element, -1);
                        return [4 /*yield*/, this._activityService.update(element['super']).toPromise()];
                    case 24:
                        _f.sent();
                        return [3 /*break*/, 30];
                    case 25:
                        if (!(sub_a['state'] == 'new_sub_activity')) return [3 /*break*/, 30];
                        /* SUB ACTIVITY CREATION */
                        //We add every new sub_activities
                        isChanged = true;
                        return [4 /*yield*/, this._activityService.createActivity(sub_a['activity']).toPromise()];
                    case 26:
                        ids = _f.sent();
                        return [4 /*yield*/, this._unitService.bindUnitActivity(sub_a['unit'], ids['data']['activity_id']).toPromise()];
                    case 27:
                        _f.sent();
                        return [4 /*yield*/, this._jobService.bind_job_activity(old_job['data']['simple_jobs'][0]['job_id'], ids['data']['activity_id']).toPromise()];
                    case 28:
                        _f.sent();
                        return [4 /*yield*/, this._jobService.bind_job_activity(this.job_sop.job_id, ids['data']['activity_id']).toPromise()];
                    case 29:
                        _f.sent();
                        _f.label = 30;
                    case 30:
                        _d++;
                        return [3 /*break*/, 22];
                    case 31:
                        if (!isChanged) return [3 /*break*/, 33];
                        /* SUPER ACTIVITY UPDATE */
                        //We generate the super activity linked, -1 means that we already have the good idea
                        this.generateSuperActivity(element, -1);
                        console.log('Ok super activity now : ', element['super']);
                        console.log('with this element : ', element);
                        return [4 /*yield*/, this._activityService.update(element['super']).toPromise()];
                    case 32:
                        _f.sent();
                        _f.label = 33;
                    case 33:
                        _i++;
                        return [3 /*break*/, 1];
                    case 34:
                        console.log("Let's try");
                        return [4 /*yield*/, this.generateSopActivity()];
                    case 35:
                        _f.sent();
                        console.log("done");
                        this.router.navigate(["/sop-list"]);
                        return [3 /*break*/, 37];
                    case 36:
                        error_1 = _f.sent();
                        this.errorMessage = error_1.message;
                        this.ready = true;
                        return [3 /*break*/, 37];
                    case 37: return [2 /*return*/];
                }
            });
        });
    };
    //Load every data
    ActivityCreationComponent.prototype.loadData = function () {
        return __awaiter(this, void 0, void 0, function () {
            var u, error_2, m, error_3, activities, _i, _a, activity, unit, e, j, _b, _c, activity, _d, _e, activity, unit, e, error_4;
            return __generator(this, function (_f) {
                switch (_f.label) {
                    case 0:
                        _f.trys.push([0, 2, , 3]);
                        this.errorMessage = "";
                        return [4 /*yield*/, this._unitService.selectAllFromSop(this.sop_id).toPromise()];
                    case 1:
                        u = _f.sent();
                        this.units = u['data'];
                        return [3 /*break*/, 3];
                    case 2:
                        error_2 = _f.sent();
                        this.errorMessage = "There is no activity yet";
                        return [3 /*break*/, 3];
                    case 3:
                        _f.trys.push([3, 5, , 6]);
                        this.errorMessage = "";
                        return [4 /*yield*/, this._managmentService.selectAll().toPromise()];
                    case 4:
                        m = _f.sent();
                        this.management_levels = m['data'];
                        return [3 /*break*/, 6];
                    case 5:
                        error_3 = _f.sent();
                        this.errorMessage = error_3.message;
                        return [3 /*break*/, 6];
                    case 6:
                        _f.trys.push([6, 18, , 19]);
                        this.errorMessage = "";
                        return [4 /*yield*/, this._activityService.selectAllFromSop(this.sop_id).toPromise()];
                    case 7:
                        activities = _f.sent();
                        _i = 0, _a = activities['data'];
                        _f.label = 8;
                    case 8:
                        if (!(_i < _a.length)) return [3 /*break*/, 13];
                        activity = _a[_i];
                        if (!(activity.activity_id_is_father == null || activity.activity_id_is_father == "")) return [3 /*break*/, 12];
                        if (!(activity.activity_type != 'super_activity' && activity.activity_type != 'sop')) return [3 /*break*/, 10];
                        return [4 /*yield*/, this._unitService.selectAllFromActivity(activity.activity_id).toPromise()];
                    case 9:
                        unit = _f.sent();
                        e = {
                            activity: activity,
                            unit: unit['data'][0].unit_id,
                            state: "old_activity",
                            children: [],
                            action: "",
                            super: null
                        };
                        this.activities.set(activity.activity_id, e);
                        return [3 /*break*/, 12];
                    case 10:
                        if (!(activity.activity_type == 'sop')) return [3 /*break*/, 12];
                        console.log('activity : ', activity);
                        this.activity_sop = activity;
                        this.isNewSop = false;
                        return [4 /*yield*/, this._jobService.selectFromActivity(activity.activity_id).toPromise()];
                    case 11:
                        j = _f.sent();
                        this.job_sop = j['data']['sop_job'];
                        _f.label = 12;
                    case 12:
                        _i++;
                        return [3 /*break*/, 8];
                    case 13:
                        for (_b = 0, _c = activities['data']; _b < _c.length; _b++) {
                            activity = _c[_b];
                            if (activity.activity_id_is_father != null || activity.activity_id_is_father != "") {
                                if (activity.activity_type == 'super_activity') {
                                    this.activities.get(activity.activity_id_is_father)['super'] = activity;
                                }
                            }
                        }
                        _d = 0, _e = activities['data'];
                        _f.label = 14;
                    case 14:
                        if (!(_d < _e.length)) return [3 /*break*/, 17];
                        activity = _e[_d];
                        if (!(activity.activity_id_is_father != null && activity.activity_id_is_father != "" && activity.activity_type != "super_activity")) return [3 /*break*/, 16];
                        return [4 /*yield*/, this._unitService.selectAllFromActivity(activity.activity_id).toPromise()];
                    case 15:
                        unit = _f.sent();
                        e = {
                            activity: activity,
                            unit: unit['data'][0],
                            state: "old_sub_activity",
                        };
                        this.activities.get(activity.activity_id_is_father)['children'].push(e);
                        _f.label = 16;
                    case 16:
                        _d++;
                        return [3 /*break*/, 14];
                    case 17: return [3 /*break*/, 19];
                    case 18:
                        error_4 = _f.sent();
                        this.errorMessage = "No activity yet";
                        return [3 /*break*/, 19];
                    case 19: return [2 /*return*/];
                }
            });
        });
    };
    //Convert map to array to use it in the view
    ActivityCreationComponent.prototype.convertMap = function (map) {
        return Array.from(map.values());
    };
    //Select the activity clicked and go to its children
    ActivityCreationComponent.prototype.selectActivity = function (activity) {
        this.activity_selected = activity;
        this.initializeActivity(true);
        this.step = 2;
    };
    //Change the view between activity and sub activities
    ActivityCreationComponent.prototype.changeStep = function (next) {
        if (next && this.step < 2) {
            this.step++;
            this.initializeActivity(true);
        }
        else if (!next && this.step > 1) {
            this.step--;
            this.initializeActivity(false);
        }
    };
    ActivityCreationComponent.prototype.addActivity = function () {
        //We set a fictive id and store the element;
        this.new_activity.activity_id = 'n' + this.nb_new_a;
        this.nb_new_a++;
        //We copie the element to make it unique
        var activity = JSON.parse(JSON.stringify(this.new_activity));
        var unit = JSON.parse(JSON.stringify(this.new_unit_id));
        //We store it as others
        var e = {
            activity: activity,
            unit: unit,
            state: "new_activity",
            children: [],
            action: ""
        };
        this.activities.set(activity.activity_id, e);
        this.initializeActivity(false);
    };
    ActivityCreationComponent.prototype.addSubActivity = function () {
        //We set a fictive id and store the element;
        this.new_activity.activity_id = 'n' + this.nb_new_a;
        this.nb_new_a++;
        //We copie the element to make it unique
        var activity = JSON.parse(JSON.stringify(this.new_activity));
        var unit = JSON.parse(JSON.stringify(this.new_unit_id));
        //We store it as others
        var e = {
            activity: activity,
            unit: unit,
            state: "new_sub_activity",
            action: ""
        };
        this.activities.get(this.activity_selected['activity'].activity_id)['children'].push(e);
        this.initializeActivity(true);
    };
    ActivityCreationComponent.prototype.deleteActivity = function (activity) {
        if (activity['state'] == 'new_activity') {
            this.activities.delete(activity['activity'].activity_id);
        }
        else {
            activity['action'] = 'delete';
        }
    };
    ActivityCreationComponent.prototype.deleteSubActivity = function (activity) {
        if (activity['state'] == 'new_sub_activity') {
            var i = this.activity_selected['children'].indexOf(activity);
            this.activity_selected['children'].splice(i, 1);
        }
        else {
            activity['action'] = 'delete';
        }
    };
    //Sort tables
    ActivityCreationComponent.prototype.sortTable = function (n) {
        var table, rows, switching, i, x, y, shouldSwitch, dir, switchcount = 0;
        table = document.getElementById("activiy-table");
        switching = true;
        // Set the sorting direction to ascending:
        dir = "asc";
        /* Make a loop that will continue until
        no switching has been done: */
        while (switching) {
            // Start by saying: no switching is done:
            switching = false;
            rows = table.getElementsByTagName("TR");
            /* Loop through all table rows (except the
            first, which contains table headers): */
            for (i = 1; i < (rows.length - 1); i++) {
                // Start by saying there should be no switching:
                shouldSwitch = false;
                /* Get the two elements you want to compare,
                one from current row and one from the next: */
                x = rows[i].getElementsByTagName("TD")[n];
                y = rows[i + 1].getElementsByTagName("TD")[n];
                /* Check if the two rows should switch place,
                based on the direction, asc or desc: */
                if (dir == "asc") {
                    if (x.innerHTML.toLowerCase() > y.innerHTML.toLowerCase()) {
                        // If so, mark as a switch and break the loop:
                        shouldSwitch = true;
                        break;
                    }
                }
                else if (dir == "desc") {
                    if (x.innerHTML.toLowerCase() < y.innerHTML.toLowerCase()) {
                        // If so, mark as a switch and break the loop:
                        shouldSwitch = true;
                        break;
                    }
                }
            }
            if (shouldSwitch) {
                /* If a switch has been marked, make the switch
                and mark that a switch has been done: */
                rows[i].parentNode.insertBefore(rows[i + 1], rows[i]);
                switching = true;
                // Each time a switch is done, increase this count by 1:
                switchcount++;
            }
            else {
                /* If no switching has been done AND the direction is "asc",
                set the direction to "desc" and run the while loop again. */
                if (switchcount == 0 && dir == "asc") {
                    dir = "desc";
                    switching = true;
                }
            }
        }
    };
    ActivityCreationComponent.prototype.sortTable1 = function (n) {
        var table, rows, switching, i, x, y, shouldSwitch, dir, switchcount = 0;
        table = document.getElementById("sub_activity-table");
        switching = true;
        // Set the sorting direction to ascending:
        dir = "asc";
        /* Make a loop that will continue until
        no switching has been done: */
        while (switching) {
            // Start by saying: no switching is done:
            switching = false;
            rows = table.getElementsByTagName("TR");
            /* Loop through all table rows (except the
            first, which contains table headers): */
            for (i = 1; i < (rows.length - 1); i++) {
                // Start by saying there should be no switching:
                shouldSwitch = false;
                /* Get the two elements you want to compare,
                one from current row and one from the next: */
                x = rows[i].getElementsByTagName("TD")[n];
                y = rows[i + 1].getElementsByTagName("TD")[n];
                /* Check if the two rows should switch place,
                based on the direction, asc or desc: */
                if (dir == "asc") {
                    if (x.innerHTML.toLowerCase() > y.innerHTML.toLowerCase()) {
                        // If so, mark as a switch and break the loop:
                        shouldSwitch = true;
                        break;
                    }
                }
                else if (dir == "desc") {
                    if (x.innerHTML.toLowerCase() < y.innerHTML.toLowerCase()) {
                        // If so, mark as a switch and break the loop:
                        shouldSwitch = true;
                        break;
                    }
                }
            }
            if (shouldSwitch) {
                /* If a switch has been marked, make the switch
                and mark that a switch has been done: */
                rows[i].parentNode.insertBefore(rows[i + 1], rows[i]);
                switching = true;
                // Each time a switch is done, increase this count by 1:
                switchcount++;
            }
            else {
                /* If no switching has been done AND the direction is "asc",
                set the direction to "desc" and run the while loop again. */
                if (switchcount == 0 && dir == "asc") {
                    dir = "desc";
                    switching = true;
                }
            }
        }
    };
    ActivityCreationComponent.prototype.generateSuperActivity = function (element, id) {
        if (id != -1) {
            element['activity'].activity_type = "super_activity";
            element['activity'].activity_id_is_father = id;
        }
        else {
            element['super'].activity_duration = element['activity'].activity_duration;
        }
        for (var _i = 0, _a = element['children']; _i < _a.length; _i++) {
            var sub_a = _a[_i];
            if (id == -1) {
                element['super'].activity_duration += sub_a['activity'].activity_duration;
            }
            else {
                element['activity'].activity_duration += sub_a['activity'].activity_duration;
            }
        }
    };
    ActivityCreationComponent.prototype.generateSopActivity = function () {
        return __awaiter(this, void 0, void 0, function () {
            var activity, s, sop, minutes, _i, _a, element, unit_id, id, job_id, error_5, error_6;
            return __generator(this, function (_b) {
                switch (_b.label) {
                    case 0:
                        if (!this.isNewSop) return [3 /*break*/, 2];
                        //We get the SOP
                        activity = new _objects_activity_activity__WEBPACK_IMPORTED_MODULE_3__["Activity"]();
                        return [4 /*yield*/, this._sopService.getSop(this.sop_id).toPromise()];
                    case 1:
                        s = _b.sent();
                        sop = s['data'];
                        //Automatic
                        activity.activity_type = "sop";
                        activity.sop_id = this.sop_id;
                        activity.activity_id_is_father = null;
                        //Can be choosen
                        activity.activity_title = sop.sop_title;
                        activity.activity_description = sop.sop_objectives;
                        //Calculated
                        activity.activity_duration = null;
                        //Need to be choosen
                        activity.activity_type_output = "";
                        activity.activity_shape = "";
                        activity.managment_level_id = this.management_levels[0].managment_level_id.toString();
                        return [3 /*break*/, 3];
                    case 2:
                        activity = this.activity_sop;
                        console.log('act : ', this.activity_sop);
                        _b.label = 3;
                    case 3:
                        minutes = 0;
                        for (_i = 0, _a = this.convertMap(this.activities); _i < _a.length; _i++) {
                            element = _a[_i];
                            //We convert all durations into minutes
                            if (element['activity'].activity_type_duration == 'months') {
                                minutes += (element['activity'].activity_duration) * 30 * 24 * 60;
                            }
                            else if (element['activity'].activity_type_duration == 'days') {
                                minutes += (element['activity'].activity_duration) * 24 * 60;
                            }
                            else if (element['activity'].activity_type_duration == 'hours') {
                                minutes += (element['activity'].activity_duration) * 60;
                            }
                            if (element['activity'].activity_type_duration == 'minutes') {
                                minutes += element['activity'].activity_duration;
                            }
                        }
                        activity.activity_type_duration = 'days';
                        activity.activity_duration = Math.ceil(minutes / 60 / 24) + 1;
                        if (!this.isNewSop) return [3 /*break*/, 11];
                        _b.label = 4;
                    case 4:
                        _b.trys.push([4, 9, , 10]);
                        unit_id = this.units[0].unit_id;
                        return [4 /*yield*/, this._activityService.createActivity(activity).toPromise()];
                    case 5:
                        id = _b.sent();
                        return [4 /*yield*/, this._jobService.createJob(activity.activity_title, id['data']['activity_id'], this.sop_id).toPromise()];
                    case 6:
                        job_id = _b.sent();
                        return [4 /*yield*/, this._unitService.bindUnitActivity(unit_id, id['data']['activity_id']).toPromise()];
                    case 7:
                        _b.sent();
                        return [4 /*yield*/, this._jobService.bind_job_activity(job_id['data']['job_id'], id['data']['activity_id']).toPromise()];
                    case 8:
                        _b.sent();
                        this.isNewSop = false;
                        this.job_sop = new _objects_job_job__WEBPACK_IMPORTED_MODULE_8__["Job"]();
                        this.job_sop.job_id = job_id['data']['job_id'];
                        activity.activity_id = id['data']['activity_id'];
                        this.activity_sop = activity;
                        return [3 /*break*/, 10];
                    case 9:
                        error_5 = _b.sent();
                        this.errorMessage = error_5.message;
                        return [3 /*break*/, 10];
                    case 10: return [3 /*break*/, 14];
                    case 11:
                        _b.trys.push([11, 13, , 14]);
                        console.log('up + : ', activity);
                        return [4 /*yield*/, this._activityService.update(activity).toPromise()];
                    case 12:
                        _b.sent();
                        return [3 /*break*/, 14];
                    case 13:
                        error_6 = _b.sent();
                        this.errorMessage = error_6.message;
                        return [3 /*break*/, 14];
                    case 14: return [2 /*return*/];
                }
            });
        });
    };
    ActivityCreationComponent.prototype.verification = function () {
        if (this.new_activity.activity_title == "") {
            this.fieldsReady = false;
            //this.errorMessage = 'Title is required.'
        }
        else if (this.new_activity.activity_description == "") {
            this.fieldsReady = false;
            //this.errorMessage = 'Description is required.'
        }
        else if (this.new_activity.activity_type_duration == "") {
            this.fieldsReady = false;
            //this.errorMessage = 'Type duration is required.'
        }
        else if (this.new_activity.activity_duration == null) {
            this.fieldsReady = false;
            //this.errorMessage = 'Duration is required.'
        }
        else if (this.new_activity.activity_type_output == "") {
            this.fieldsReady = false;
            //this.errorMessage = 'Type output is required.'
        }
        else {
            this.fieldsReady = true;
        }
    };
    ActivityCreationComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-activity-creation',
            template: __webpack_require__(/*! ./activity-creation.component.html */ "./src/app/component/activity-list/activity-creation/activity-creation.component.html"),
            styles: [__webpack_require__(/*! ./activity-creation.component.scss */ "./src/app/component/activity-list/activity-creation/activity-creation.component.scss")]
        }),
        __metadata("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_1__["Router"],
            _objects_sop_sop_service__WEBPACK_IMPORTED_MODULE_2__["SopService"],
            _objects_activity_activity_service__WEBPACK_IMPORTED_MODULE_4__["ActivityService"],
            _objects_managment_level_managment_level_service__WEBPACK_IMPORTED_MODULE_5__["ManagmentLevelService"],
            _objects_unit_unit_service__WEBPACK_IMPORTED_MODULE_6__["UnitService"],
            _objects_job_job_service__WEBPACK_IMPORTED_MODULE_7__["JobService"]])
    ], ActivityCreationComponent);
    return ActivityCreationComponent;
}());



/***/ }),

/***/ "./src/app/component/activity-list/activity-list.component.html":
/*!**********************************************************************!*\
  !*** ./src/app/component/activity-list/activity-list.component.html ***!
  \**********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<p>\r\n  activity-list works!\r\n</p>\r\n"

/***/ }),

/***/ "./src/app/component/activity-list/activity-list.component.scss":
/*!**********************************************************************!*\
  !*** ./src/app/component/activity-list/activity-list.component.scss ***!
  \**********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/component/activity-list/activity-list.component.ts":
/*!********************************************************************!*\
  !*** ./src/app/component/activity-list/activity-list.component.ts ***!
  \********************************************************************/
/*! exports provided: ActivityListComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ActivityListComponent", function() { return ActivityListComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

var ActivityListComponent = /** @class */ (function () {
    function ActivityListComponent() {
    }
    ActivityListComponent.prototype.ngOnInit = function () {
    };
    ActivityListComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-activity-list',
            template: __webpack_require__(/*! ./activity-list.component.html */ "./src/app/component/activity-list/activity-list.component.html"),
            styles: [__webpack_require__(/*! ./activity-list.component.scss */ "./src/app/component/activity-list/activity-list.component.scss")]
        }),
        __metadata("design:paramtypes", [])
    ], ActivityListComponent);
    return ActivityListComponent;
}());



/***/ }),

/***/ "./src/app/component/admin-users/admin-users.component.html":
/*!******************************************************************!*\
  !*** ./src/app/component/admin-users/admin-users.component.html ***!
  \******************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div *ngIf=\"!actionFinished\" class=\"container\">\r\n\r\n  <div class=\"row row-first\">\r\n    <div class=\"col-12 card card-cascade hoverable\">\r\n      <!--Table-->\r\n      <div class=\"card-body card-body-cascade\">\r\n        Manage Users\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"row justify-content-center\" style=\"margin-top: 20px\">\r\n\r\n    <div class=\"col-12 card card-cascade hoverable\">\r\n      <!--Table-->\r\n      <div class=\"card-body card-body-cascade\">\r\n        <table class=\"table\">\r\n\r\n          <!--Table head-->\r\n          <thead class=\"\">\r\n          <tr class=\"text-white\">\r\n            <th>First Name</th>\r\n            <th>Name</th>\r\n            <th>Mail</th>\r\n            <th>Role(s)</th>\r\n            <th>Actions</th>\r\n          </tr>\r\n          </thead>\r\n          <!--Table head-->\r\n\r\n          <!--Table body-->\r\n          <tbody>\r\n          <tr *ngFor=\"let user of users\">\r\n            <th scope=\"row\">{{user.member_first_name}}</th>\r\n            <td scope=\"row\">{{user.member_name}}</td>\r\n            <td>{{user.member_mail}}</td>\r\n            <td *ngIf=\"user.member_admin == 1\">admin (all roles)<a  (click)=\"manageRoles(user.member_id,user.member_admin)\"><i class=\"material-icons update-roles\">create</i></a></td>\r\n            <td *ngIf=\"user.member_admin !== 1 && user.member_role === null\">no role<a  (click)=\"manageRoles(user.member_id,user.member_admin)\"><i class=\"material-icons update-roles\">create</i></a></td>\r\n            <td *ngIf=\"user.member_admin !== 1 && user.member_role !== null\">\r\n              <span  *ngFor=\"let role of user.member_role\">{{role}}<br></span><a  (click)=\"manageRoles(user.member_id,user.member_admin)\"><i class=\"material-icons update-roles\">create</i></a>\r\n            </td>\r\n            <td *ngIf=\"user.member_valid == 0\"><span style=\"color: red;\">Account not valid. Mail not validated yet</span> </td>\r\n            <td *ngIf=\"user.member_valid == 2\"> <button (click)=\"validateUser(user.member_id)\" class=\"btn btn-warning btn-sm\">Approve account</button></td>\r\n            <td *ngIf=\"user.member_valid == 1\" style=\"color: green\"> Account valid</td>\r\n          </tr>\r\n\r\n          </tbody>\r\n          <!--Table body-->\r\n\r\n        </table>\r\n        <!--Table-->\r\n      </div>\r\n    </div>\r\n\r\n  </div>\r\n\r\n\r\n</div>\r\n\r\n<div class=\"modal fade\" id=\"exampleModal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\" [ngStyle]=\"{'display': mdlSampleIsOpen ? 'block' : 'none', 'opacity': 1}\" >\r\n  <div class=\"modal-dialog\" role=\"document\">\r\n    <div class=\"modal-content\">\r\n      <div class=\"modal-header\">\r\n        <h5 class=\"modal-title\" id=\"exampleModalLabel\">Manage user role</h5>\r\n      </div>\r\n      <div class=\"modal-body\">\r\n        <div *ngIf=\"user_admin == 1\">This user is an admin, he has all the roles</div>\r\n        <div *ngIf=\"user_admin != 1\">\r\n          <ul class=\"list-group\" *ngIf=\"user_roles?.length > 0\">\r\n            <li class=\"list-group-item d-flex justify-content-between align-items-center\" *ngFor=\"let role of user_roles\">\r\n              {{role}}\r\n              <a (click)=\"unGrantUser(role)\"><i class=\"material-icons\" >delete</i></a>\r\n            </li>\r\n\r\n          </ul>\r\n          <span  *ngIf=\"user_roles?.length == 0\">This user has no roles</span>\r\n          <form>\r\n            <div class=\"md-form\">\r\n              <select [(ngModel)]=\"roleChossen\" name=\"roleChossen\" class=\"form-control mdb-select\" >\r\n                <option value=\"\" disabled selected>Choose a role to add</option>\r\n                <option *ngFor=\"let role of roles\" [ngValue]=role.role_id>{{role.role_title}}</option>\r\n              </select>\r\n            </div>\r\n            <div class=\"md-form\">\r\n              <a class=\"btn btn-success\" (click)=\"grantUser()\">Add a new role</a>\r\n            </div>\r\n\r\n          </form>\r\n        </div>\r\n\r\n\r\n      </div>\r\n      <div class=\"modal-footer\">\r\n        <button type=\"button\" class=\"btn btn-secondary\" (click)=\"closeModal()\">Close</button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<div *ngIf=\"actionFinished\" class=\"container\">\r\n  <div class=\"row row-first justify-content-center\">\r\n\r\n    <!-- Card -->\r\n    <div class=\"col-10 col-sm-8 col-md-6 col-xl-4 card card-cascade hoverable\">\r\n\r\n      <!-- Card content -->\r\n      <div class=\"card-body card-body-cascade\">\r\n\r\n        <p class=\"h4 text-center mb-4\" >{{title}}</p>\r\n\r\n\r\n        <p class=\"text-center mb-4\">\r\n          {{text}}\r\n        </p>\r\n\r\n        <div class=\"text-center mt-4\">\r\n          <a class=\"btn btn-default\" (click)=\"goBack()\" >go Back</a>\r\n        </div>\r\n\r\n      </div>\r\n    </div>\r\n\r\n\r\n\r\n  </div>\r\n</div>\r\n"

/***/ }),

/***/ "./src/app/component/admin-users/admin-users.component.scss":
/*!******************************************************************!*\
  !*** ./src/app/component/admin-users/admin-users.component.scss ***!
  \******************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".update-roles {\n  font-size: 80%;\n  color: grey;\n  margin-left: 7px; }\n\n.modal-dialog {\n  top: 20%; }\n"

/***/ }),

/***/ "./src/app/component/admin-users/admin-users.component.ts":
/*!****************************************************************!*\
  !*** ./src/app/component/admin-users/admin-users.component.ts ***!
  \****************************************************************/
/*! exports provided: AdminUsersComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AdminUsersComponent", function() { return AdminUsersComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _objects_member_member_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../objects/member/member.service */ "./src/app/objects/member/member.service.ts");
/* harmony import */ var _objects_role_role_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../objects/role/role.service */ "./src/app/objects/role/role.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = y[op[0] & 2 ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [0, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};



var AdminUsersComponent = /** @class */ (function () {
    function AdminUsersComponent(_memberService, _roleService) {
        this._memberService = _memberService;
        this._roleService = _roleService;
        this.actionFinished = false;
        this.roles = [];
        this.mdlSampleIsOpen = false;
        this.user = "error";
        this.user_roles = [];
        this.roleChossen = "";
    }
    AdminUsersComponent.prototype.ngOnInit = function () {
        this.getAllUsers();
        this.getAllRoles();
    };
    AdminUsersComponent.prototype.getAllUsers = function () {
        return __awaiter(this, void 0, void 0, function () {
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this._memberService.selectAll()
                            .subscribe(function (res) {
                            console.log(res['data']);
                            _this.users = res['data'];
                        }, function (error) {
                            console.log("ERREUR : ", error);
                        })];
                    case 1:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    AdminUsersComponent.prototype.getAllRoles = function () {
        return __awaiter(this, void 0, void 0, function () {
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this._roleService.selectAll()
                            .subscribe(function (res) {
                            console.log(res['data']);
                            _this.roles = res['data'];
                        }, function (error) {
                            console.log("ERREUR : ", error);
                        })];
                    case 1:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    AdminUsersComponent.prototype.validateUser = function (idUser) {
        return __awaiter(this, void 0, void 0, function () {
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this._memberService.validateUser(idUser)
                            .subscribe(function (res) {
                            _this.getAllUsers();
                            _this.title = "Member has been validated";
                            _this.text = "He can now login with his mail and password";
                            _this.actionFinished = true;
                        }, function (error) {
                            _this.title = "Error";
                            _this.text = error.error.message;
                            _this.actionFinished = true;
                        })];
                    case 1:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    AdminUsersComponent.prototype.goBack = function () {
        this.title = "";
        this.text = "";
        this.actionFinished = false;
    };
    AdminUsersComponent.prototype.manageRoles = function (user_id, user_admin) {
        return __awaiter(this, void 0, void 0, function () {
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this.user_id = user_id;
                        return [4 /*yield*/, this._memberService.getAllRoles(user_id)
                                .subscribe(function (res) {
                                console.log(res['data']);
                                _this.user_roles = res['data']['member_role'];
                                _this.user_admin = res['data']['member_admin'];
                                _this.mdlSampleIsOpen = true;
                            }, function (error) {
                                console.log(error.message);
                            })];
                    case 1:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    AdminUsersComponent.prototype.grantUser = function () {
        return __awaiter(this, void 0, void 0, function () {
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this._memberService.grantMember(this.user_id, this.roleChossen)
                            .subscribe(function (res) {
                            console.log(res['data']);
                            _this.mdlSampleIsOpen = false;
                            _this.manageRoles(_this.user_id, _this.user_admin);
                        }, function (error) {
                            console.log(error.message);
                        })];
                    case 1:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    AdminUsersComponent.prototype.unGrantUser = function (roleChossen) {
        return __awaiter(this, void 0, void 0, function () {
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this._memberService.unGrantMember(this.user_id, roleChossen)
                            .subscribe(function (res) {
                            console.log(res['data']);
                            _this.mdlSampleIsOpen = false;
                            _this.manageRoles(_this.user_id, _this.user_admin);
                        }, function (error) {
                            console.log(error.message);
                        })];
                    case 1:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    AdminUsersComponent.prototype.closeModal = function () {
        this.mdlSampleIsOpen = false;
    };
    AdminUsersComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-admin-users',
            template: __webpack_require__(/*! ./admin-users.component.html */ "./src/app/component/admin-users/admin-users.component.html"),
            styles: [__webpack_require__(/*! ./admin-users.component.scss */ "./src/app/component/admin-users/admin-users.component.scss")]
        }),
        __metadata("design:paramtypes", [_objects_member_member_service__WEBPACK_IMPORTED_MODULE_1__["MemberService"],
            _objects_role_role_service__WEBPACK_IMPORTED_MODULE_2__["RoleService"]])
    ], AdminUsersComponent);
    return AdminUsersComponent;
}());



/***/ }),

/***/ "./src/app/component/admin/admin.component.css":
/*!*****************************************************!*\
  !*** ./src/app/component/admin/admin.component.css ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/component/admin/admin.component.html":
/*!******************************************************!*\
  !*** ./src/app/component/admin/admin.component.html ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<p>\r\n  admin works!\r\n</p>\r\n"

/***/ }),

/***/ "./src/app/component/admin/admin.component.ts":
/*!****************************************************!*\
  !*** ./src/app/component/admin/admin.component.ts ***!
  \****************************************************/
/*! exports provided: AdminComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AdminComponent", function() { return AdminComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

var AdminComponent = /** @class */ (function () {
    function AdminComponent() {
    }
    AdminComponent.prototype.ngOnInit = function () {
    };
    AdminComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-admin',
            template: __webpack_require__(/*! ./admin.component.html */ "./src/app/component/admin/admin.component.html"),
            styles: [__webpack_require__(/*! ./admin.component.css */ "./src/app/component/admin/admin.component.css")]
        }),
        __metadata("design:paramtypes", [])
    ], AdminComponent);
    return AdminComponent;
}());



/***/ }),

/***/ "./src/app/component/authentification/authentification.component.css":
/*!***************************************************************************!*\
  !*** ./src/app/component/authentification/authentification.component.css ***!
  \***************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "#authentification {\r\n  margin-top: auto;\r\n  margin-bottom: auto;\r\n}\r\n"

/***/ }),

/***/ "./src/app/component/authentification/authentification.component.html":
/*!****************************************************************************!*\
  !*** ./src/app/component/authentification/authentification.component.html ***!
  \****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class=\"container\">\r\n  <div class=\"row row-first justify-content-center\">\r\n\r\n    <!-- Card -->\r\n    <div class=\"col-10 col-md-8 col-md-6 col-xl-4 card card-cascade hoverable\" id=\"authentification\">\r\n\r\n      <!-- Card content -->\r\n      <div class=\"card-body card-body-cascade\">\r\n\r\n        <!-- Material form login -->\r\n        <form (ngSubmit)=\"onSubmit()\">\r\n          <p class=\"h4 text-center mb-4\">Sign in</p>\r\n\r\n          <!-- Material input email -->\r\n          <div class=\"md-form\">\r\n            <i class=\"fa fa-envelope prefix grey-text\"></i>\r\n            <input required [(ngModel)]=\"email\" name=\"mail\" type=\"email\" id=\"materialFormLoginEmailEx\" class=\"form-control\" email>\r\n            <label for=\"materialFormLoginEmailEx\">Your email</label>\r\n          </div>\r\n\r\n          <!-- Material input password -->\r\n          <div class=\"md-form\">\r\n            <i class=\"fa fa-lock prefix grey-text\"></i>\r\n            <input required [(ngModel)]=\"password\" name=password type=\"password\" id=\"materialFormLoginPasswordEx\" class=\"form-control\">\r\n            <label for=\"materialFormLoginPasswordEx\">Your password</label>\r\n            <!-- Forgotten password -->\r\n            <p class=\"font-small blue-text d-flex justify-content-end text-link\">Forgot <a class=\"blue-text ml-1 text-link\"> Password ?</a></p>\r\n          </div>\r\n\r\n          <!-- Error alert -->\r\n          <div *ngIf=\"errorMessage\" class=\"alert alert-danger\" role=\"alert\">\r\n            {{errorMessage}}\r\n          </div>\r\n\r\n          <div class=\"text-center mt-4\">\r\n            <button class=\"btn btn-default\" type=\"submit\">Login</button>\r\n          </div>\r\n        </form>\r\n        <!-- Material form login -->\r\n\r\n        <hr>\r\n\r\n        <div class=\"row justify-content-center\">\r\n          <!-- Sign up -->\r\n          <p class=\"font-small grey-text d-flex justify-content-end mt-3\">Don't have an account ? <a [routerLink]=\"['/sign-up']\" class=\"dark-grey-text ml-1 font-weight-bold text-link\"> Sign up</a></p>\r\n          <!-- Forgotten password -->\r\n        </div>\r\n\r\n      </div>\r\n\r\n    </div>\r\n    <!-- Card -->\r\n\r\n  </div>\r\n</div>\r\n"

/***/ }),

/***/ "./src/app/component/authentification/authentification.component.ts":
/*!**************************************************************************!*\
  !*** ./src/app/component/authentification/authentification.component.ts ***!
  \**************************************************************************/
/*! exports provided: AuthentificationComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AuthentificationComponent", function() { return AuthentificationComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _objects_member_member_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../objects/member/member.service */ "./src/app/objects/member/member.service.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var AuthentificationComponent = /** @class */ (function () {
    function AuthentificationComponent(_memberService, router) {
        this._memberService = _memberService;
        this.router = router;
        /* ----- Data ----- */
        this.errorMessage = "";
        this.email = "";
        this.password = "";
        this.user = "";
        //Norme RFC2822 email validation
        this.emailReg = new RegExp(/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/);
    }
    AuthentificationComponent.prototype.ngOnInit = function () {
    };
    AuthentificationComponent.prototype.onSubmit = function () {
        var _this = this;
        this.errorMessage = "";
        if (this.email == null || this.email == "") {
            this.errorMessage = "Email is required.";
        }
        else if (!this.emailReg.test(this.email)) {
            this.errorMessage = "Please enter a valid email.";
        }
        else if (this.password == null || this.password == "") {
            this.errorMessage = "Password is required";
        }
        else {
            var user = void 0;
            var auth = true;
            var resultat = void 0;
            this._memberService.auth(this.email, this.password)
                .subscribe(function (res) {
                _this.errorMessage = "";
                _this._memberService.storeUserData(res['token']);
                _this.router.navigate(['/home']);
            }, function (error) {
                console.log("ERREUR : ", error);
                _this.errorMessage = error.error.message;
            });
        }
    };
    AuthentificationComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-authentification',
            template: __webpack_require__(/*! ./authentification.component.html */ "./src/app/component/authentification/authentification.component.html"),
            styles: [__webpack_require__(/*! ./authentification.component.css */ "./src/app/component/authentification/authentification.component.css")]
        }),
        __metadata("design:paramtypes", [_objects_member_member_service__WEBPACK_IMPORTED_MODULE_1__["MemberService"],
            _angular_router__WEBPACK_IMPORTED_MODULE_2__["Router"]])
    ], AuthentificationComponent);
    return AuthentificationComponent;
}());



/***/ }),

/***/ "./src/app/component/authentification/sign-up/sign-up.component.css":
/*!**************************************************************************!*\
  !*** ./src/app/component/authentification/sign-up/sign-up.component.css ***!
  \**************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/component/authentification/sign-up/sign-up.component.html":
/*!***************************************************************************!*\
  !*** ./src/app/component/authentification/sign-up/sign-up.component.html ***!
  \***************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div *ngIf=\"!displayEnd\" class=\"container\">\r\n  <div class=\"row row-first justify-content-center\">\r\n\r\n    <!-- Card -->\r\n    <div class=\"col-10 col-sm-8 col-md-6 col-xl-4 card card-cascade hoverable\">\r\n\r\n      <!-- Card content -->\r\n      <div class=\"card-body card-body-cascade\">\r\n\r\n      <!-- Material form register -->\r\n      <form (ngSubmit)=\"onSubmitRegistration()\">\r\n        <p class=\"h4 text-center mb-4\">Sign up</p>\r\n\r\n        <!-- First step of the form -->\r\n        <div [hidden]=\"!step1\">\r\n\r\n          <!-- Input first name -->\r\n          <div class=\"md-form\">\r\n            <i class=\"fa fa-user prefix grey-text\"></i>\r\n            <input [(ngModel)]=\"firstName\" name=\"firstName\" type=\"text\" id=\"firstName\" class=\"form-control\">\r\n            <label for=\"firstName\">First name</label>\r\n          </div>\r\n\r\n          <!-- Input last name -->\r\n          <div class=\"md-form\">\r\n            <i class=\"fa fa-user prefix grey-text\"></i>\r\n            <input [(ngModel)]=\"lastName\" name=\"lastName\" type=\"text\" id=\"lastName\" class=\"form-control\">\r\n            <label for=\"lastName\">Last name</label>\r\n          </div>\r\n\r\n          <!-- Input email -->\r\n          <div class=\"md-form\">\r\n            <i class=\"fa fa-envelope prefix grey-text\"></i>\r\n            <input [(ngModel)]=\"email\" name=\"email\" type=\"email\" id=\"email\" class=\"form-control\">\r\n            <label for=\"email\">Your email</label>\r\n          </div>\r\n\r\n          <!-- Input email confirmation -->\r\n          <div class=\"md-form\">\r\n            <i class=\"fa fa-exclamation-triangle prefix grey-text\"></i>\r\n            <input [(ngModel)]=\"emailConfirmation\" name=\"emailConfirmation\" type=\"email\" id=\"emailConfirm\" class=\"form-control\">\r\n            <label for=\"emailConfirm\">Confirm your email</label>\r\n          </div>\r\n\r\n          <!-- Input password -->\r\n          <div class=\"md-form\">\r\n            <i class=\"fa fa-lock prefix grey-text\"></i>\r\n            <input [(ngModel)]=\"password\" name=\"password\" type=\"password\" id=\"password\" class=\"form-control\">\r\n            <label for=\"password\">Your password</label>\r\n          </div>\r\n\r\n          <!-- Input password confirmation -->\r\n          <div class=\"md-form\">\r\n            <i class=\"fa fa-exclamation-triangle prefix grey-text\"></i>\r\n            <input [(ngModel)]=\"passwordConfirmation\" name=\"passwordConfirmation\" type=\"password\" id=\"passwordConfirm\" class=\"form-control\">\r\n            <label for=\"passwordConfirm\">Confirm your password</label>\r\n          </div>\r\n\r\n          <div class=\"md-form\">\r\n            <select [(ngModel)]=\"managmentLevelChoosen\" name=\"managmentLevel\" class=\"form-control mdb-select\" >\r\n              <option value=\"\" disabled selected>Choose managment level</option>\r\n              <option *ngFor=\"let manage of managmentLevels\" [ngValue]=manage.managment_level_id>{{manage.managment_level_label}}</option>\r\n            </select>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- Error alert -->\r\n        <div *ngIf=\"errorMessage\" class=\"alert alert-danger\" role=\"alert\">\r\n          {{errorMessage}}\r\n        </div>\r\n\r\n        <!-- Second step of the form -->\r\n        <div class=\"form-group\" [hidden]=\"!step2\">\r\n\r\n          <!-- Organisation -->\r\n          <div class=\"md-form\">\r\n            <select [(ngModel)]=\"organisationChoosen\" name=\"organisation\" class=\"form-control mdb-select\" (change)=\"enableBranch()\" >\r\n              <option value=\"\" disabled selected>Choose organisation</option>\r\n              <option *ngFor=\"let orga of organisations\" [ngValue]=orga.organisation_id>{{orga.organisation_name}}</option>\r\n            </select>\r\n          </div>\r\n\r\n          <!-- Branch -->\r\n          <div class=\"md-form\">\r\n            <select [(ngModel)]=\"branchChoosen\" name=\"branch\" class=\"form-control\" [disabled]=\"!branchEnabled\" (change)=\"enableDepartment()\" >\r\n              <option value=\"\" disabled selected>Choose a branch</option>\r\n              <option *ngFor=\"let branch of branchs\" [ngValue]=branch.branch_id>{{branch.branch_name}}</option>\r\n            </select>\r\n          </div>\r\n\r\n          <!-- Department -->\r\n          <div class=\"md-form\">\r\n            <select [(ngModel)]=\"departmentChoosen\" name=\"department\" class=\"form-control mdb-select\" [disabled]=\"!departmentEnabled\" (change)=\"enableSubDepartment()\" >\r\n              <option value=\"\" disabled selected>Choose department</option>\r\n              <option *ngFor=\"let department of departments\" [ngValue]=department.department_id>{{department.department_name}}</option>\r\n\r\n            </select>\r\n          </div>\r\n\r\n          <!-- SubDepartment -->\r\n          <div class=\"md-form\">\r\n            <select [(ngModel)]=\"subDepartmentChoosen\" name=\"subDepartment\" class=\"form-control mdb-select\" [disabled]=\"!subDepartmentEnabled\" >\r\n              <option value=\"\" disabled selected>Choose sub-department</option>\r\n              <option *ngFor=\"let subDepartment of subDepartments\" [ngValue]=subDepartment.sub_department_id>{{subDepartment.sub_department_name}}</option>\r\n            </select>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"text-center mt-4\">\r\n          <a class=\"btn btn-default\" (click)=\"firstStepVerification()\" [hidden]=\"!step1\" >Next</a>\r\n          <a class=\"btn btn-default\" (click)=\"changeStep()\" [hidden]=\"!step2\" >Back</a>\r\n          <button class=\"btn btn-default\" type=\"\" [hidden]=\"!step2\" >Sign Up</button>\r\n        </div>\r\n\r\n      </form>\r\n      <!-- Material form register -->\r\n\r\n      <hr>\r\n\r\n      <div class=\"row justify-content-center\">\r\n        <!-- Forgotten password -->\r\n        <p class=\"font-small grey-text d-flex justify-content-end mt-3\">Already have an account ? <a [routerLink]=\"['/authentification']\" class=\"dark-grey-text ml-1 font-weight-bold text-link\"> Sign in</a></p>\r\n        <!--<a class=\"px-2 fa-lg email-ic\"><i class=\"fa fa-envelope\"> </i></a>-->\r\n      </div>\r\n\r\n      </div>\r\n    </div>\r\n\r\n  </div>\r\n</div>\r\n\r\n<app-summary *ngIf=\"displayEnd\"\r\n             title=\"Your account was created\"\r\n             text=\"To complete your registration please follow the instruction on the mail you received and wait for the admin validation\"\r\n             buttonTitle=\"Home\" link=\"home\">\r\n</app-summary>\r\n\r\n<!--\r\n\r\n\r\n-->\r\n\r\n<script>\r\n  $(document).ready(function() {\r\n  $('.mdb-select').material_select();\r\n});\r\n</script>\r\n"

/***/ }),

/***/ "./src/app/component/authentification/sign-up/sign-up.component.ts":
/*!*************************************************************************!*\
  !*** ./src/app/component/authentification/sign-up/sign-up.component.ts ***!
  \*************************************************************************/
/*! exports provided: SignUpComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SignUpComponent", function() { return SignUpComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _objects_member_member_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../objects/member/member.service */ "./src/app/objects/member/member.service.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _objects_organisation_organisation_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../objects/organisation/organisation.service */ "./src/app/objects/organisation/organisation.service.ts");
/* harmony import */ var _objects_branch_branch_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../objects/branch/branch.service */ "./src/app/objects/branch/branch.service.ts");
/* harmony import */ var _objects_department_department_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../objects/department/department.service */ "./src/app/objects/department/department.service.ts");
/* harmony import */ var _objects_sub_department_sub_department_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../objects/sub_department/sub-department.service */ "./src/app/objects/sub_department/sub-department.service.ts");
/* harmony import */ var _objects_managment_level_managment_level_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../objects/managment_level/managment-level.service */ "./src/app/objects/managment_level/managment-level.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = y[op[0] & 2 ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [0, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};








var SignUpComponent = /** @class */ (function () {
    function SignUpComponent(_memberService, _organisationService, _managmentLevelService, _branchService, _departmentService, _subDepartmentService, router) {
        this._memberService = _memberService;
        this._organisationService = _organisationService;
        this._managmentLevelService = _managmentLevelService;
        this._branchService = _branchService;
        this._departmentService = _departmentService;
        this._subDepartmentService = _subDepartmentService;
        this.router = router;
        /* ----- Data ----- */
        this.step1 = true;
        this.step2 = false;
        this.branchEnabled = false;
        this.departmentEnabled = false;
        this.subDepartmentEnabled = false;
        this.firstName = "";
        this.lastName = "";
        this.email = "";
        this.emailConfirmation = "";
        this.password = "";
        this.passwordConfirmation = "";
        this.organisationChoosen = "";
        this.branchChoosen = "";
        this.departmentChoosen = "";
        this.subDepartmentChoosen = "";
        this.managmentLevelChoosen = "";
        this.errorMessage = "";
        this.displayEnd = false;
        //Norme RFC2822 email validation
        this.emailReg = new RegExp(/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/);
    }
    SignUpComponent.prototype.ngOnInit = function () {
        this.getOrganisations();
        this.getManagmentLevels();
    };
    SignUpComponent.prototype.getOrganisations = function () {
        var _this = this;
        this._organisationService.selectAll()
            .subscribe(function (res) {
            console.log(res['data']);
            _this.organisations = res['data'];
        }, function (error) {
            console.log("ERREUR : ", error);
        });
    };
    SignUpComponent.prototype.getManagmentLevels = function () {
        var _this = this;
        this._managmentLevelService.selectAll()
            .subscribe(function (res) {
            console.log(res['data']);
            _this.managmentLevels = res['data'];
        }, function (error) {
            console.log("ERREUR : ", error);
        });
    };
    SignUpComponent.prototype.onSubmitRegistration = function () {
        return __awaiter(this, void 0, void 0, function () {
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (!(this.subDepartmentChoosen == "")) return [3 /*break*/, 1];
                        this.errorMessage = "Sub-Department name required. If not select default.";
                        return [3 /*break*/, 3];
                    case 1: 
                    //this._memberService.register(this.email,this.password,this.firstName, this.lastName, "0",this.subDepartmentChoosen)
                    return [4 /*yield*/, this._memberService.register(this.email, this.password, this.firstName, this.lastName, "0", this.subDepartmentChoosen, this.managmentLevelChoosen)
                            .subscribe(function (res) {
                            _this.errorMessage = "";
                            _this.step1 = false;
                            _this.step2 = false;
                            _this.displayEnd = true;
                            _this.errorMessage = "";
                        }, function (error) {
                            _this.errorMessage = error.error.message;
                        })];
                    case 2:
                        //this._memberService.register(this.email,this.password,this.firstName, this.lastName, "0",this.subDepartmentChoosen)
                        _a.sent();
                        _a.label = 3;
                    case 3: return [2 /*return*/];
                }
            });
        });
    };
    SignUpComponent.prototype.changeStep = function () {
        this.step1 = !this.step1;
        this.step2 = !this.step2;
        this.errorMessage = "";
    };
    SignUpComponent.prototype.firstStepVerification = function () {
        if (this.firstName == null || this.firstName == "") {
            this.errorMessage = "First name is required.";
        }
        else if (this.lastName == null || this.lastName == "") {
            this.errorMessage = "Last name is required.";
        }
        else if (this.email == null || this.email == "") {
            this.errorMessage = "Email is required.";
        }
        else if (!this.emailReg.test(this.email)) {
            this.errorMessage = "Please enter a valid email.";
        }
        else if (this.emailConfirmation != this.email) {
            console.log(this.emailConfirmation);
            console.log(this.email);
            this.errorMessage = "Email confirmation is wrong.";
        }
        else if (this.password == null || this.password == "") {
            this.errorMessage = "Password is required";
        }
        else if (this.passwordConfirmation != this.password) {
            this.errorMessage = "Password confirmation is wrong.";
        }
        else if (this.managmentLevelChoosen == "") {
            this.errorMessage = "You need to choose a managment level.";
        }
        else {
            //Connexion code
            this.step1 = false;
            this.step2 = true;
            console.log("Next");
            this.errorMessage = "";
        }
    };
    // Select fields authorizations
    SignUpComponent.prototype.enableBranch = function () {
        var _this = this;
        if (this.organisationChoosen != "") {
            this._branchService.selectAllFromOrganisation(this.organisationChoosen)
                .subscribe(function (res) {
                _this.branchs = res['data'];
                _this.branchEnabled = true;
            }, function (error) {
                _this.errorMessage = error.error.message;
            });
        }
    };
    SignUpComponent.prototype.enableDepartment = function () {
        var _this = this;
        if (this.branchChoosen != "") {
            if (this.branchChoosen != 'blank') {
                this._departmentService.selectAllFromBranch(this.branchChoosen)
                    .subscribe(function (res) {
                    console.log(res['data']);
                    _this.departments = res['data'];
                    _this.departmentEnabled = true;
                }, function (error) {
                    _this.errorMessage = error.error.message;
                    _this.departmentEnabled = false;
                    _this.subDepartmentEnabled = false;
                    _this.departmentChoosen = "blank";
                    _this.subDepartmentChoosen = "blank";
                });
            }
            else {
                this.departmentEnabled = false;
                this.subDepartmentEnabled = false;
                this.departmentChoosen = "blank";
                this.subDepartmentChoosen = "blank";
            }
        }
    };
    SignUpComponent.prototype.enableSubDepartment = function () {
        var _this = this;
        if (this.departmentChoosen != "") {
            if (this.departmentChoosen != "blank") {
                this._subDepartmentService.selectAllFromDepartment(this.departmentChoosen)
                    .subscribe(function (res) {
                    console.log(res['data']);
                    _this.subDepartments = res['data'];
                    _this.subDepartmentEnabled = true;
                }, function (error) {
                    _this.errorMessage = error.error.message;
                    _this.subDepartmentEnabled = false;
                    _this.subDepartmentChoosen = "blank";
                });
            }
            else {
                this.subDepartmentEnabled = false;
                this.subDepartmentChoosen = "blank";
            }
        }
    };
    SignUpComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-sign-up',
            template: __webpack_require__(/*! ./sign-up.component.html */ "./src/app/component/authentification/sign-up/sign-up.component.html"),
            styles: [__webpack_require__(/*! ./sign-up.component.css */ "./src/app/component/authentification/sign-up/sign-up.component.css")]
        }),
        __metadata("design:paramtypes", [_objects_member_member_service__WEBPACK_IMPORTED_MODULE_1__["MemberService"],
            _objects_organisation_organisation_service__WEBPACK_IMPORTED_MODULE_3__["OrganisationService"],
            _objects_managment_level_managment_level_service__WEBPACK_IMPORTED_MODULE_7__["ManagmentLevelService"],
            _objects_branch_branch_service__WEBPACK_IMPORTED_MODULE_4__["BranchService"],
            _objects_department_department_service__WEBPACK_IMPORTED_MODULE_5__["DepartmentService"],
            _objects_sub_department_sub_department_service__WEBPACK_IMPORTED_MODULE_6__["SubDepartmentService"],
            _angular_router__WEBPACK_IMPORTED_MODULE_2__["Router"]])
    ], SignUpComponent);
    return SignUpComponent;
}());



/***/ }),

/***/ "./src/app/component/gantt/gantt-creation/gantt-creation.component.html":
/*!******************************************************************************!*\
  !*** ./src/app/component/gantt/gantt-creation/gantt-creation.component.html ***!
  \******************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class=\"container\" *ngIf=\"!ready\">\r\n  <div class=\"row-first\">\r\n    <app-loader></app-loader>\r\n  </div>\r\n</div>\r\n\r\n<div class=\"container\" *ngIf=\"ready\">\r\n\r\n  <div class=\"row row-first\">\r\n    <div class=\"col\">\r\n      <button type=\"button\" class=\"btn btn-outline-danger waves-effect\" data-toggle=\"modal\" data-target=\"#warningModal\"><h6 class=\"no-margin-bottom\"><i class=\"fa fa-times mr-3\"></i>Back</h6></button>\r\n      <button class=\"btn btn-success waves-effect\" type=\"button\" data-toggle=\"modal\" data-target=\"#confirmationModal\">Submit</button>\r\n      <app-pdf-gantt ></app-pdf-gantt>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"row row-first justify-content-end\">\r\n    <div class=\" md-form\" id=\"search-bar\">\r\n      <input id=\"search\" (keyup)=\"search()\" class=\"form-control\" type=\"text\" placeholder=\"Search\" aria-label=\"Search\">\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"row justify-content-center\">\r\n\r\n        <table class=\"col-12 hoverable table table-borderless table-hover table-fixed\" id=\"gantt-table\">\r\n\r\n          <!--Table head-->\r\n          <thead class=\"\">\r\n          <tr class=\"text-white\">\r\n            <th (click)=\"sortTable(0)\"><a>Job</a></th>\r\n            <th (click)=\"sortTable(1)\"><a>Activity</a></th>\r\n            <th (click)=\"sortTable(2)\"><a>Target Date</a></th>\r\n            <th (click)=\"sortTable(3)\"><a>Begin Date</a></th>\r\n          </tr>\r\n          </thead>\r\n          <!--Table head-->\r\n\r\n          <!--Table body-->\r\n          <tbody>\r\n          <!-- elements[0]: activity_id && elements[1]: activity && elements[2]: m_a_p && elements[3]: members linked -->\r\n            <tr *ngFor=\"let element of elements\">\r\n              <td (click)=\"selectRow(element)\"><a>{{element['job'].job_id}}</a></td>\r\n              <td (click)=\"selectRow(element)\"><a>{{element['activity'].activity_title}}</a></td>\r\n              <td>\r\n                <input (change)=\"minMaxBeginDates(element)\" [(ngModel)]=\"elements[elements.indexOf(element)]['date_target']\" min=\"{{element['min_date_target'] | date:'yyyy-MM-dd'}}\" max=\"{{element['max_date_target'] | date:'yyyy-MM-dd'}}\" type=\"date\" class=\"form-control\">\r\n              </td>\r\n              <td>\r\n                <input [(ngModel)]=\"elements[elements.indexOf(element)]['date_begin']\" min=\"{{element['min_date_begin'] | date:'yyyy-MM-dd'}}\" max=\"{{element['max_date_begin'] | date:'yyyy-MM-dd'}}\" type=\"date\" class=\"form-control\">\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n          <!--Table body-->\r\n\r\n        </table>\r\n        <!--Table-->\r\n\r\n        <table class=\"col-12 hoverable table table-borderless table-hover table-fixed\" id=\"worker-table\" *ngIf=\"element_selected != null\">\r\n\r\n          <!--Table head-->\r\n          <thead class=\"thead-secondary\">\r\n          <tr class=\"text-white\">\r\n            <th (click)=\"sortTable1(0)\"><a>Last Name</a></th>\r\n            <th (click)=\"sortTable1(1)\"><a>First Name</a></th>\r\n            <th>Target Quantity</th>\r\n          </tr>\r\n          </thead>\r\n          <!--Table head-->\r\n\r\n          <!--Table body-->\r\n          <tbody >\r\n          <tr *ngFor=\"let worker of element_selected['maps_members']\">\r\n            <td>{{worker['member'].member_name.toUpperCase()}}</td>\r\n            <td>{{worker['member'].member_first_name}}</td>\r\n            <td>\r\n              <input [(ngModel)]=\"worker['m_a_p'].target_quantity\" type=\"number\" class=\"form-control\">\r\n            </td>\r\n          </tr>\r\n          </tbody>\r\n          <!--Table body-->\r\n\r\n        </table>\r\n        <!--Table-->\r\n\r\n  </div>\r\n</div>\r\n\r\n<!-- Modal warning -->\r\n<app-warning title=\"Exit\"\r\n             text=\"Are you sure you want to go back to the projects list ?\"\r\n             [isLink]=true\r\n             link=\"project-list\">\r\n</app-warning>\r\n\r\n<!-- Modal confirmation -->\r\n<app-confirmation title=\"Finalize gantt informations\"\r\n                  text=\"Are you sure all informations provided are correct ?\"\r\n                  (success)=\"onSubmit()\"\r\n                  [isLinkActive]=false\r\n                  link=\"project-list\">\r\n</app-confirmation>\r\n"

/***/ }),

/***/ "./src/app/component/gantt/gantt-creation/gantt-creation.component.scss":
/*!******************************************************************************!*\
  !*** ./src/app/component/gantt/gantt-creation/gantt-creation.component.scss ***!
  \******************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/component/gantt/gantt-creation/gantt-creation.component.ts":
/*!****************************************************************************!*\
  !*** ./src/app/component/gantt/gantt-creation/gantt-creation.component.ts ***!
  \****************************************************************************/
/*! exports provided: GanttCreationComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GanttCreationComponent", function() { return GanttCreationComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _objects_member_activity_project_member_activity_project_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../objects/member_activity_project/member-activity-project.service */ "./src/app/objects/member_activity_project/member-activity-project.service.ts");
/* harmony import */ var _objects_activity_activity_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../objects/activity/activity.service */ "./src/app/objects/activity/activity.service.ts");
/* harmony import */ var _objects_project_project_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../objects/project/project.service */ "./src/app/objects/project/project.service.ts");
/* harmony import */ var _objects_member_member_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../objects/member/member.service */ "./src/app/objects/member/member.service.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _objects_job_job_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../objects/job/job.service */ "./src/app/objects/job/job.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = y[op[0] & 2 ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [0, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};








var GanttCreationComponent = /** @class */ (function () {
    function GanttCreationComponent(_memberActivityProjectService, _activityService, _projectService, _memberService, _jobService, router) {
        this._memberActivityProjectService = _memberActivityProjectService;
        this._activityService = _activityService;
        this._projectService = _projectService;
        this._memberService = _memberService;
        this._jobService = _jobService;
        this.router = router;
        /* ----- Data ----- */
        this.errorMessage = "";
        this.ready = false;
    }
    GanttCreationComponent.prototype.ngOnInit = function () {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                this.loadData();
                return [2 /*return*/];
            });
        });
    };
    GanttCreationComponent.prototype.onSubmit = function () {
        return __awaiter(this, void 0, void 0, function () {
            var _i, _a, element, _b, _c, map, m;
            return __generator(this, function (_d) {
                switch (_d.label) {
                    case 0:
                        _i = 0, _a = this.elements;
                        _d.label = 1;
                    case 1:
                        if (!(_i < _a.length)) return [3 /*break*/, 6];
                        element = _a[_i];
                        _b = 0, _c = element['maps_members'];
                        _d.label = 2;
                    case 2:
                        if (!(_b < _c.length)) return [3 /*break*/, 5];
                        map = _c[_b];
                        m = map['m_a_p'];
                        m.target_date = element['date_target'];
                        m.date_begin = element['date_begin'];
                        return [4 /*yield*/, this._memberActivityProjectService.update(m).toPromise()];
                    case 3:
                        _d.sent();
                        _d.label = 4;
                    case 4:
                        _b++;
                        return [3 /*break*/, 2];
                    case 5:
                        _i++;
                        return [3 /*break*/, 1];
                    case 6:
                        this.router.navigate(['/project-list']);
                        return [2 /*return*/];
                }
            });
        });
    };
    GanttCreationComponent.prototype.loadProject = function () {
        return __awaiter(this, void 0, void 0, function () {
            var project_id, project, error_1;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        _a.trys.push([0, 2, , 3]);
                        project_id = localStorage.getItem('Project_id');
                        return [4 /*yield*/, this._projectService.select(project_id).toPromise()];
                    case 1:
                        project = _a.sent();
                        this.project = project['data'];
                        return [3 /*break*/, 3];
                    case 2:
                        error_1 = _a.sent();
                        this.errorMessage = error_1.error.message;
                        return [3 /*break*/, 3];
                    case 3: return [2 /*return*/];
                }
            });
        });
    };
    GanttCreationComponent.prototype.loadData = function () {
        return __awaiter(this, void 0, void 0, function () {
            var maps, error_2, _i, _a, a, activity, job, e, error_3, map, error_4, _b, _c, m, member, element, error_5, _d, _e, a, element, mm_linked, _f, _g, m, date;
            return __generator(this, function (_h) {
                switch (_h.label) {
                    case 0:
                        this.ready = false;
                        return [4 /*yield*/, this.loadProject()];
                    case 1:
                        _h.sent();
                        _h.label = 2;
                    case 2:
                        _h.trys.push([2, 4, , 5]);
                        this.activities_jobs_id_distinct = [];
                        return [4 /*yield*/, this._memberActivityProjectService.selectAllFromProjectDistinct(this.project.project_id).toPromise()];
                    case 3:
                        maps = _h.sent();
                        this.activities_jobs_id_distinct = maps['data'];
                        return [3 /*break*/, 5];
                    case 4:
                        error_2 = _h.sent();
                        this.errorMessage = error_2.error.message;
                        return [3 /*break*/, 5];
                    case 5:
                        _h.trys.push([5, 11, , 12]);
                        this.activitiesJobs = [];
                        _i = 0, _a = this.activities_jobs_id_distinct;
                        _h.label = 6;
                    case 6:
                        if (!(_i < _a.length)) return [3 /*break*/, 10];
                        a = _a[_i];
                        return [4 /*yield*/, this._activityService.select(a.activity_id).toPromise()];
                    case 7:
                        activity = _h.sent();
                        return [4 /*yield*/, this._jobService.select(a.job_id).toPromise()];
                    case 8:
                        job = _h.sent();
                        e = {
                            activity: activity['data'],
                            job: job['data']
                        };
                        this.activitiesJobs.push(e);
                        _h.label = 9;
                    case 9:
                        _i++;
                        return [3 /*break*/, 6];
                    case 10: return [3 /*break*/, 12];
                    case 11:
                        error_3 = _h.sent();
                        this.errorMessage = error_3.error.message;
                        return [3 /*break*/, 12];
                    case 12:
                        _h.trys.push([12, 14, , 15]);
                        this.m_a_ps = [];
                        return [4 /*yield*/, this._memberActivityProjectService.selectAllFromProject(this.project.project_id).toPromise()];
                    case 13:
                        map = _h.sent();
                        this.m_a_ps = map['data'];
                        return [3 /*break*/, 15];
                    case 14:
                        error_4 = _h.sent();
                        this.errorMessage = error_4.error.message;
                        return [3 /*break*/, 15];
                    case 15:
                        _h.trys.push([15, 20, , 21]);
                        this.m_a_ps_members = [];
                        _b = 0, _c = this.m_a_ps;
                        _h.label = 16;
                    case 16:
                        if (!(_b < _c.length)) return [3 /*break*/, 19];
                        m = _c[_b];
                        return [4 /*yield*/, this._memberService.select(m.member_id).toPromise()];
                    case 17:
                        member = _h.sent();
                        element = {
                            m_a_p: m,
                            member: member['data']
                        };
                        this.m_a_ps_members.push(element);
                        _h.label = 18;
                    case 18:
                        _b++;
                        return [3 /*break*/, 16];
                    case 19: return [3 /*break*/, 21];
                    case 20:
                        error_5 = _h.sent();
                        this.errorMessage = error_5.error;
                        return [3 /*break*/, 21];
                    case 21:
                        //Now we insert all inside the element array to use it in the view
                        this.elements = [];
                        for (_d = 0, _e = this.activitiesJobs; _d < _e.length; _d++) {
                            a = _e[_d];
                            element = {
                                activity: a['activity'],
                                job: a['job']
                            };
                            mm_linked = [];
                            for (_f = 0, _g = this.m_a_ps_members; _f < _g.length; _f++) {
                                m = _g[_f];
                                if (a['activity'].activity_id == m['m_a_p'].activity_id && a['job'].job_id == m['m_a_p'].job_id) {
                                    mm_linked.push(m);
                                }
                            }
                            element['maps_members'] = mm_linked;
                            element['date_target'] = element['maps_members'][0]['m_a_p'].target_date;
                            element['date_begin'] = element['maps_members'][0]['m_a_p'].date_begin;
                            date = new Date(this.project.project_start);
                            if (element['activity'].activity_type_duration == 'days') {
                                date.setDate(date.getDate() + element['activity'].activity_duration);
                            }
                            else if (element['activity'].activity_type_duration == 'month') {
                                date.setMonth(date.getMonth() + element['activity'].activity_duration);
                            }
                            element['min_date_target'] = date;
                            date = new Date(this.project.project_end);
                            element['max_date_target'] = date;
                            //We calcul min and max date begin
                            date = new Date(this.project.project_start);
                            element['min_date_begin'] = date;
                            date = new Date(element['date_target']);
                            if (element['activity'].activity_type_duration == 'days') {
                                date.setDate(date.getDate() - element['activity'].activity_duration);
                            }
                            else if (element['activity'].activity_type_duration == 'month') {
                                date.setMonth(date.getMonth() - element['activity'].activity_duration);
                            }
                            element['max_date_begin'] = date;
                            this.elements.push(element);
                        }
                        console.log(this.elements);
                        this.ready = true;
                        return [2 /*return*/];
                }
            });
        });
    };
    GanttCreationComponent.prototype.minMaxBeginDates = function (element) {
        element['min_date_begin'] = new _angular_common__WEBPACK_IMPORTED_MODULE_6__["DatePipe"]('en-US').transform(this.project.project_start, 'yyyy-MM-dd');
        var date = new Date(element['date_target']);
        if (element['activity'].activity_type_duration == 'days') {
            date.setDate(date.getDate() - element['activity'].activity_duration);
        }
        else if (element['activity'].activity_type_duration == 'month') {
            date.setMonth(date.getMonth() - element['activity'].activity_duration);
        }
        element['max_date_begin'] = new _angular_common__WEBPACK_IMPORTED_MODULE_6__["DatePipe"]('en-US').transform(date, 'yyyy-MM-dd');
        this.verificationDates(element);
    };
    GanttCreationComponent.prototype.verificationDates = function (element) {
        var date_begin = new Date(element['date_begin']);
        var max_date_begin = new Date(element['max_date_begin']);
        if (element['activity'].activity_type_duration != 'days' && element['activity'].activity_type_duration != 'months') {
            if (date_begin > max_date_begin) {
                date_begin = new Date(element['date_target']);
                element['date_begin'] = new _angular_common__WEBPACK_IMPORTED_MODULE_6__["DatePipe"]('en-US').transform(date_begin, 'yyyy-MM-dd');
            }
        }
        else {
            if (date_begin >= max_date_begin) {
                date_begin = new Date(element['date_target']);
                if (element['activity'].activity_type_duration == 'days') {
                    date_begin.setDate(date_begin.getDate() - element['activity'].activity_duration);
                }
                else if (element['activity'].activity_type_duration == 'months') {
                    date_begin.setMonth(date_begin.getMonth() - element['activity'].activity_duration);
                }
                element['date_begin'] = new _angular_common__WEBPACK_IMPORTED_MODULE_6__["DatePipe"]('en-US').transform(date_begin, 'yyyy-MM-dd');
            }
        }
    };
    GanttCreationComponent.prototype.selectRow = function (element) {
        this.element_selected = element;
    };
    GanttCreationComponent.prototype.sortTable = function (n) {
        var table, rows, switching, i, x, y, shouldSwitch, dir, switchcount = 0;
        table = document.getElementById("gantt-table");
        switching = true;
        // Set the sorting direction to ascending:
        dir = "asc";
        /* Make a loop that will continue until
        no switching has been done: */
        while (switching) {
            // Start by saying: no switching is done:
            switching = false;
            rows = table.getElementsByTagName("TR");
            /* Loop through all table rows (except the
            first, which contains table headers): */
            for (i = 1; i < (rows.length - 1); i++) {
                // Start by saying there should be no switching:
                shouldSwitch = false;
                /* Get the two elements you want to compare,
                one from current row and one from the next: */
                x = rows[i].getElementsByTagName("TD")[n];
                y = rows[i + 1].getElementsByTagName("TD")[n];
                /* Check if the two rows should switch place,
                based on the direction, asc or desc: */
                if (dir == "asc") {
                    if (x.innerHTML.toLowerCase() > y.innerHTML.toLowerCase()) {
                        // If so, mark as a switch and break the loop:
                        shouldSwitch = true;
                        break;
                    }
                }
                else if (dir == "desc") {
                    if (x.innerHTML.toLowerCase() < y.innerHTML.toLowerCase()) {
                        // If so, mark as a switch and break the loop:
                        shouldSwitch = true;
                        break;
                    }
                }
            }
            if (shouldSwitch) {
                /* If a switch has been marked, make the switch
                and mark that a switch has been done: */
                rows[i].parentNode.insertBefore(rows[i + 1], rows[i]);
                switching = true;
                // Each time a switch is done, increase this count by 1:
                switchcount++;
            }
            else {
                /* If no switching has been done AND the direction is "asc",
                set the direction to "desc" and run the while loop again. */
                if (switchcount == 0 && dir == "asc") {
                    dir = "desc";
                    switching = true;
                }
            }
        }
    };
    GanttCreationComponent.prototype.sortTable1 = function (n) {
        var table, rows, switching, i, x, y, shouldSwitch, dir, switchcount = 0;
        table = document.getElementById("worker-table");
        switching = true;
        // Set the sorting direction to ascending:
        dir = "asc";
        /* Make a loop that will continue until
        no switching has been done: */
        while (switching) {
            // Start by saying: no switching is done:
            switching = false;
            rows = table.getElementsByTagName("TR");
            /* Loop through all table rows (except the
            first, which contains table headers): */
            for (i = 1; i < (rows.length - 1); i++) {
                // Start by saying there should be no switching:
                shouldSwitch = false;
                /* Get the two elements you want to compare,
                one from current row and one from the next: */
                x = rows[i].getElementsByTagName("TD")[n];
                y = rows[i + 1].getElementsByTagName("TD")[n];
                /* Check if the two rows should switch place,
                based on the direction, asc or desc: */
                if (dir == "asc") {
                    if (x.innerHTML.toLowerCase() > y.innerHTML.toLowerCase()) {
                        // If so, mark as a switch and break the loop:
                        shouldSwitch = true;
                        break;
                    }
                }
                else if (dir == "desc") {
                    if (x.innerHTML.toLowerCase() < y.innerHTML.toLowerCase()) {
                        // If so, mark as a switch and break the loop:
                        shouldSwitch = true;
                        break;
                    }
                }
            }
            if (shouldSwitch) {
                /* If a switch has been marked, make the switch
                and mark that a switch has been done: */
                rows[i].parentNode.insertBefore(rows[i + 1], rows[i]);
                switching = true;
                // Each time a switch is done, increase this count by 1:
                switchcount++;
            }
            else {
                /* If no switching has been done AND the direction is "asc",
                set the direction to "desc" and run the while loop again. */
                if (switchcount == 0 && dir == "asc") {
                    dir = "desc";
                    switching = true;
                }
            }
        }
    };
    GanttCreationComponent.prototype.search = function () {
        // Declare variables
        var input, filter, table, tr, td, i;
        input = document.getElementById("search");
        filter = input.value.toUpperCase();
        table = document.getElementById("gantt-table");
        tr = table.getElementsByTagName("tr");
        // Loop through all table rows, and hide those who don't match the search query
        for (i = 0; i < tr.length; i++) {
            td = tr[i].getElementsByTagName("td")[1];
            if (td) {
                if (td.innerHTML.toUpperCase().indexOf(filter) > -1) {
                    tr[i].style.display = "";
                }
                else {
                    tr[i].style.display = "none";
                }
            }
        }
    };
    GanttCreationComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-gantt-creation',
            template: __webpack_require__(/*! ./gantt-creation.component.html */ "./src/app/component/gantt/gantt-creation/gantt-creation.component.html"),
            styles: [__webpack_require__(/*! ./gantt-creation.component.scss */ "./src/app/component/gantt/gantt-creation/gantt-creation.component.scss")]
        }),
        __metadata("design:paramtypes", [_objects_member_activity_project_member_activity_project_service__WEBPACK_IMPORTED_MODULE_1__["MemberActivityProjectService"],
            _objects_activity_activity_service__WEBPACK_IMPORTED_MODULE_2__["ActivityService"],
            _objects_project_project_service__WEBPACK_IMPORTED_MODULE_3__["ProjectService"],
            _objects_member_member_service__WEBPACK_IMPORTED_MODULE_4__["MemberService"],
            _objects_job_job_service__WEBPACK_IMPORTED_MODULE_7__["JobService"],
            _angular_router__WEBPACK_IMPORTED_MODULE_5__["Router"]])
    ], GanttCreationComponent);
    return GanttCreationComponent;
}());



/***/ }),

/***/ "./src/app/component/gantt/gantt.component.html":
/*!******************************************************!*\
  !*** ./src/app/component/gantt/gantt.component.html ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/component/gantt/gantt.component.scss":
/*!******************************************************!*\
  !*** ./src/app/component/gantt/gantt.component.scss ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/component/gantt/gantt.component.ts":
/*!****************************************************!*\
  !*** ./src/app/component/gantt/gantt.component.ts ***!
  \****************************************************/
/*! exports provided: GanttComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GanttComponent", function() { return GanttComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

var GanttComponent = /** @class */ (function () {
    function GanttComponent() {
        this.project_id = "";
    }
    GanttComponent.prototype.ngOnInit = function () {
    };
    GanttComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-gantt',
            template: __webpack_require__(/*! ./gantt.component.html */ "./src/app/component/gantt/gantt.component.html"),
            styles: [__webpack_require__(/*! ./gantt.component.scss */ "./src/app/component/gantt/gantt.component.scss")]
        }),
        __metadata("design:paramtypes", [])
    ], GanttComponent);
    return GanttComponent;
}());



/***/ }),

/***/ "./src/app/component/home/home.component.css":
/*!***************************************************!*\
  !*** ./src/app/component/home/home.component.css ***!
  \***************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "h5 {\r\n  color: #7b7b7b !important;\r\n}\r\n\r\nh1 {\r\n  font-size: 3em !important;\r\n}\r\n\r\nhtml {\r\n  min-height: 100% !important;\r\n}\r\n\r\n.row-first {\r\n  margin-top: 15% !important;\r\n}\r\n\r\n\r\n\r\n"

/***/ }),

/***/ "./src/app/component/home/home.component.html":
/*!****************************************************!*\
  !*** ./src/app/component/home/home.component.html ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class=\"container\">\r\n  <div class=\"row row-first\">\r\n    <div class=\"col-6\">\r\n      <h5 class=\"font-weight-bold text-uppercase\">Welcome to sop manager</h5>\r\n      <h1 class=\"row-first font-weight-bold\">Set up and manage your projects with SOP Manager</h1>\r\n    </div>\r\n  </div>\r\n</div>\r\n"

/***/ }),

/***/ "./src/app/component/home/home.component.ts":
/*!**************************************************!*\
  !*** ./src/app/component/home/home.component.ts ***!
  \**************************************************/
/*! exports provided: HomeComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "HomeComponent", function() { return HomeComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

var HomeComponent = /** @class */ (function () {
    function HomeComponent() {
    }
    HomeComponent.prototype.ngOnInit = function () {
    };
    HomeComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-home',
            template: __webpack_require__(/*! ./home.component.html */ "./src/app/component/home/home.component.html"),
            styles: [__webpack_require__(/*! ./home.component.css */ "./src/app/component/home/home.component.css")]
        }),
        __metadata("design:paramtypes", [])
    ], HomeComponent);
    return HomeComponent;
}());



/***/ }),

/***/ "./src/app/component/job-list/job-creation/job-creation.component.html":
/*!*****************************************************************************!*\
  !*** ./src/app/component/job-list/job-creation/job-creation.component.html ***!
  \*****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class=\"container\">\r\n\r\n  <!-- SOP List back button -->\r\n  <div class=\"row row-first\">\r\n    <div class=\"col\">\r\n      <button type=\"button\" class=\"btn btn-outline-danger waves-effect\" data-toggle=\"modal\" data-target=\"#warningModal\"><h6 class=\"no-margin-bottom\"><i class=\"fa fa-times mr-3\"></i>Back</h6></button>\r\n    </div>\r\n  </div>\r\n\r\n  <!--Error message-->\r\n  <div class=\"row\">\r\n    <!-- Error alert -->\r\n    <div *ngIf=\"errorMessage\" class=\"col offset-2 row justify-content-end error-text\">\r\n      <i>{{errorMessage}}</i>\r\n    </div>\r\n  </div>\r\n\r\n  <!-- SOP Form -->\r\n  <div class=\"row row-first justify-content-center\">\r\n\r\n    <!-- Card -->\r\n    <div class=\"col card card-cascade hoverable\">\r\n\r\n      <!-- Card content -->\r\n      <div class=\"card-body card-body-cascade\">\r\n\r\n        <p class=\"h4 text-center mb-4\">Job code : {{job.job_code}}</p>\r\n\r\n          <div class=\"row row-first\">\r\n            <div class=\"col-3 text-center\">Selected</div>\r\n            <div class=\"offset-1 col-6\">Activity name</div>\r\n            <div class=\"col-2 text-center\">Sub activities</div>\r\n          </div>\r\n\r\n          <div (click)=\"isActivityPicked()\" *ngFor=\"let activity of activities\">\r\n            <hr>\r\n            <div class=\"row\">\r\n              <div class=\"col-3 text-center\">\r\n                <input type=\"checkbox\" class=\"form-check-input\" (click)=\"pickActivity(activity)\" id=\"{{activity.activity_id}}\">\r\n              </div>\r\n              <div class=\"offset-1 col-6\">{{activity.activity_title}}</div>\r\n              <div class=\"col text-center\">\r\n                <a>\r\n                  <i class=\"fa fa-eye text-blue\" data-toggle=\"collapse\" [attr.data-target]=\"'#s_' + activity.activity_id\" aria-expanded=\"false\" aria-controls=\"{{activity.activity_title}}\"></i>\r\n                </a>\r\n              </div>\r\n            </div>\r\n            <!-- Collapsible element -->\r\n            <div class=\"collapse\" id=\"s_{{activity.activity_id}}\">\r\n              <div *ngFor=\"let sub_activity of sub_activities[activities.indexOf(activity)]\" class=\"row\">\r\n                <div class=\"offset-1 col-2 text-center\">\r\n                  <input type=\"checkbox\" class=\"form-check-input\" id=\"{{sub_activity.activity_id}}\">\r\n                </div>\r\n                <div class=\"offset-1 col-6\">{{sub_activity.activity_title}}</div>\r\n              </div>\r\n            </div>\r\n            <!-- / Collapsible element -->\r\n          </div>\r\n\r\n        <div class=\"row md-form\">\r\n          <div class=\"col-12 row justify-content-end\">\r\n            <div class=\"\">\r\n              <button [disabled]=\"!isJobChecked\" class=\"btn btn-success waves-effect\" data-toggle=\"modal\" data-target=\"#confirmationModal\" type=\"button\">Finish</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n      </div>\r\n      <!-- Card content -->\r\n\r\n    </div>\r\n    <!-- Card -->\r\n\r\n  </div>\r\n  <!-- SOP Form -->\r\n\r\n</div>\r\n\r\n<!-- Modal confirmation -->\r\n<app-confirmation title=\"Confirmation SOP creation\"\r\n                  text=\"Are you sure do you want to link these activities to the job : {{job.job_code}} ?\"\r\n                  (success)=\"onSubmit($event)\"\r\n                  [isLinkActive]=false\r\n                  link=\"job-list\">\r\n</app-confirmation>\r\n\r\n<!-- Modal warning -->\r\n<app-warning title=\"Exit\"\r\n             text=\"Are you sure you want to go back to the JOB list ?\"\r\n             [isLink]=true\r\n             link=\"job-list\">\r\n</app-warning>\r\n"

/***/ }),

/***/ "./src/app/component/job-list/job-creation/job-creation.component.scss":
/*!*****************************************************************************!*\
  !*** ./src/app/component/job-list/job-creation/job-creation.component.scss ***!
  \*****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".card-body {\n  padding-bottom: 6% !important; }\n"

/***/ }),

/***/ "./src/app/component/job-list/job-creation/job-creation.component.ts":
/*!***************************************************************************!*\
  !*** ./src/app/component/job-list/job-creation/job-creation.component.ts ***!
  \***************************************************************************/
/*! exports provided: JobCreationComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "JobCreationComponent", function() { return JobCreationComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _objects_job_job__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../objects/job/job */ "./src/app/objects/job/job.ts");
/* harmony import */ var _objects_job_job_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../objects/job/job.service */ "./src/app/objects/job/job.service.ts");
/* harmony import */ var _objects_sop_sop_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../objects/sop/sop.service */ "./src/app/objects/sop/sop.service.ts");
/* harmony import */ var _objects_activity_activity_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../objects/activity/activity.service */ "./src/app/objects/activity/activity.service.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






var JobCreationComponent = /** @class */ (function () {
    function JobCreationComponent(_jobService, _sopService, _activityService, router) {
        this._jobService = _jobService;
        this._sopService = _sopService;
        this._activityService = _activityService;
        this.router = router;
        /* ----- Data ----- */
        this.errorMessage = "";
        this.job = new _objects_job_job__WEBPACK_IMPORTED_MODULE_1__["Job"]();
    }
    JobCreationComponent.prototype.ngOnInit = function () {
        this.sop_id = this._sopService.getSopIdLocal();
        this.job.job_id = this._jobService.getJobIdLocal();
        this.loadActivity();
        this.selectJob(this.job.job_id);
        this.loadChekedActivities();
    };
    JobCreationComponent.prototype.onSubmit = function () {
        var _this = this;
        var elements = document.querySelectorAll(".form-check-input");
        var sub_id;
        for (var i = 0; i < elements.length; i++) {
            if (elements[i]['checked'] == true) {
                sub_id = elements[i].id;
                this._jobService.bind_job_activity(this.job.job_id, sub_id).subscribe(function (res) {
                    _this.errorMessage = "";
                    _this.router.navigate(['/job-list']);
                }, function (error) {
                    _this.errorMessage = error.error.message;
                });
                ;
            }
        }
    };
    JobCreationComponent.prototype.loadChekedActivities = function () {
        var _this = this;
        this._activityService.selectAllFromJob(this.job.job_id).subscribe(function (res) {
            _this.errorMessage = "";
            var picks = document.querySelectorAll(".form-check-input");
            var activities = res['data'];
            console.log(activities);
            for (var i = 0; i < picks.length; i++) {
                for (var _i = 0, activities_1 = activities; _i < activities_1.length; _i++) {
                    var a = activities_1[_i];
                    if (a['activity_id'] == picks[i]['id']) {
                        picks[i]['checked'] = true;
                    }
                }
            }
        }, function (error) {
            _this.errorMessage = error.error.message;
        });
    };
    JobCreationComponent.prototype.loadActivity = function () {
        var _this = this;
        this.activities = [];
        this.sub_activities = [[]];
        this._activityService.selectAllFromSop(this.sop_id).subscribe(function (res) {
            _this.errorMessage = "";
            for (var _i = 0, _a = res['data']; _i < _a.length; _i++) {
                var element = _a[_i];
                var activity = element;
                if (activity.activity_id_is_father == null || activity.activity_id_is_father == "") {
                    _this.activities.push(activity);
                    _this.sub_activities.push([]);
                }
            }
            console.log(_this.activities);
            for (var _b = 0, _c = res['data']; _b < _c.length; _b++) {
                var element = _c[_b];
                var activity = element;
                if (activity.activity_id_is_father != null || activity.activity_id_is_father != "") {
                    var i = 0;
                    while (i < _this.activities.length && _this.activities[i].activity_id != element.activity_id_is_father) {
                        i++;
                    }
                    if (i < _this.activities.length) {
                        _this.sub_activities[i].push(activity);
                    }
                }
            }
        }, function (error) {
            _this.errorMessage = error.error.message;
        });
    };
    JobCreationComponent.prototype.selectJob = function (job_id) {
        var _this = this;
        this._jobService.select(job_id).subscribe(function (res) {
            _this.errorMessage = "";
            _this.job = res['data'];
        }, function (error) {
            _this.errorMessage = error.error.message;
        });
    };
    JobCreationComponent.prototype.pickActivity = function (activity) {
        var sub_a = this.sub_activities[this.activities.indexOf(activity)];
        var a = document.getElementById(activity.activity_id);
        var old = document.getElementsByTagName('input');
        for (var i = 0; i < (old.length); i++) {
            old[i]['checked'] = false;
        }
        a['checked'] = true;
        for (var _i = 0, sub_a_1 = sub_a; _i < sub_a_1.length; _i++) {
            var s = sub_a_1[_i];
            document.getElementById(s.activity_id)['checked'] = true;
        }
        /*
        if (a['checked']) {
          for (let s of sub_a){
            document.getElementById(s.activity_id)['checked'] = true;
          }
        }else{
          for (let s of sub_a){
            document.getElementById(s.activity_id)['checked'] = false;
          }
        }*/
    };
    JobCreationComponent.prototype.isActivityPicked = function () {
        var elements = document.querySelectorAll(".form-check-input");
        var isChecked = false;
        for (var i = 0; i < elements.length; i++) {
            console.log("Let's check");
            if (elements[i]['checked'] == true) {
                isChecked = true;
            }
        }
        this.isJobChecked = isChecked;
    };
    JobCreationComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-job-creation',
            template: __webpack_require__(/*! ./job-creation.component.html */ "./src/app/component/job-list/job-creation/job-creation.component.html"),
            styles: [__webpack_require__(/*! ./job-creation.component.scss */ "./src/app/component/job-list/job-creation/job-creation.component.scss")]
        }),
        __metadata("design:paramtypes", [_objects_job_job_service__WEBPACK_IMPORTED_MODULE_2__["JobService"],
            _objects_sop_sop_service__WEBPACK_IMPORTED_MODULE_3__["SopService"],
            _objects_activity_activity_service__WEBPACK_IMPORTED_MODULE_4__["ActivityService"],
            _angular_router__WEBPACK_IMPORTED_MODULE_5__["Router"]])
    ], JobCreationComponent);
    return JobCreationComponent;
}());



/***/ }),

/***/ "./src/app/component/job-list/job-list.component.html":
/*!************************************************************!*\
  !*** ./src/app/component/job-list/job-list.component.html ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class=\"container\">\r\n\r\n  <!-- SOP List back button -->\r\n  <div class=\"row row-first\">\r\n    <div class=\"col\">\r\n      <button type=\"button\" class=\"btn btn-outline-danger waves-effect\" [routerLink]=\"['/sop-list']\"><h6 class=\"no-margin-bottom\"><i class=\"fa fa-times mr-3\"></i>Back</h6></button>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"row row-first justify-content-center\">\r\n\r\n    <div class=\"col-12 card card-cascade hoverable\">\r\n      <!--Table-->\r\n      <div class=\"card-body card-body-cascade\">\r\n\r\n        <form>\r\n          <!-- Job Title -->\r\n          <div class=\"row md-form\">\r\n            <div class=\"col\">\r\n              <i class=\"fa fa-pencil prefix grey-text\"></i>\r\n              <input [(ngModel)]=\"newJobTitle\" name=\"newJobTitle\" type=\"text\" id=\"newJobTitle\" class=\"form-control\">\r\n              <label for=\"newJobTitle\">Job title</label>\r\n            </div>\r\n            <div>\r\n              <button class=\"btn btn-success waves-effect\" type=\"button\" (click)=\"addJob()\">Add</button>\r\n            </div>\r\n          </div>\r\n        </form>\r\n\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"row row-first justify-content-center\">\r\n\r\n      <!--Table-->\r\n    <table class=\"col-12 table table-borderless hoverable table-hover table-fixed\" id=\"job-table\">\r\n          <!--Table head-->\r\n          <thead class=\"\">\r\n          <tr class=\"text-white\">\r\n            <th style=\"width:80%;\" ><a>Job Code</a></th>\r\n            <th class=\"text-center\" style=\"width:10%;\" ><a>Activities</a></th>\r\n            <th class=\"text-center\" style=\"width:10%;\"><a>Delete</a></th>\r\n          </tr>\r\n          </thead>\r\n          <!--Table head-->\r\n\r\n          <!--Table body-->\r\n          <tbody>\r\n          <tr *ngFor=\"let job of jobs\">\r\n            <td>{{job.job_code}}</td>\r\n            <td class=\"text-center\">\r\n              <a (click)=\"bindActivities(job.job_id)\"><i class=\"fa fa-cog text-blue\"></i></a>\r\n            </td>\r\n            <td class=\"text-center\">\r\n              <a data-toggle=\"modal\" data-target=\"#warningModal\"><i class=\"fa fa-close text-red\"></i></a>\r\n            </td>\r\n          </tr>\r\n          </tbody>\r\n          <!--Table body-->\r\n\r\n        </table>\r\n        <!--Table-->\r\n\r\n  </div>\r\n</div>\r\n\r\n<!-- Modal warning -->\r\n<app-warning title=\"Delete Job\"\r\n             text=\"Are you sure you want to delete the Job : from the Job list ?\"\r\n             link=\"sop-list\"\r\n             [isLink]=false>\r\n             <!--(success)=\"deleteSop(sopSelected.sop_id)\"-->\r\n\r\n</app-warning>\r\n\r\n"

/***/ }),

/***/ "./src/app/component/job-list/job-list.component.scss":
/*!************************************************************!*\
  !*** ./src/app/component/job-list/job-list.component.scss ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/component/job-list/job-list.component.ts":
/*!**********************************************************!*\
  !*** ./src/app/component/job-list/job-list.component.ts ***!
  \**********************************************************/
/*! exports provided: JobListComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "JobListComponent", function() { return JobListComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _objects_job_job_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../objects/job/job.service */ "./src/app/objects/job/job.service.ts");
/* harmony import */ var _objects_sop_sop_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../objects/sop/sop.service */ "./src/app/objects/sop/sop.service.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var JobListComponent = /** @class */ (function () {
    function JobListComponent(_jobService, _sopService, router) {
        this._jobService = _jobService;
        this._sopService = _sopService;
        this.router = router;
        this.errorMessage = "";
        this.newJobTitle = "";
    }
    JobListComponent.prototype.ngOnInit = function () {
        this.sop_id = this._sopService.getSopIdLocal();
        this._jobService.removeJobIdLocal();
        this.loadJobs();
    };
    JobListComponent.prototype.loadJobs = function () {
        var _this = this;
        this.jobs = [];
        this._jobService.selectAllFromSop(this.sop_id).subscribe(function (res) {
            _this.errorMessage = "";
            for (var _i = 0, _a = res['data']; _i < _a.length; _i++) {
                var element = _a[_i];
                var job = element;
                _this.jobs.push(job);
            }
        }, function (error) {
            _this.errorMessage = error.error.message;
        });
    };
    JobListComponent.prototype.addJob = function () {
        var _this = this;
        this._jobService.createJob(this.newJobTitle, this.newJobTitle, this.sop_id).subscribe(function (res) {
            _this.errorMessage = "";
            _this.loadJobs();
        }, function (error) {
            _this.errorMessage = error.error.message;
        });
    };
    JobListComponent.prototype.bindActivities = function (job_id) {
        //We store this id in the local storage to re-use it for the activities binding
        localStorage.setItem('Job_id', job_id);
        this.router.navigate(['/', 'job-creation']);
    };
    JobListComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-job-list',
            template: __webpack_require__(/*! ./job-list.component.html */ "./src/app/component/job-list/job-list.component.html"),
            styles: [__webpack_require__(/*! ./job-list.component.scss */ "./src/app/component/job-list/job-list.component.scss")]
        }),
        __metadata("design:paramtypes", [_objects_job_job_service__WEBPACK_IMPORTED_MODULE_1__["JobService"],
            _objects_sop_sop_service__WEBPACK_IMPORTED_MODULE_2__["SopService"],
            _angular_router__WEBPACK_IMPORTED_MODULE_3__["Router"]])
    ], JobListComponent);
    return JobListComponent;
}());



/***/ }),

/***/ "./src/app/component/job-list/job/job.component.html":
/*!***********************************************************!*\
  !*** ./src/app/component/job-list/job/job.component.html ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<p>\r\n  job works!\r\n</p>\r\n"

/***/ }),

/***/ "./src/app/component/job-list/job/job.component.scss":
/*!***********************************************************!*\
  !*** ./src/app/component/job-list/job/job.component.scss ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/component/job-list/job/job.component.ts":
/*!*********************************************************!*\
  !*** ./src/app/component/job-list/job/job.component.ts ***!
  \*********************************************************/
/*! exports provided: JobComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "JobComponent", function() { return JobComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

var JobComponent = /** @class */ (function () {
    function JobComponent() {
    }
    JobComponent.prototype.ngOnInit = function () {
    };
    JobComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-job',
            template: __webpack_require__(/*! ./job.component.html */ "./src/app/component/job-list/job/job.component.html"),
            styles: [__webpack_require__(/*! ./job.component.scss */ "./src/app/component/job-list/job/job.component.scss")]
        }),
        __metadata("design:paramtypes", [])
    ], JobComponent);
    return JobComponent;
}());



/***/ }),

/***/ "./src/app/component/master-of-work/master-of-work.component.html":
/*!************************************************************************!*\
  !*** ./src/app/component/master-of-work/master-of-work.component.html ***!
  \************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class=\"container\" *ngIf=\"!ready\">\r\n  <div class=\"row-first\">\r\n    <app-loader></app-loader>\r\n  </div>\r\n</div>\r\n\r\n<div class=\"container\" *ngIf=\"ready\">\r\n\r\n  <div class=\"row row-first\">\r\n    <div class=\"col\">\r\n      <button type=\"button\" class=\"btn btn-outline-danger waves-effect\" [routerLink]=\"['/project-list']\"><h6 class=\"no-margin-bottom\"><i class=\"fa fa-times mr-3\"></i>Back</h6></button>\r\n    </div>\r\n  </div>\r\n\r\n  <!-- Error alert -->\r\n  <div class=\"row row-first justify-content-end error-text\">\r\n    <i>{{errorMessage}}</i>\r\n  </div>\r\n\r\n  <!-- MASTER OF WORK -->\r\n  <div *ngFor=\"let job of convertMap(activities)\" class=\"row-first card card-cascade hoverable\">\r\n    <div class=\"card-body card-body-cascade\">\r\n      <!--Title-->\r\n      <h4 style=\"margin-bottom: 10px !important;\" class=\"row justify-content-center card-title\">\r\n        <div class=\"col-2 text-link\">\r\n          {{job['job'].job_id}}\r\n        </div>\r\n        <div class=\"col\">\r\n          {{job['job'].job_name}}\r\n        </div>\r\n        <div class=\"col text-right\">\r\n          <a>\r\n            <i class=\"fa fa-eye text-blue\" data-toggle=\"collapse\" [attr.data-target]=\"'#'+job['job'].job_id\" aria-expanded=\"false\" aria-controls=\"{{job['job'].job_id}}\"></i>\r\n          </a>\r\n        </div>\r\n      </h4>\r\n\r\n      <div class=\"collapse row justify-content-center\" id=\"{{job['job'].job_id}}\">\r\n        <div class=\"row row-first col-12\">\r\n          <div class=\"offset-2 col-4\">\r\n            ACTIVITY\r\n          </div>\r\n          <div class=\"col-4\">\r\n            UNIT\r\n          </div>\r\n        </div>\r\n\r\n        <!-- JOB  -->\r\n        <div *ngFor=\"let father_activity of convertMap(job['activities'])\" class=\"col-12 row justify-content-center\">\r\n\r\n          <hr class=\"col-11\">\r\n\r\n          <div class=\"col-1\">\r\n            <a (click)=\"pickActivity(father_activity, 1)\" data-toggle=\"modal\" data-target=\"#activityModal\"><i class=\"fa fa-cog text-blue\"></i></a>\r\n          </div>\r\n          <div class=\"col-1\">({{father_activity['sub_activities'].length}})</div>\r\n          <div class=\"col-4 text-left\">{{father_activity['activity'].activity_title}}</div>\r\n          <div class=\"col-4 text-left\">{{father_activity['unit'].unit_name}}</div>\r\n          <div class=\"col-2 text-center\">\r\n            <a *ngIf=\"father_activity['sub_activities'].length != 0\">\r\n              <i class=\"fa fa-eye text-blue\" data-toggle=\"collapse\" [attr.data-target]=\"'#'+father_activity['job_id']+'-'+father_activity['activity'].activity_id\" aria-expanded=\"false\" aria-controls=\"{{father_activity['activity'].activity_id}}\"></i>\r\n            </a>\r\n          </div>\r\n\r\n          <!-- Collapsible element -->\r\n          <ng-controller class=\"col-12 collapse\" id=\"{{father_activity['job_id']}}-{{father_activity['activity'].activity_id}}\">\r\n            <div class=\"row\" *ngFor=\"let sub_activity of father_activity['sub_activities']\">\r\n              <div class=\"offset-1 col-1\">\r\n                <a (click)=\"pickActivity(sub_activity, 2)\" data-toggle=\"modal\" data-target=\"#activityModal\"><i class=\"fa fa-cog text-link\"></i></a>\r\n              </div>\r\n              <div class=\"col-10 text-left\">\r\n                {{sub_activity.activity_title}}\r\n              </div>\r\n            </div>\r\n          </ng-controller>\r\n          <!-- / Collapsible element -->\r\n\r\n        </div>\r\n\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n</div>\r\n\r\n<app-activity-update *ngIf=\"activity_selected != null\"\r\n                     title={{title_modal_activity}}\r\n                     [units]=convertMap(units)\r\n                     [managment_levels]=management_levels\r\n                     [activityUpdate]=activity_selected\r\n                     [isActive]=false\r\n                     [isLinkActive]=false>\r\n</app-activity-update>\r\n\r\n\r\n\r\n"

/***/ }),

/***/ "./src/app/component/master-of-work/master-of-work.component.scss":
/*!************************************************************************!*\
  !*** ./src/app/component/master-of-work/master-of-work.component.scss ***!
  \************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/component/master-of-work/master-of-work.component.ts":
/*!**********************************************************************!*\
  !*** ./src/app/component/master-of-work/master-of-work.component.ts ***!
  \**********************************************************************/
/*! exports provided: MasterOfWorkComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MasterOfWorkComponent", function() { return MasterOfWorkComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _objects_project_project_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../objects/project/project.service */ "./src/app/objects/project/project.service.ts");
/* harmony import */ var _helpers_text_helper_text_helper_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../helpers/text-helper/text-helper.component */ "./src/app/helpers/text-helper/text-helper.component.ts");
/* harmony import */ var _objects_activity_activity_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../objects/activity/activity.service */ "./src/app/objects/activity/activity.service.ts");
/* harmony import */ var _objects_member_activity_project_member_activity_project_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../objects/member_activity_project/member-activity-project.service */ "./src/app/objects/member_activity_project/member-activity-project.service.ts");
/* harmony import */ var _objects_job_job_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../objects/job/job.service */ "./src/app/objects/job/job.service.ts");
/* harmony import */ var _objects_unit_unit_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../objects/unit/unit.service */ "./src/app/objects/unit/unit.service.ts");
/* harmony import */ var _objects_managment_level_managment_level_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../objects/managment_level/managment-level.service */ "./src/app/objects/managment_level/managment-level.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = y[op[0] & 2 ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [0, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};








var MasterOfWorkComponent = /** @class */ (function () {
    function MasterOfWorkComponent(_projectService, _activityService, _jobService, _managmentLevel, _unitService, _memberActivityProjectService) {
        this._projectService = _projectService;
        this._activityService = _activityService;
        this._jobService = _jobService;
        this._managmentLevel = _managmentLevel;
        this._unitService = _unitService;
        this._memberActivityProjectService = _memberActivityProjectService;
        /* ----- Data ----- */
        this.errorMessage = "";
        this.ready = false;
        this.textHelper = new _helpers_text_helper_text_helper_component__WEBPACK_IMPORTED_MODULE_2__["TextHelperComponent"]();
        /*
         * activities: MAP[KEY: job_id, VALUES: {job: Job,
         *                                       activities: MAP[KEY: activity_id, VALUES: {activity: Activity,
         *                                                                                  sub_activities: Activity[]
         *                                                                                 }
         *                                                      ]
         *                                       }
         *                ]
         */
        this.activities = new Map();
        this.units = new Map();
        this.management_levels = [];
        this.title_modal_activity = 'Update activity ';
    }
    MasterOfWorkComponent.prototype.ngOnInit = function () {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.loadData()];
                    case 1:
                        _a.sent();
                        this.ready = true;
                        console.log(this.activities);
                        return [2 /*return*/];
                }
            });
        });
    };
    /* ------------------ LOAD METHODS ------------------ */
    /* ------------------ LOAD METHODS ------------------ */
    MasterOfWorkComponent.prototype.loadData = function () {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.loadProject()];
                    case 1:
                        _a.sent();
                        return [4 /*yield*/, this.loadActivitiesFromProject()];
                    case 2:
                        _a.sent();
                        return [4 /*yield*/, this.loadManagement()];
                    case 3:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    MasterOfWorkComponent.prototype.loadProject = function () {
        return __awaiter(this, void 0, void 0, function () {
            var project_id, p, error_1;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        _a.trys.push([0, 2, , 3]);
                        project_id = localStorage.getItem("Project_id");
                        return [4 /*yield*/, this._projectService.getProject(project_id).toPromise()];
                    case 1:
                        p = _a.sent();
                        this.project = p['data'];
                        return [3 /*break*/, 3];
                    case 2:
                        error_1 = _a.sent();
                        this.errorMessage = error_1.message;
                        return [3 /*break*/, 3];
                    case 3: return [2 /*return*/];
                }
            });
        });
    };
    MasterOfWorkComponent.prototype.loadActivitiesFromProject = function () {
        return __awaiter(this, void 0, void 0, function () {
            var maps, activities_id, activities, _i, activities_id_1, activity_id, activity, job, unit, e, error_2;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        _a.trys.push([0, 8, , 9]);
                        return [4 /*yield*/, this._memberActivityProjectService.selectAllFromProjectDistinct(this.project.project_id).toPromise()];
                    case 1:
                        maps = _a.sent();
                        activities_id = maps['data'];
                        activities = [];
                        _i = 0, activities_id_1 = activities_id;
                        _a.label = 2;
                    case 2:
                        if (!(_i < activities_id_1.length)) return [3 /*break*/, 7];
                        activity_id = activities_id_1[_i];
                        return [4 /*yield*/, this._activityService.select(activity_id['activity_id']).toPromise()];
                    case 3:
                        activity = _a.sent();
                        return [4 /*yield*/, this._jobService.select(activity_id['job_id']).toPromise()];
                    case 4:
                        job = _a.sent();
                        return [4 /*yield*/, this._unitService.selectAllFromActivity(activity_id['activity_id']).toPromise()];
                    case 5:
                        unit = _a.sent();
                        e = {
                            activity: activity['data'],
                            job: job['data'],
                            unit: unit['data'][0]
                        };
                        activities.push(e);
                        this.units.set(unit['data'][0].unit_id, unit['data'][0]);
                        _a.label = 6;
                    case 6:
                        _i++;
                        return [3 /*break*/, 2];
                    case 7:
                        this.sortActivities(activities);
                        return [3 /*break*/, 9];
                    case 8:
                        error_2 = _a.sent();
                        this.errorMessage = error_2.message;
                        return [3 /*break*/, 9];
                    case 9: return [2 /*return*/];
                }
            });
        });
    };
    MasterOfWorkComponent.prototype.loadManagement = function () {
        return __awaiter(this, void 0, void 0, function () {
            var m, error_3;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        _a.trys.push([0, 2, , 3]);
                        return [4 /*yield*/, this._managmentLevel.selectAll().toPromise()];
                    case 1:
                        m = _a.sent();
                        this.management_levels = m['data'];
                        return [3 /*break*/, 3];
                    case 2:
                        error_3 = _a.sent();
                        this.errorMessage = error_3.message;
                        return [3 /*break*/, 3];
                    case 3: return [2 /*return*/];
                }
            });
        });
    };
    /* ------------------ SORT METHODS ------------------ */
    /* ------------------ SORT METHODS ------------------ */
    /*
     * DATA - activities: {job: Job, activity: Activity, unit: Unit}
     */
    MasterOfWorkComponent.prototype.sortActivities = function (activities) {
        //We have a main activity
        for (var _i = 0, activities_1 = activities; _i < activities_1.length; _i++) {
            var activity = activities_1[_i];
            if (activity['activity'].activity_id_is_father == null || activity['activity'].activity_id_is_father == "") {
                //We create the job if needed
                if (this.activities.get(activity['job'].job_id) == null) {
                    var e1 = {
                        job: activity['job'],
                        activities: new Map()
                    };
                    this.activities.set(activity['job'].job_id, e1);
                }
                //We store the activity
                var a = this.activities.get(activity['job'].job_id)['activities'];
                var e2 = {
                    activity: activity['activity'],
                    job_id: activity['job'].job_id,
                    unit: activity['unit'],
                    sub_activities: []
                };
                a.set(activity['activity'].activity_id, e2);
            }
        }
        //We have sub activities
        for (var _a = 0, activities_2 = activities; _a < activities_2.length; _a++) {
            var activity = activities_2[_a];
            if (activity['activity'].activity_id_is_father != null && activity['activity'].activity_id_is_father != "") {
                var main_activity = this.activities.get(activity['job'].job_id)['activities'];
                var sub_activities = main_activity.get(activity['activity'].activity_id_is_father)['sub_activities'];
                sub_activities.push(activity['activity']);
            }
        }
    };
    /* ------------------ METHODS ------------------ */
    /* ------------------ METHODS ------------------ */
    /* Ask by the view, return the right sub activities for the right unit of a job */
    MasterOfWorkComponent.prototype.pickActivity = function (activity, level) {
        if (level == 1) {
            this.activity_selected = activity['activity'];
            this.title_modal_activity = 'Informations : ' + activity['activity'].activity_title;
        }
        else {
            this.activity_selected = activity;
            this.title_modal_activity = 'Update activity ' + activity.activity_title;
        }
        this.sub_activities_linked = null;
    };
    /* ------------------ HELPER ------------------ */
    /* ------------------ HELPER ------------------ */
    //Convert map to array to use it in the view
    MasterOfWorkComponent.prototype.convertMap = function (map) {
        return Array.from(map.values());
    };
    MasterOfWorkComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-master-of-work',
            template: __webpack_require__(/*! ./master-of-work.component.html */ "./src/app/component/master-of-work/master-of-work.component.html"),
            styles: [__webpack_require__(/*! ./master-of-work.component.scss */ "./src/app/component/master-of-work/master-of-work.component.scss")]
        }),
        __metadata("design:paramtypes", [_objects_project_project_service__WEBPACK_IMPORTED_MODULE_1__["ProjectService"],
            _objects_activity_activity_service__WEBPACK_IMPORTED_MODULE_3__["ActivityService"],
            _objects_job_job_service__WEBPACK_IMPORTED_MODULE_5__["JobService"],
            _objects_managment_level_managment_level_service__WEBPACK_IMPORTED_MODULE_7__["ManagmentLevelService"],
            _objects_unit_unit_service__WEBPACK_IMPORTED_MODULE_6__["UnitService"],
            _objects_member_activity_project_member_activity_project_service__WEBPACK_IMPORTED_MODULE_4__["MemberActivityProjectService"]])
    ], MasterOfWorkComponent);
    return MasterOfWorkComponent;
}());



/***/ }),

/***/ "./src/app/component/not-found/not-found/not-found.component.html":
/*!************************************************************************!*\
  !*** ./src/app/component/not-found/not-found/not-found.component.html ***!
  \************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class=\"container\">\n  <div style=\"padding: 5%\">\n    <img src=\"assets/images/logo-stikom.png\" style=\"width: 25%;\" class=\"float-left\" alt=\"logo stikom\"/>\n    <div style=\"width: 60%; padding-top: 5%; word-wrap: break-word\" class=\"float-right\">\n      <h1 class=\"display-1 red-text\">404 Error !</h1>\n      <h1 class=\"display-4\" >The page {{router.url}} you are asking doesn't exist.</h1>\n    </div>\n  </div>\n</div>\n\n\n"

/***/ }),

/***/ "./src/app/component/not-found/not-found/not-found.component.scss":
/*!************************************************************************!*\
  !*** ./src/app/component/not-found/not-found/not-found.component.scss ***!
  \************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/component/not-found/not-found/not-found.component.ts":
/*!**********************************************************************!*\
  !*** ./src/app/component/not-found/not-found/not-found.component.ts ***!
  \**********************************************************************/
/*! exports provided: NotFoundComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NotFoundComponent", function() { return NotFoundComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var NotFoundComponent = /** @class */ (function () {
    function NotFoundComponent(router) {
        this.router = router;
    }
    NotFoundComponent.prototype.ngOnInit = function () {
    };
    NotFoundComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-not-found',
            template: __webpack_require__(/*! ./not-found.component.html */ "./src/app/component/not-found/not-found/not-found.component.html"),
            styles: [__webpack_require__(/*! ./not-found.component.scss */ "./src/app/component/not-found/not-found/not-found.component.scss")]
        }),
        __metadata("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_1__["Router"]])
    ], NotFoundComponent);
    return NotFoundComponent;
}());



/***/ }),

/***/ "./src/app/component/organization-management/organization-management.component.html":
/*!******************************************************************************************!*\
  !*** ./src/app/component/organization-management/organization-management.component.html ***!
  \******************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class=\"container\" *ngIf=\"!displayEnd\">\r\n  <div class=\"row row-first justify-content-center\">\r\n\r\n    <!-- Card -->\r\n    <div class=\"col-10 col-sm-8 col-md-6 col-xl-4 card\" style=\"padding-top: 10px;\">\r\n      <p class=\"h4 text-center mb-4\">Organization management</p>\r\n    </div>\r\n  </div>\r\n  <div class=\"row justify-content-center\" style=\"margin-top: 10px;\">\r\n\r\n    <!-- Card -->\r\n    <div class=\"col-10 col-sm-8 col-md-6 col-xl-4 card card-cascade hoverable\">\r\n\r\n      <!-- Card content -->\r\n      <div class=\"card-body card-body-cascade\">\r\n\r\n        <!-- Material form register -->\r\n        <form>\r\n\r\n          <!-- First step of the form -->\r\n\r\n          <!-- Error alert -->\r\n          <div *ngIf=\"errorMessage\" class=\"alert alert-danger\" role=\"alert\">\r\n            {{errorMessage}}\r\n          </div>\r\n\r\n          <!-- Second step of the form -->\r\n          <div class=\"form-group\">\r\n\r\n            <!-- Organisation -->\r\n            <div class=\"md-form\">\r\n              <select [(ngModel)]=\"organisationChoosen\" name=\"organisation\" class=\"form-control mdb-select\" (change)=\"enableBranch()\" >\r\n                <option value=\"\" disabled selected>Choose organisation</option>\r\n                <option *ngFor=\"let orga of organisations\" [ngValue]=orga.organisation_id>{{orga.organisation_name}}</option>\r\n              </select>\r\n            </div>\r\n\r\n            <!-- Branch -->\r\n            <div class=\"md-form\" *ngIf=\"organisationChoosen\">\r\n              <select [(ngModel)]=\"branchChoosen\" name=\"branch\" class=\"form-control\" [disabled]=\"!branchEnabled\" (change)=\"enableDepartment()\" >\r\n                <option value=\"\" disabled selected>Choose a branch</option>\r\n                <option *ngFor=\"let branch of branchs\" [ngValue]=branch.branch_id>{{branch.branch_name}}</option>\r\n              </select>\r\n            </div>\r\n\r\n            <!-- Department -->\r\n            <div class=\"md-form\" *ngIf=\"branchChoosen\">\r\n              <select [(ngModel)]=\"departmentChoosen\" name=\"department\" class=\"form-control mdb-select\" [disabled]=\"!departmentEnabled\" (change)=\"enableSubDepartment()\" >\r\n                <option value=\"\" disabled selected>Choose department</option>\r\n                <option *ngFor=\"let department of departments\" [ngValue]=department.department_id>{{department.department_name}}</option>\r\n\r\n              </select>\r\n            </div>\r\n\r\n            <!-- SubDepartment -->\r\n            <div class=\"md-form\" *ngIf=\"departmentChoosen\">\r\n              <select [(ngModel)]=\"subDepartmentChoosen\" name=\"subDepartment\" class=\"form-control mdb-select\" [disabled]=\"!subDepartmentEnabled\" >\r\n                <option value=\"\" disabled selected>Choose sub-department</option>\r\n                <option *ngFor=\"let subDepartment of subDepartments\" [ngValue]=subDepartment.sub_department_id>{{subDepartment.sub_department_name}}</option>\r\n              </select>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"text-center mt-4\">\r\n            <div class=\"md-form\">\r\n              <a class=\"btn btn-danger\" (click)=\"deleteOrganization()\" *ngIf=\"organisationChoosen && !branchChoosen\">Delete this organization</a>\r\n              <a class=\"btn btn-danger\" (click)=\"deleteBranch()\" *ngIf=\"branchChoosen && !departmentChoosen\">Delete this branch</a>\r\n              <a class=\"btn btn-danger\" (click)=\"deletedepartment()\" *ngIf=\"departmentChoosen && !subDepartmentChoosen\">Delete this department</a>\r\n              <a class=\"btn btn-danger\" (click)=\"deleteSubDepartment()\" *ngIf=\"subDepartmentChoosen\">Delete this sub department</a>\r\n            </div>\r\n            <div class=\"md-form\">\r\n              <input [(ngModel)]=\"addInput\" name=\"addInput\" type=\"text\" id=\"addInput\" class=\"form-control\">\r\n              <label *ngIf=\"!organisationChoosen\" for=\"addInput\">New Organization name</label>\r\n              <label *ngIf=\"organisationChoosen && !branchChoosen\" for=\"addInput\">New Branch name</label>\r\n              <label *ngIf=\"branchChoosen && !departmentChoosen\" for=\"addInput\">New Department name</label>\r\n              <label *ngIf=\"departmentChoosen && !subDepartmentChoosen\" for=\"addInput\">New Sub department name</label>\r\n            </div>\r\n            <div class=\"md-form\">\r\n              <a class=\"btn btn-success\" (click)=\"addOrganization()\" *ngIf=\"!organisationChoosen\">Add a new organization</a>\r\n              <a class=\"btn btn-success\" (click)=\"addBranch()\" *ngIf=\"organisationChoosen && !branchChoosen\">Add a new branch</a>\r\n              <a class=\"btn btn-success\" (click)=\"addDepartment()\" *ngIf=\"branchChoosen && !departmentChoosen\">Add a new department</a>\r\n              <a class=\"btn btn-success\" (click)=\"addSubDepartment()\" *ngIf=\"departmentChoosen && !subDepartmentChoosen\">Add a new sub department</a>\r\n            </div>\r\n          </div>\r\n\r\n        </form>\r\n        <!-- Material form register -->\r\n\r\n      </div>\r\n    </div>\r\n\r\n  </div>\r\n</div>\r\n\r\n\r\n<div *ngIf=\"displayEnd\" class=\"container\">\r\n  <div class=\"row row-first justify-content-center\">\r\n\r\n    <!-- Card -->\r\n    <div class=\"col-10 col-sm-8 col-md-6 col-xl-4 card card-cascade hoverable\">\r\n\r\n      <!-- Card content -->\r\n      <div class=\"card-body card-body-cascade\">\r\n\r\n        <p class=\"h4 text-center mb-4\" >{{title}}</p>\r\n\r\n\r\n        <p class=\"text-center mb-4\">\r\n          {{text}}\r\n        </p>\r\n\r\n        <div class=\"text-center mt-4\">\r\n          <a class=\"btn btn-default\" (click)=\"goBack()\" >go Back</a>\r\n        </div>\r\n\r\n      </div>\r\n    </div>\r\n\r\n\r\n\r\n  </div>\r\n</div>\r\n"

/***/ }),

/***/ "./src/app/component/organization-management/organization-management.component.scss":
/*!******************************************************************************************!*\
  !*** ./src/app/component/organization-management/organization-management.component.scss ***!
  \******************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/component/organization-management/organization-management.component.ts":
/*!****************************************************************************************!*\
  !*** ./src/app/component/organization-management/organization-management.component.ts ***!
  \****************************************************************************************/
/*! exports provided: OrganizationManagementComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "OrganizationManagementComponent", function() { return OrganizationManagementComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _objects_organisation_organisation_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../objects/organisation/organisation.service */ "./src/app/objects/organisation/organisation.service.ts");
/* harmony import */ var _objects_branch_branch_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../objects/branch/branch.service */ "./src/app/objects/branch/branch.service.ts");
/* harmony import */ var _objects_department_department_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../objects/department/department.service */ "./src/app/objects/department/department.service.ts");
/* harmony import */ var _objects_sub_department_sub_department_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../objects/sub_department/sub-department.service */ "./src/app/objects/sub_department/sub-department.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = y[op[0] & 2 ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [0, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};






var OrganizationManagementComponent = /** @class */ (function () {
    function OrganizationManagementComponent(_organisationService, _branchService, _departmentService, _subDepartmentService, router) {
        this._organisationService = _organisationService;
        this._branchService = _branchService;
        this._departmentService = _departmentService;
        this._subDepartmentService = _subDepartmentService;
        this.router = router;
        this.branchEnabled = false;
        this.departmentEnabled = false;
        this.subDepartmentEnabled = false;
        this.organisationChoosen = "";
        this.branchChoosen = "";
        this.departmentChoosen = "";
        this.subDepartmentChoosen = "";
        this.addInput = "";
        this.errorMessage = "";
        this.displayEnd = false;
    }
    OrganizationManagementComponent.prototype.ngOnInit = function () {
        this.getOrganisations();
    };
    OrganizationManagementComponent.prototype.getOrganisations = function () {
        var _this = this;
        this._organisationService.selectAll()
            .subscribe(function (res) {
            console.log(res['data']);
            _this.organisations = res['data'];
        }, function (error) {
            console.log("ERREUR : ", error);
        });
    };
    // Select fields authorizations
    OrganizationManagementComponent.prototype.enableBranch = function () {
        var _this = this;
        if (this.organisationChoosen != "") {
            this._branchService.selectAllFromOrganisation(this.organisationChoosen)
                .subscribe(function (res) {
                _this.branchs = res['data'];
                _this.branchEnabled = true;
                _this.errorMessage = "";
            }, function (error) {
                _this.errorMessage = error.error.message;
            });
        }
        this.branchChoosen = "";
        this.departmentChoosen = "";
        this.subDepartmentChoosen = "";
    };
    OrganizationManagementComponent.prototype.enableDepartment = function () {
        var _this = this;
        if (this.branchChoosen != "") {
            if (this.branchChoosen != 'blank') {
                this._departmentService.selectAllFromBranch(this.branchChoosen)
                    .subscribe(function (res) {
                    console.log(res['data']);
                    _this.departments = res['data'];
                    _this.departmentEnabled = true;
                    _this.errorMessage = "";
                }, function (error) {
                    _this.errorMessage = error.error.message;
                    _this.departmentEnabled = false;
                    _this.subDepartmentEnabled = false;
                    _this.departmentChoosen = "blank";
                    _this.subDepartmentChoosen = "blank";
                });
            }
            else {
                this.departmentEnabled = false;
                this.subDepartmentEnabled = false;
                this.departmentChoosen = "blank";
                this.subDepartmentChoosen = "blank";
            }
        }
        this.departmentChoosen = "";
        this.subDepartmentChoosen = "";
    };
    OrganizationManagementComponent.prototype.enableSubDepartment = function () {
        var _this = this;
        if (this.departmentChoosen != "") {
            if (this.departmentChoosen != "blank") {
                this._subDepartmentService.selectAllFromDepartment(this.departmentChoosen)
                    .subscribe(function (res) {
                    console.log(res['data']);
                    _this.subDepartments = res['data'];
                    _this.subDepartmentEnabled = true;
                    _this.errorMessage = "";
                }, function (error) {
                    _this.errorMessage = error.error.message;
                    _this.subDepartmentEnabled = false;
                    _this.subDepartmentChoosen = "blank";
                });
            }
            else {
                this.subDepartmentEnabled = false;
                this.subDepartmentChoosen = "blank";
            }
        }
        this.subDepartmentChoosen = "";
    };
    OrganizationManagementComponent.prototype.goBack = function () {
        this.title = "";
        this.text = "";
        this.displayEnd = false;
    };
    OrganizationManagementComponent.prototype.reloadForm = function () {
        this.getOrganisations();
        this.organisationChoosen = "";
        this.branchChoosen = "";
        this.departmentChoosen = "";
        this.subDepartmentChoosen = "";
        this.addInput = "";
    };
    OrganizationManagementComponent.prototype.addOrganization = function () {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (!(this.addInput == "")) return [3 /*break*/, 1];
                        this.errorMessage = "Organization label invalid.";
                        return [3 /*break*/, 3];
                    case 1: 
                    //adding organisation
                    return [4 /*yield*/, this.newOrganization()];
                    case 2:
                        //adding organisation
                        _a.sent();
                        this.reloadForm();
                        _a.label = 3;
                    case 3: return [2 /*return*/];
                }
            });
        });
    };
    OrganizationManagementComponent.prototype.newOrganization = function () {
        return __awaiter(this, void 0, void 0, function () {
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this._organisationService.add(this.addInput)
                            .subscribe(function (res) {
                            _this.newBranch(res['data']['organisation_id'], "No branch");
                            _this.title = "Succes";
                            _this.text = "The organization has been added";
                            _this.errorMessage = "";
                            _this.displayEnd = true;
                        }, function (error) {
                            _this.title = "ERROR";
                            _this.text = error.error.message;
                            _this.errorMessage = "";
                            _this.displayEnd = true;
                        })];
                    case 1:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    OrganizationManagementComponent.prototype.addBranch = function () {
        if (this.addInput == "") {
            this.errorMessage = "Branch label invalid.";
        }
        else if (this.organisationChoosen == "") {
            this.errorMessage = "Choose a organisation to add a new branch";
        }
        else {
            //adding organisation
            this.newBranch(this.organisationChoosen, this.addInput);
            this.reloadForm();
        }
    };
    OrganizationManagementComponent.prototype.newBranch = function (organizationId, input) {
        return __awaiter(this, void 0, void 0, function () {
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this._branchService.add(input, organizationId)
                            .subscribe(function (res) {
                            _this.newDepartment(res['data']['branch_id'], "No department");
                            _this.title = "Succes";
                            _this.text = "The branch has been added";
                            _this.errorMessage = "";
                            _this.displayEnd = true;
                        }, function (error) {
                            _this.title = "ERROR";
                            _this.text = error.error.message;
                            _this.errorMessage = "";
                            _this.displayEnd = true;
                        })];
                    case 1:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    OrganizationManagementComponent.prototype.addDepartment = function () {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (!(this.addInput == "")) return [3 /*break*/, 1];
                        this.errorMessage = "Department label invalid.";
                        return [3 /*break*/, 4];
                    case 1:
                        if (!(this.branchChoosen == "")) return [3 /*break*/, 2];
                        this.errorMessage = "Choose a branch to add a new department";
                        return [3 /*break*/, 4];
                    case 2: 
                    //adding organisation
                    return [4 /*yield*/, this.newDepartment(this.branchChoosen, this.addInput)];
                    case 3:
                        //adding organisation
                        _a.sent();
                        this.reloadForm();
                        _a.label = 4;
                    case 4: return [2 /*return*/];
                }
            });
        });
    };
    OrganizationManagementComponent.prototype.newDepartment = function (branchId, input) {
        return __awaiter(this, void 0, void 0, function () {
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this._departmentService.add(input, branchId)
                            .subscribe(function (res) {
                            _this.newSubDepartment(res['data']['department_id'], "No sub department");
                            _this.title = "Succes";
                            _this.text = "The department has been added";
                            _this.errorMessage = "";
                            _this.displayEnd = true;
                        }, function (error) {
                            _this.title = "ERROR";
                            _this.text = error.error.message;
                            _this.errorMessage = "";
                            _this.displayEnd = true;
                        })];
                    case 1:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    OrganizationManagementComponent.prototype.addSubDepartment = function () {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (!(this.addInput == "")) return [3 /*break*/, 1];
                        this.errorMessage = "Sub department label invalid.";
                        return [3 /*break*/, 4];
                    case 1:
                        if (!(this.departmentChoosen == "")) return [3 /*break*/, 2];
                        this.errorMessage = "Choose a department to add a new sub department";
                        return [3 /*break*/, 4];
                    case 2: 
                    //adding organisation
                    return [4 /*yield*/, this.newSubDepartment(this.departmentChoosen, this.addInput)];
                    case 3:
                        //adding organisation
                        _a.sent();
                        this.reloadForm();
                        _a.label = 4;
                    case 4: return [2 /*return*/];
                }
            });
        });
    };
    OrganizationManagementComponent.prototype.newSubDepartment = function (departmentId, input) {
        return __awaiter(this, void 0, void 0, function () {
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this._subDepartmentService.add(input, departmentId)
                            .subscribe(function (res) {
                            _this.title = "Succes";
                            _this.text = "The sub department has been added";
                            _this.errorMessage = "";
                            _this.displayEnd = true;
                        }, function (error) {
                            _this.title = "ERROR";
                            _this.text = error.error.message;
                            _this.errorMessage = "";
                            _this.displayEnd = true;
                        })];
                    case 1:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    OrganizationManagementComponent.prototype.deleteOrganization = function () {
        return __awaiter(this, void 0, void 0, function () {
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this._organisationService.delete(this.organisationChoosen)
                            .subscribe(function (res) {
                            _this.title = "Succes";
                            _this.text = "The organization has been deleted";
                            _this.errorMessage = "";
                            _this.displayEnd = true;
                            _this.reloadForm();
                        }, function (error) {
                            _this.title = "ERROR";
                            _this.text = error.error.message;
                            _this.errorMessage = "";
                            _this.displayEnd = true;
                        })];
                    case 1:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    OrganizationManagementComponent.prototype.deleteBranch = function () {
        return __awaiter(this, void 0, void 0, function () {
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this._branchService.delete(this.branchChoosen)
                            .subscribe(function (res) {
                            _this.title = "Succes";
                            _this.text = "The branch has been deleted";
                            _this.errorMessage = "";
                            _this.displayEnd = true;
                            _this.reloadForm();
                        }, function (error) {
                            _this.title = "ERROR";
                            _this.text = error.error.message;
                            _this.errorMessage = "";
                            _this.displayEnd = true;
                        })];
                    case 1:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    OrganizationManagementComponent.prototype.deleteDepartment = function () {
        return __awaiter(this, void 0, void 0, function () {
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this._departmentService.delete(this.departmentChoosen)
                            .subscribe(function (res) {
                            _this.title = "Succes";
                            _this.text = "The department has been deleted";
                            _this.errorMessage = "";
                            _this.displayEnd = true;
                            _this.reloadForm();
                        }, function (error) {
                            _this.title = "ERROR";
                            _this.text = error.error.message;
                            _this.errorMessage = "";
                            _this.displayEnd = true;
                        })];
                    case 1:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    OrganizationManagementComponent.prototype.deleteSubDepartment = function () {
        return __awaiter(this, void 0, void 0, function () {
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this._subDepartmentService.delete(this.subDepartmentChoosen)
                            .subscribe(function (res) {
                            _this.title = "Succes";
                            _this.text = "The sub department has been deleted";
                            _this.errorMessage = "";
                            _this.displayEnd = true;
                            _this.reloadForm();
                        }, function (error) {
                            _this.title = "ERROR";
                            _this.text = error.error.message;
                            _this.errorMessage = "";
                            _this.displayEnd = true;
                        })];
                    case 1:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    OrganizationManagementComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-organization-management',
            template: __webpack_require__(/*! ./organization-management.component.html */ "./src/app/component/organization-management/organization-management.component.html"),
            styles: [__webpack_require__(/*! ./organization-management.component.scss */ "./src/app/component/organization-management/organization-management.component.scss")]
        }),
        __metadata("design:paramtypes", [_objects_organisation_organisation_service__WEBPACK_IMPORTED_MODULE_2__["OrganisationService"],
            _objects_branch_branch_service__WEBPACK_IMPORTED_MODULE_3__["BranchService"],
            _objects_department_department_service__WEBPACK_IMPORTED_MODULE_4__["DepartmentService"],
            _objects_sub_department_sub_department_service__WEBPACK_IMPORTED_MODULE_5__["SubDepartmentService"],
            _angular_router__WEBPACK_IMPORTED_MODULE_1__["Router"]])
    ], OrganizationManagementComponent);
    return OrganizationManagementComponent;
}());



/***/ }),

/***/ "./src/app/component/performance-project/performance-project.component.css":
/*!*********************************************************************************!*\
  !*** ./src/app/component/performance-project/performance-project.component.css ***!
  \*********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/component/performance-project/performance-project.component.html":
/*!**********************************************************************************!*\
  !*** ./src/app/component/performance-project/performance-project.component.html ***!
  \**********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class=\"container\">\r\n  <div class=\"row row-first\">\r\n    <div class=\"col-12 card card-cascade hoverable\">\r\n      <!--Table-->\r\n      <div class=\"card-body card-body-cascade\">\r\n        Global vue\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class=\"row\" style=\"padding: 20px;\">\r\n    <div class=\"col-sm-12 col-lg-6\" style=\"height: 350px\">\r\n      <p>You are <span class=\"red-text\">Late</span> of 2 days</p>\r\n    </div>\r\n    <div class=\"col-sm-12 col-lg-6 \">\r\n\r\n    </div>\r\n\r\n  </div>\r\n  <div class=\"row row-first\">\r\n    <div class=\"col-12 card card-cascade hoverable\">\r\n      <!--Table-->\r\n      <div class=\"card-body card-body-cascade\">\r\n        Tasks\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"row justify-content-center\" style=\"margin-top: 20px\">\r\n\r\n    <div class=\"col-12 card card-cascade hoverable\">\r\n      <!--Table-->\r\n      <div class=\"card-body card-body-cascade\">\r\n        <table class=\"table\">\r\n\r\n          <!--Table head-->\r\n          <thead class=\"\">\r\n          <tr class=\"text-white\">\r\n            <th>No</th>\r\n            <th>Work</th>\r\n            <th>Output</th>\r\n            <th>Target duration</th>\r\n            <th>Target date</th>\r\n          </tr>\r\n          </thead>\r\n          <!--Table head-->\r\n\r\n          <!--Table body-->\r\n          <tbody>\r\n          <tr>\r\n            <th scope=\"row\">1</th>\r\n            <td>Create document</td>\r\n            <td>1 document</td>\r\n            <td>1/2 day</td>\r\n            <td>18/05/2018</td>\r\n          </tr>\r\n          <tr>\r\n            <th scope=\"row\">2</th>\r\n            <td>Create document</td>\r\n            <td>1 document</td>\r\n            <td>1/2 day</td>\r\n            <td>18/05/2018</td>\r\n          </tr>\r\n          <tr>\r\n            <th scope=\"row\">3</th>\r\n            <td>Create document</td>\r\n            <td>1 document</td>\r\n            <td>1/2 day</td>\r\n            <td>18/05/2018</td>\r\n          </tr>\r\n          </tbody>\r\n          <!--Table body-->\r\n\r\n        </table>\r\n        <!--Table-->\r\n      </div>\r\n    </div>\r\n\r\n  </div>\r\n\r\n\r\n</div>\r\n"

/***/ }),

/***/ "./src/app/component/performance-project/performance-project.component.ts":
/*!********************************************************************************!*\
  !*** ./src/app/component/performance-project/performance-project.component.ts ***!
  \********************************************************************************/
/*! exports provided: PerformanceProjectComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PerformanceProjectComponent", function() { return PerformanceProjectComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

var PerformanceProjectComponent = /** @class */ (function () {
    function PerformanceProjectComponent() {
    }
    PerformanceProjectComponent.prototype.ngOnInit = function () {
    };
    PerformanceProjectComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-performance-project',
            template: __webpack_require__(/*! ./performance-project.component.html */ "./src/app/component/performance-project/performance-project.component.html"),
            styles: [__webpack_require__(/*! ./performance-project.component.css */ "./src/app/component/performance-project/performance-project.component.css")]
        }),
        __metadata("design:paramtypes", [])
    ], PerformanceProjectComponent);
    return PerformanceProjectComponent;
}());



/***/ }),

/***/ "./src/app/component/performance-project/performance-report/performance-report.component.css":
/*!***************************************************************************************************!*\
  !*** ./src/app/component/performance-project/performance-report/performance-report.component.css ***!
  \***************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/component/performance-project/performance-report/performance-report.component.html":
/*!****************************************************************************************************!*\
  !*** ./src/app/component/performance-project/performance-report/performance-report.component.html ***!
  \****************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<p>\r\n  performance-report works!\r\n</p>\r\n"

/***/ }),

/***/ "./src/app/component/performance-project/performance-report/performance-report.component.ts":
/*!**************************************************************************************************!*\
  !*** ./src/app/component/performance-project/performance-report/performance-report.component.ts ***!
  \**************************************************************************************************/
/*! exports provided: PerformanceReportComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PerformanceReportComponent", function() { return PerformanceReportComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

var PerformanceReportComponent = /** @class */ (function () {
    function PerformanceReportComponent() {
    }
    PerformanceReportComponent.prototype.ngOnInit = function () {
    };
    PerformanceReportComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-performance-report',
            template: __webpack_require__(/*! ./performance-report.component.html */ "./src/app/component/performance-project/performance-report/performance-report.component.html"),
            styles: [__webpack_require__(/*! ./performance-report.component.css */ "./src/app/component/performance-project/performance-report/performance-report.component.css")]
        }),
        __metadata("design:paramtypes", [])
    ], PerformanceReportComponent);
    return PerformanceReportComponent;
}());



/***/ }),

/***/ "./src/app/component/performance-project/performance-target/performance-target.component.css":
/*!***************************************************************************************************!*\
  !*** ./src/app/component/performance-project/performance-target/performance-target.component.css ***!
  \***************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/component/performance-project/performance-target/performance-target.component.html":
/*!****************************************************************************************************!*\
  !*** ./src/app/component/performance-project/performance-target/performance-target.component.html ***!
  \****************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<p>\r\n  performance-target works!\r\n</p>\r\n"

/***/ }),

/***/ "./src/app/component/performance-project/performance-target/performance-target.component.ts":
/*!**************************************************************************************************!*\
  !*** ./src/app/component/performance-project/performance-target/performance-target.component.ts ***!
  \**************************************************************************************************/
/*! exports provided: PerformanceTargetComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PerformanceTargetComponent", function() { return PerformanceTargetComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

var PerformanceTargetComponent = /** @class */ (function () {
    function PerformanceTargetComponent() {
    }
    PerformanceTargetComponent.prototype.ngOnInit = function () {
    };
    PerformanceTargetComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-performance-target',
            template: __webpack_require__(/*! ./performance-target.component.html */ "./src/app/component/performance-project/performance-target/performance-target.component.html"),
            styles: [__webpack_require__(/*! ./performance-target.component.css */ "./src/app/component/performance-project/performance-target/performance-target.component.css")]
        }),
        __metadata("design:paramtypes", [])
    ], PerformanceTargetComponent);
    return PerformanceTargetComponent;
}());



/***/ }),

/***/ "./src/app/component/project-list/project-creation/project-creation.component.html":
/*!*****************************************************************************************!*\
  !*** ./src/app/component/project-list/project-creation/project-creation.component.html ***!
  \*****************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class=\"container\" *ngIf=\"!ready\">\r\n  <div class=\"row-first\">\r\n    <app-loader></app-loader>\r\n  </div>\r\n</div>\r\n\r\n<div class=\"container\" *ngIf=\"ready\">\r\n\r\n  <!-- SOP List back button -->\r\n  <div class=\"row row-first\">\r\n    <div class=\"col\">\r\n      <button type=\"button\" class=\"btn btn-outline-danger waves-effect\" data-toggle=\"modal\" data-target=\"#warningModal\"><h6 class=\"no-margin-bottom\"><i class=\"fa fa-times mr-3\"></i>Back</h6></button>\r\n    </div>\r\n  </div>\r\n\r\n  <!-- Project Form -->\r\n  <div class=\"row row-first justify-content-center\">\r\n\r\n    <!-- Card -->\r\n    <div class=\"col card card-cascade hoverable\">\r\n\r\n      <!-- Card content -->\r\n      <div class=\"card-body card-body-cascade\">\r\n\r\n        <p class=\"card-title h4 text-center mb-4\">Project Creation</p>\r\n\r\n        <!-- Form -->\r\n        <form>\r\n\r\n          <!-- SOP Model -->\r\n          <div [hidden]=\"stepSelected != 0\">\r\n            <div class=\"row md-form\">\r\n\r\n              <div class=\"offset-2 col-8\">\r\n                <p class=\"text-center mb-4 text-description\"> Please select a SOP model to begin your project </p>\r\n                <select name=\"sop_selected\" class=\"form-control\" multiple>\r\n                  <option value=\"\" disabled selected>Choose your model</option>\r\n                  <option *ngFor=\"let sop of sops\" (click)=\"selectSop(sop)\">{{textHelper.firstLetterUpperCase(sop.sop_title)}}</option>\r\n                </select>\r\n              </div>\r\n            </div>\r\n            <div class=\"row justify-content-center\">\r\n              <div>\r\n                <button [disabled]=\"sop_selected == null\" class=\"btn btn-primary waves-effect\" type=\"button\" (click)=\"loadJobsFromSop(); changeStep(true)\">Next</button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- Department selection -->\r\n          <div class=\"form-group\" [hidden]=\"stepSelected != 1\">\r\n\r\n            <div class=\"row\">\r\n              <div class=\"offset-2 col-8\">\r\n                <select (change)=\"pickOrganisation()\" [(ngModel)]=\"organisation\" name=\"organisation\" class=\"form-control\">\r\n                  <option name=\"organisation\" value=\"\" disabled selected>Choose organisation</option>\r\n                  <option *ngFor=\"let o of organisation_elements\" [ngValue]=\"o\">{{o['organisation'].organisation_name}}</option>\r\n                </select>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"row\">\r\n              <div class=\"offset-2 col-8\">\r\n                <select (change)=\"pickBranch()\" [disabled]=\"organisation == null\" [(ngModel)]=\"branch\" name=\"branch\" class=\"form-control\">\r\n                  <option name=\"organisation\" value=\"\" disabled selected>Choose branch</option>\r\n                  <option *ngFor=\"let b of organisation['branchs']\" [ngValue]=\"b\">{{b['branch'].branch_name}}</option>\r\n                </select>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"row\">\r\n              <div class=\"offset-2 col-8\">\r\n                <select (change)=\"pickDepartment()\" [disabled]=\"branch['branch'].branch_name == 'No branch'\" [(ngModel)]=\"department\" name=\"department\" class=\"form-control\">\r\n                  <option name=\"organisation\" value=\"\" disabled selected>Choose department</option>\r\n                  <option *ngFor=\"let d of branch['departments']\" [ngValue]=\"d\">{{d['department'].department_name}}</option>\r\n                </select>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"row\">\r\n              <div class=\"offset-2 col-8\">\r\n                <select [disabled]=\"department['department'].department_name == 'No department'\" [(ngModel)]=\"sub_department\" name=\"sub_department\" class=\"form-control\">\r\n                  <option name=\"organisation\" value=\"\" disabled selected>Choose organisation</option>\r\n                  <option *ngFor=\"let s of department['sub_departments']\" [ngValue]=\"s\">{{s.sub_department_name}}</option>\r\n                </select>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"row row-first justify-content-center\">\r\n              <div>\r\n                <button class=\"btn btn-danger waves-effect\" type=\"button\" (click)=\"changeStep(false)\">Back</button>\r\n              </div>\r\n              <div>\r\n                <button class=\"btn btn-primary waves-effect\" type=\"button\" (click)=\"changeStep(true)\">Next</button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- Job selection -->\r\n          <div [hidden]=\"stepSelected != 2\">\r\n\r\n            <div class=\"row md-form\">\r\n              <p class=\"col-12 text-center mb-4 text-description\"> Please choose one or more jobs </p>\r\n            </div>\r\n\r\n            <div class=\"row\">\r\n              <div class=\"col-12\">\r\n                <div class=\"card-body card-body-cascade\">\r\n\r\n                  <!--Table-->\r\n                  <table class=\"table table-borderless table-hover table-fixed\" id=\"job-table\">\r\n\r\n                    <!--Table head-->\r\n                    <thead class=\"\">\r\n                    <tr class=\"text-white\">\r\n                      <th style=\"width:10%\">Selected</th>\r\n                      <th><a>Job Code</a></th>\r\n                      <th><a>Job Name</a></th>\r\n                      <th>Grouped</th>\r\n                      <th class=\"text-center\"><a>Activities</a></th>\r\n                    </tr>\r\n                    </thead>\r\n                    <!--Table head-->\r\n\r\n                    <!--Table body-->\r\n                    <tbody>\r\n                    <tr *ngFor=\"let job of jobs\">\r\n                      <td class=\"text-center\">\r\n                        <input type=\"checkbox\" class=\"form-check-input\" (click)=\"pickJob(job, false)\" id=\"{{job.job_id}}\">\r\n                      </td>\r\n                      <td>{{job.job_code}}</td>\r\n                      <td>{{job.job_name}}</td>\r\n                      <td class=\"text-center\">\r\n                        <input type=\"checkbox\" class=\"form-check-input grouped\" (click)=\"pickJob(job, true)\" id=\"g_{{job.job_id}}\">\r\n                      </td>\r\n                      <td class=\"text-center\">\r\n                        <a><i class=\"fa fa-eye text-blue\"></i></a>\r\n                      </td>\r\n                    </tr>\r\n                    </tbody>\r\n                    <!--Table body-->\r\n\r\n                  </table>\r\n                  <!--Table-->\r\n\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"row justify-content-center\">\r\n              <div>\r\n                <button class=\"btn btn-danger waves-effect\" type=\"button\" (click)=\"changeStep(false)\">Back</button>\r\n              </div>\r\n              <div>\r\n                <button [disabled]=\"jobs_selected.size == 0\" class=\"btn btn-primary waves-effect\" type=\"button\" (click)=\"changeStep(true); loadUnitsFromJobs(); initializeProject();\">Next</button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <!-- Job selection -->\r\n\r\n          <!-- Unit affectation -->\r\n          <div [hidden]=\"stepSelected != 3\">\r\n            <div class=\"row md-form\">\r\n              <div class=\"offset-2 col-8\">\r\n                <p class=\"text-center mb-4 text-description\"> Choose an unit and pick members you want to add into </p>\r\n                <select name=\"unit_id_selected\" class=\"form-control\" multiple>\r\n                  <option value=\"\" disabled selected>Choose an unit</option>\r\n                  <option *ngFor=\"let unit of elements\" (click)=\"pickUnit(unit)\">\r\n                   ({{unit['detail']['members'].length}}){{unit['unit'].unit_name}} - {{unit['detail']['job'].job_name}}\r\n                  </option>\r\n                </select>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"row justify-content-center\">\r\n              <div class=\" md-form\" id=\"search-bar\">\r\n                <input id=\"search\" (keyup)=\"search()\" class=\"form-control\" type=\"text\" placeholder=\"Search member\" aria-label=\"Search\">\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"row md-form\">\r\n              <div class=\"offset-2 col-8\">\r\n                <select (click)=\"isUnitsReady()\" name=\"member_selected\" id=\"select-member\" class=\"form-control\" multiple>\r\n                  <option value=\"\" disabled selected>Add a member to the selected unit</option>\r\n                  <option *ngFor=\"let member of members\" (click)=\"pickMember(member); \">{{member.member_name.toUpperCase()}} {{member.member_first_name}}</option>\r\n                </select>\r\n              </div>\r\n            </div>\r\n            <div class=\"row justify-content-center\">\r\n              <div>\r\n                <button class=\"btn btn-danger waves-effect\" type=\"button\" (click)=\"changeStep(false)\">Back</button>\r\n              </div>\r\n              <div>\r\n                <button [disabled]=\"!unitsReady\" class=\"btn btn-primary waves-effect\" type=\"button\" (click)=\"changeStep(true)\">Next</button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <!-- Unit affectation -->\r\n\r\n          <!-- Project name -->\r\n          <div [hidden]=\"stepSelected != 4\">\r\n            <div class=\"row md-form\">\r\n              <p class=\"col-12 text-center mb-4 text-description\"> Please choose a project name </p>\r\n              <div class=\"offset-2 col-8\">\r\n                <input [(ngModel)]=\"new_project.project_title\" name=\"new_project.project_title\" type=\"text\" id=\"newTitle\" class=\"form-control\">\r\n                <label for=\"newTitle\">Project name</label>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"row md-form\">\r\n              <p class=\"col-12 text-center mb-4 text-description\"> Project date start </p>\r\n              <div class=\"offset-2 col-8\">\r\n                <input (change)=\"checkEndDate()\" [(ngModel)]=\"new_project_start\" name=\"new_project_start\" type=\"date\" id=\"new_project_start\" [min]=\"minimum_project_start\" class=\"form-control\">\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"row md-form\">\r\n              <p class=\"col-12 text-center mb-4 text-description\"> Project date end </p>\r\n              <div class=\"offset-2 col-8\">\r\n                <input [(ngModel)]=\"new_project_end\" name=\"new_project_project_end\" type=\"date\" id=\"new_project_end\" [min]=\"minimum_project_end\" class=\"form-control\">\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"row justify-content-center\">\r\n              <div>\r\n                <button class=\"btn btn-danger waves-effect\" type=\"button\" (click)=\"changeStep(false)\">Back</button>\r\n              </div>\r\n              <div>\r\n                <button [disabled]=\"new_project.project_title == null || new_project.project_title == ''\" class=\"btn btn-success waves-effect\" type=\"button\" data-toggle=\"modal\" data-target=\"#confirmationModal\">Finish</button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n        </form>\r\n        <!-- Form -->\r\n\r\n      </div>\r\n      <!-- Card content -->\r\n\r\n    </div>\r\n    <!-- Card -->\r\n\r\n  </div>\r\n  <!-- Project Form -->\r\n\r\n\r\n  <!--Title of the unit-->\r\n  <div class=\"row row-first\" [hidden]=\"stepSelected != 3\" >\r\n    <h4>\r\n      <span class=\"badge badge-pill badge-primary\" *ngIf=\"unit_selected != null\">{{unit_selected['unit'].unit_name}} - {{unit_selected['detail']['job'].job_name}}</span>\r\n    </h4>\r\n    <!-- Error alert -->\r\n    <div *ngIf=\"errorMessage\" class=\"col offset-2 row justify-content-end error-text\">\r\n      <i>{{errorMessage}}</i>\r\n    </div>\r\n  </div>\r\n\r\n  <!-- Member Unit Binding Display -->\r\n  <div class=\"row row-last justify-content-center\" [hidden]=\"stepSelected != 3\">\r\n\r\n        <table class=\"col table table-borderless table-hover table-fixed\" id=\"member-table\">\r\n\r\n          <!--Table head-->\r\n          <thead class=\"\">\r\n          <tr class=\"text-white\" *ngIf=\"unit_selected != null\">\r\n            <th style=\"width:40%;\"  (click)=\"sortTable(0)\"><a>Last Name</a></th>\r\n            <th style=\"width:40%;\" (click)=\"sortTable(1)\"><a>First Name</a></th>\r\n            <th style=\"width:10%;\">Remove</th>\r\n          </tr>\r\n\r\n          <tbody *ngIf=\"unit_selected != null\">\r\n\r\n          <tr *ngFor=\"let member of unit_selected['detail']['members']\">\r\n            <td>{{member.member_name.toUpperCase()}}</td>\r\n            <td>{{member.member_first_name}}</td>\r\n            <td>\r\n              <a (click)=\"removeMember(member); isUnitsReady()\"><i class=\"fa fa-close text-red\"></i></a>\r\n            </td>\r\n          </tr>\r\n\r\n          </tbody>\r\n        </table>\r\n\r\n  </div>\r\n  <!-- Activity Display -->\r\n\r\n\r\n\r\n</div>\r\n\r\n<!-- Modal warning -->\r\n<app-warning title=\"Exit\"\r\n                  text=\"Are you sure you want to exit ? All your work will be lost.\"\r\n                  [isLink]=true\r\n                  link=\"project-list\">\r\n</app-warning>\r\n\r\n<!-- Modal confirmation -->\r\n<app-confirmation title=\"Confirmation Project creation\"\r\n                  text=\"Are you sure all informations about this project are correct ?\"\r\n                  (success)=\"onSubmit()\"\r\n                  [isLinkActive]=false\r\n                  link=\"project-creation\">\r\n</app-confirmation>\r\n"

/***/ }),

/***/ "./src/app/component/project-list/project-creation/project-creation.component.scss":
/*!*****************************************************************************************!*\
  !*** ./src/app/component/project-list/project-creation/project-creation.component.scss ***!
  \*****************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/component/project-list/project-creation/project-creation.component.ts":
/*!***************************************************************************************!*\
  !*** ./src/app/component/project-list/project-creation/project-creation.component.ts ***!
  \***************************************************************************************/
/*! exports provided: ProjectCreationComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ProjectCreationComponent", function() { return ProjectCreationComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _objects_sop_sop_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../objects/sop/sop.service */ "./src/app/objects/sop/sop.service.ts");
/* harmony import */ var _objects_job_job_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../objects/job/job.service */ "./src/app/objects/job/job.service.ts");
/* harmony import */ var _objects_unit_unit_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../objects/unit/unit.service */ "./src/app/objects/unit/unit.service.ts");
/* harmony import */ var _objects_member_member_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../objects/member/member.service */ "./src/app/objects/member/member.service.ts");
/* harmony import */ var _objects_activity_activity_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../objects/activity/activity.service */ "./src/app/objects/activity/activity.service.ts");
/* harmony import */ var _objects_project_project_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../objects/project/project.service */ "./src/app/objects/project/project.service.ts");
/* harmony import */ var _objects_project_project__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../objects/project/project */ "./src/app/objects/project/project.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var _objects_member_activity_project_member_activity_project__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../objects/member_activity_project/member-activity-project */ "./src/app/objects/member_activity_project/member-activity-project.ts");
/* harmony import */ var _objects_organisation_organisation_service__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../objects/organisation/organisation.service */ "./src/app/objects/organisation/organisation.service.ts");
/* harmony import */ var _objects_sub_department_sub_department_service__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../objects/sub_department/sub-department.service */ "./src/app/objects/sub_department/sub-department.service.ts");
/* harmony import */ var _objects_branch_branch_service__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../objects/branch/branch.service */ "./src/app/objects/branch/branch.service.ts");
/* harmony import */ var _objects_department_department_service__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../objects/department/department.service */ "./src/app/objects/department/department.service.ts");
/* harmony import */ var _helpers_text_helper_text_helper_component__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../helpers/text-helper/text-helper.component */ "./src/app/helpers/text-helper/text-helper.component.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = y[op[0] & 2 ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [0, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
















var ProjectCreationComponent = /** @class */ (function () {
    function ProjectCreationComponent(_sopService, _jobService, _unitService, _memberService, _activityService, _projectService, router, _organisationService, _branchService, _departmentService, _subDepartmentService) {
        this._sopService = _sopService;
        this._jobService = _jobService;
        this._unitService = _unitService;
        this._memberService = _memberService;
        this._activityService = _activityService;
        this._projectService = _projectService;
        this.router = router;
        this._organisationService = _organisationService;
        this._branchService = _branchService;
        this._departmentService = _departmentService;
        this._subDepartmentService = _subDepartmentService;
        /* ----- Data ----- */
        this.errorMessage = "";
        this.ready = false;
        this.unitsReady = false;
        this.formReady = false;
        this.jobs_selected = new Map();
        this.new_project_title = "";
        //Manage the disabled function of organisations selects
        this.organisation_elements = [];
        this.organisation = this.organisation_elements[0];
        this.textHelper = new _helpers_text_helper_text_helper_component__WEBPACK_IMPORTED_MODULE_15__["TextHelperComponent"]();
    }
    ProjectCreationComponent.prototype.ngOnInit = function () {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this.stepSelected = 0;
                        this.new_project = new _objects_project_project__WEBPACK_IMPORTED_MODULE_7__["Project"]();
                        return [4 /*yield*/, this.loadSops()];
                    case 1:
                        _a.sent();
                        return [4 /*yield*/, this.loadOrganisations()];
                    case 2:
                        _a.sent();
                        return [4 /*yield*/, this.loadMembers()];
                    case 3:
                        _a.sent();
                        this.ready = true;
                        return [2 /*return*/];
                }
            });
        });
    };
    //We set the right dates to the new project
    ProjectCreationComponent.prototype.initializeProject = function () {
        return __awaiter(this, void 0, void 0, function () {
            var start, jobs, jobs_selected, _i, jobs_1, j, p, p2;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        start = new Date();
                        this.minimum_project_start = moment__WEBPACK_IMPORTED_MODULE_9__(start).format('YYYY-MM-DD');
                        start = new Date();
                        this.new_project_start = moment__WEBPACK_IMPORTED_MODULE_9__(start).format('YYYY-MM-DD');
                        jobs = Array.from(this.jobs_selected.values());
                        jobs_selected = [];
                        for (_i = 0, jobs_1 = jobs; _i < jobs_1.length; _i++) {
                            j = jobs_1[_i];
                            jobs_selected.push(j['job']);
                        }
                        return [4 /*yield*/, this._jobService.computeDateEnd(jobs_selected, this.new_project_start).toPromise()];
                    case 1:
                        p = _a.sent();
                        p2 = new Date(p['data']['end_date']);
                        //We get the minimum date
                        this.new_project_end = moment__WEBPACK_IMPORTED_MODULE_9__(p2).format('YYYY-MM-DD');
                        this.checkEndDate();
                        return [2 /*return*/];
                }
            });
        });
    };
    //We get all SOP from database
    ProjectCreationComponent.prototype.loadSops = function () {
        return __awaiter(this, void 0, void 0, function () {
            var sops, error_1;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        _a.trys.push([0, 2, , 3]);
                        return [4 /*yield*/, this._sopService.selectAll().toPromise()];
                    case 1:
                        sops = _a.sent();
                        this.errorMessage = "";
                        this.sops = sops['data'];
                        return [3 /*break*/, 3];
                    case 2:
                        error_1 = _a.sent();
                        this.errorMessage = error_1.error.message;
                        return [3 /*break*/, 3];
                    case 3: return [2 /*return*/];
                }
            });
        });
    };
    //We get every Members that can work on the project
    ProjectCreationComponent.prototype.loadMembers = function () {
        return __awaiter(this, void 0, void 0, function () {
            var members, error_2;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        _a.trys.push([0, 2, , 3]);
                        return [4 /*yield*/, this._memberService.selectAll().toPromise()];
                    case 1:
                        members = _a.sent();
                        this.errorMessage = "";
                        this.members = members['data'];
                        return [3 /*break*/, 3];
                    case 2:
                        error_2 = _a.sent();
                        this.errorMessage = error_2.error.message;
                        return [3 /*break*/, 3];
                    case 3: return [2 /*return*/];
                }
            });
        });
    };
    ProjectCreationComponent.prototype.selectSop = function (sop) {
        this.sop_selected = sop;
    };
    //We load all jobs from the sop_selected
    ProjectCreationComponent.prototype.loadJobsFromSop = function () {
        return __awaiter(this, void 0, void 0, function () {
            var jobs, error_3;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        _a.trys.push([0, 2, , 3]);
                        return [4 /*yield*/, this._jobService.selectAllFromSop(this.sop_selected.sop_id.toString()).toPromise()];
                    case 1:
                        jobs = _a.sent();
                        this.errorMessage = "";
                        this.jobs = jobs['data'];
                        return [3 /*break*/, 3];
                    case 2:
                        error_3 = _a.sent();
                        this.errorMessage = error_3.message;
                        return [3 /*break*/, 3];
                    case 3: return [2 /*return*/];
                }
            });
        });
    };
    //Manage checkbox of job selection and store if it's necessary
    ProjectCreationComponent.prototype.pickJob = function (job, isG) {
        var j = document.getElementById(job.job_id);
        var g = document.getElementById('g_' + job.job_id);
        if (j['checked'] || ((!j['checked']) && g['checked'] && isG)) {
            j['checked'] = true;
            var e = {
                job: job,
                grouped: g['checked']
            };
            //We store the element
            this.jobs_selected.set(job.job_id, e);
        }
        else {
            this.jobs_selected.delete(job.job_id);
            g['checked'] = false;
        }
    };
    //Loads every unit of jobs selected and store them into elements array
    ProjectCreationComponent.prototype.loadUnitsFromJobs = function () {
        return __awaiter(this, void 0, void 0, function () {
            var vm_1, e_1, error_4;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        _a.trys.push([0, 2, , 3]);
                        vm_1 = this;
                        this.elements = [];
                        this.errorMessage = "";
                        //We look all jobs selected
                        return [4 /*yield*/, this.jobs_selected.forEach(function (value, key) {
                                return __awaiter(this, void 0, void 0, function () {
                                    var units, activity, _i, _a, u, ee;
                                    return __generator(this, function (_b) {
                                        switch (_b.label) {
                                            case 0:
                                                if (!value['grouped']) return [3 /*break*/, 3];
                                                return [4 /*yield*/, vm_1.groupJob(key)];
                                            case 1:
                                                activity = _b.sent();
                                                console.log(activity);
                                                return [4 /*yield*/, vm_1._unitService.selectAllFromActivity(activity.activity_id).toPromise()];
                                            case 2:
                                                units = _b.sent();
                                                e_1 = {
                                                    activities: [activity],
                                                    job: value['job'],
                                                    grouped: true,
                                                    members: []
                                                };
                                                return [3 /*break*/, 5];
                                            case 3: return [4 /*yield*/, vm_1._unitService.selectAllFromJob(key).toPromise()];
                                            case 4:
                                                units = _b.sent();
                                                e_1 = {
                                                    job: value['job'],
                                                    grouped: false,
                                                    members: []
                                                };
                                                _b.label = 5;
                                            case 5:
                                                //Then we take all units linked to the job and store them
                                                for (_i = 0, _a = units['data']; _i < _a.length; _i++) {
                                                    u = _a[_i];
                                                    ee = {
                                                        unit: u,
                                                        detail: JSON.parse(JSON.stringify(e_1))
                                                    };
                                                    vm_1.elements.push(ee);
                                                }
                                                return [2 /*return*/];
                                        }
                                    });
                                });
                            })];
                    case 1:
                        //We look all jobs selected
                        _a.sent();
                        return [3 /*break*/, 3];
                    case 2:
                        error_4 = _a.sent();
                        this.errorMessage = error_4.message;
                        return [3 /*break*/, 3];
                    case 3: return [2 /*return*/];
                }
            });
        });
    };
    ProjectCreationComponent.prototype.groupJob = function (job_id) {
        return __awaiter(this, void 0, void 0, function () {
            var activitiesData, activities, activity, _i, activities_1, a;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this._activityService.selectAllFromJob(job_id).toPromise()];
                    case 1:
                        activitiesData = _a.sent();
                        activities = activitiesData['data'];
                        //we search for the one that group all activities in one instance
                        console.log(activities);
                        for (_i = 0, activities_1 = activities; _i < activities_1.length; _i++) {
                            a = activities_1[_i];
                            if (a.activity_type == 'super_activity' || a.activity_type == 'sop') {
                                //we add it to the array
                                activity = a;
                            }
                        }
                        return [2 /*return*/, activity];
                }
            });
        });
    };
    ProjectCreationComponent.prototype.pickUnit = function (unit) {
        this.unit_selected = unit;
    };
    //add a member to the unit selected Unit>Detail>Members
    ProjectCreationComponent.prototype.pickMember = function (member) {
        if (!this.unit_selected['detail']['members'].includes(member)) {
            this.unit_selected['detail']['members'].push(member);
        }
    };
    ProjectCreationComponent.prototype.removeMember = function (member) {
        var indice = this.unit_selected['detail']['members'].indexOf(member);
        this.unit_selected['detail']['members'].splice(indice, 1);
    };
    ProjectCreationComponent.prototype.changeStep = function (next) {
        if (next) {
            this.stepSelected += 1;
        }
        else {
            this.stepSelected -= 1;
        }
    };
    ProjectCreationComponent.prototype.sortTable = function (n) {
        var table, rows, switching, i, x, y, shouldSwitch, dir, switchcount = 0;
        table = document.getElementById("member-table");
        switching = true;
        // Set the sorting direction to ascending:
        dir = "asc";
        /* Make a loop that will continue until
        no switching has been done: */
        while (switching) {
            // Start by saying: no switching is done:
            switching = false;
            rows = table.getElementsByTagName("TR");
            /* Loop through all table rows (except the
            first, which contains table headers): */
            for (i = 1; i < (rows.length - 1); i++) {
                // Start by saying there should be no switching:
                shouldSwitch = false;
                /* Get the two elements you want to compare,
                one from current row and one from the next: */
                x = rows[i].getElementsByTagName("TD")[n];
                y = rows[i + 1].getElementsByTagName("TD")[n];
                /* Check if the two rows should switch place,
                based on the direction, asc or desc: */
                if (dir == "asc") {
                    if (x.innerHTML.toLowerCase() > y.innerHTML.toLowerCase()) {
                        // If so, mark as a switch and break the loop:
                        shouldSwitch = true;
                        break;
                    }
                }
                else if (dir == "desc") {
                    if (x.innerHTML.toLowerCase() < y.innerHTML.toLowerCase()) {
                        // If so, mark as a switch and break the loop:
                        shouldSwitch = true;
                        break;
                    }
                }
            }
            if (shouldSwitch) {
                /* If a switch has been marked, make the switch
                and mark that a switch has been done: */
                rows[i].parentNode.insertBefore(rows[i + 1], rows[i]);
                switching = true;
                // Each time a switch is done, increase this count by 1:
                switchcount++;
            }
            else {
                /* If no switching has been done AND the direction is "asc",
                set the direction to "desc" and run the while loop again. */
                if (switchcount == 0 && dir == "asc") {
                    dir = "desc";
                    switching = true;
                }
            }
        }
    };
    ProjectCreationComponent.prototype.onSubmit = function () {
        return __awaiter(this, void 0, void 0, function () {
            var project_code, project_work_code, project_id, error_5, vm_2, error_6;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        project_code = "XXXXX";
                        project_work_code = "000000";
                        this.new_project.project_work_code = project_work_code;
                        this.new_project.project_code = project_code;
                        try {
                            this.errorMessage = "";
                            this.new_project.sub_department_id = this.sub_department.department_id.toString();
                        }
                        catch (error) {
                            this.errorMessage = error.message;
                        }
                        //We set seconds, minutes, hours to default value with this process
                        this.new_project.project_start = new Date(this.new_project_start);
                        this.new_project.project_end = new Date(this.new_project_end);
                        this.new_project.project_start = new Date(this.new_project.project_start.getFullYear(), this.new_project.project_start.getMonth(), this.new_project.project_start.getDate());
                        this.new_project.project_end = new Date(this.new_project.project_end.getFullYear(), this.new_project.project_end.getMonth(), this.new_project.project_end.getDate());
                        _a.label = 1;
                    case 1:
                        _a.trys.push([1, 3, , 4]);
                        return [4 /*yield*/, this._projectService.createProject(this.new_project).toPromise()];
                    case 2:
                        project_id = _a.sent();
                        this.errorMessage = "";
                        this.new_project.project_id = project_id['data']['project_id'];
                        return [3 /*break*/, 4];
                    case 3:
                        error_5 = _a.sent();
                        this.errorMessage = error_5.message;
                        return [3 /*break*/, 4];
                    case 4:
                        _a.trys.push([4, 6, , 7]);
                        this.errorMessage = "";
                        vm_2 = this;
                        return [4 /*yield*/, this.jobs_selected.forEach(function (value, key) {
                                return __awaiter(this, void 0, void 0, function () {
                                    return __generator(this, function (_a) {
                                        switch (_a.label) {
                                            case 0: return [4 /*yield*/, vm_2._projectService.bindProjectJob(vm_2.new_project.project_id, key).toPromise()];
                                            case 1:
                                                _a.sent();
                                                return [2 /*return*/];
                                        }
                                    });
                                });
                            })];
                    case 5:
                        _a.sent();
                        return [3 /*break*/, 7];
                    case 6:
                        error_6 = _a.sent();
                        this.errorMessage = error_6.message;
                        return [3 /*break*/, 7];
                    case 7: 
                    //We have the project id, now we can insert in member_unit_project and member_activity_project
                    return [4 /*yield*/, this.bindMemberUnitProject()];
                    case 8:
                        //We have the project id, now we can insert in member_unit_project and member_activity_project
                        _a.sent();
                        return [4 /*yield*/, this.bindMemberActivityProject()];
                    case 9:
                        _a.sent();
                        if (this.errorMessage == "") {
                            this.router.navigate(['/project-list']);
                        }
                        return [2 /*return*/];
                }
            });
        });
    };
    ProjectCreationComponent.prototype.bindMemberUnitProject = function () {
        return __awaiter(this, void 0, void 0, function () {
            var _i, _a, u, _b, _c, m, error_7;
            return __generator(this, function (_d) {
                switch (_d.label) {
                    case 0:
                        _d.trys.push([0, 7, , 8]);
                        this.errorMessage = "";
                        _i = 0, _a = this.elements;
                        _d.label = 1;
                    case 1:
                        if (!(_i < _a.length)) return [3 /*break*/, 6];
                        u = _a[_i];
                        _b = 0, _c = u['detail']['members'];
                        _d.label = 2;
                    case 2:
                        if (!(_b < _c.length)) return [3 /*break*/, 5];
                        m = _c[_b];
                        return [4 /*yield*/, this._projectService.bindMemberUnitProject(this.new_project.project_id, u['unit'].unit_id, m.member_id.toString(), u['detail']['job'].job_id).toPromise()];
                    case 3:
                        _d.sent();
                        _d.label = 4;
                    case 4:
                        _b++;
                        return [3 /*break*/, 2];
                    case 5:
                        _i++;
                        return [3 /*break*/, 1];
                    case 6: return [3 /*break*/, 8];
                    case 7:
                        error_7 = _d.sent();
                        this.errorMessage = error_7.message;
                        return [3 /*break*/, 8];
                    case 8: return [2 /*return*/];
                }
            });
        });
    };
    //We insert into the database : member_activity_project
    ProjectCreationComponent.prototype.bindMemberActivityProject = function () {
        return __awaiter(this, void 0, void 0, function () {
            var _i, _a, element, activities, _b, _c, a, _d, _e, activity, _f, _g, member, m_a_p, error_8;
            return __generator(this, function (_h) {
                switch (_h.label) {
                    case 0:
                        _h.trys.push([0, 11, , 12]);
                        this.errorMessage = "";
                        _i = 0, _a = this.elements;
                        _h.label = 1;
                    case 1:
                        if (!(_i < _a.length)) return [3 /*break*/, 10];
                        element = _a[_i];
                        if (!(element['detail']['grouped'] == false)) return [3 /*break*/, 3];
                        return [4 /*yield*/, this._activityService.selectAllFromUnit(element['unit'].unit_id).toPromise()];
                    case 2:
                        activities = _h.sent();
                        element['detail']['activities'] = [];
                        for (_b = 0, _c = activities['data']; _b < _c.length; _b++) {
                            a = _c[_b];
                            if (a.activity_type != 'sop' && a.activity_type != 'super_activity') {
                                element['detail']['activities'].push(a);
                            }
                        }
                        _h.label = 3;
                    case 3:
                        _d = 0, _e = element['detail']['activities'];
                        _h.label = 4;
                    case 4:
                        if (!(_d < _e.length)) return [3 /*break*/, 9];
                        activity = _e[_d];
                        _f = 0, _g = element['detail']['members'];
                        _h.label = 5;
                    case 5:
                        if (!(_f < _g.length)) return [3 /*break*/, 8];
                        member = _g[_f];
                        m_a_p = new _objects_member_activity_project_member_activity_project__WEBPACK_IMPORTED_MODULE_10__["MemberActivityProject"]();
                        m_a_p.project_id = parseInt(this.new_project.project_id);
                        m_a_p.job_id = element['detail']['job'].job_id;
                        m_a_p.member_id = member.member_id;
                        m_a_p.activity_id = activity.activity_id;
                        m_a_p.target_date = this.new_project.project_end.toString();
                        m_a_p.date_begin = this.new_project.project_start.toString();
                        m_a_p.evaluation = "on date";
                        m_a_p.finished_date = null;
                        m_a_p.sign = '';
                        m_a_p.note = '';
                        m_a_p.target_quantity = 0;
                        m_a_p.finished_quantity = 0;
                        m_a_p.finished_duration = 0;
                        return [4 /*yield*/, this._projectService.bindMemberActivityProject(m_a_p).toPromise()];
                    case 6:
                        _h.sent();
                        _h.label = 7;
                    case 7:
                        _f++;
                        return [3 /*break*/, 5];
                    case 8:
                        _d++;
                        return [3 /*break*/, 4];
                    case 9:
                        _i++;
                        return [3 /*break*/, 1];
                    case 10: return [3 /*break*/, 12];
                    case 11:
                        error_8 = _h.sent();
                        this.errorMessage = error_8.message;
                        return [3 /*break*/, 12];
                    case 12: return [2 /*return*/];
                }
            });
        });
    };
    ProjectCreationComponent.prototype.isUnitsReady = function () {
        var answer = true;
        for (var _i = 0, _a = this.elements; _i < _a.length; _i++) {
            var element = _a[_i];
            if (element['detail']['members'].length == 0) {
                answer = false;
            }
        }
        this.unitsReady = answer;
    };
    ProjectCreationComponent.prototype.checkEndDate = function () {
        return __awaiter(this, void 0, void 0, function () {
            var jobs, jobs_selected, _i, jobs_2, j, p, p2, d1, d2, d;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        jobs = Array.from(this.jobs_selected.values());
                        jobs_selected = [];
                        for (_i = 0, jobs_2 = jobs; _i < jobs_2.length; _i++) {
                            j = jobs_2[_i];
                            jobs_selected.push(j['job']);
                        }
                        return [4 /*yield*/, this._jobService.computeDateEnd(jobs_selected, this.new_project_start).toPromise()];
                    case 1:
                        p = _a.sent();
                        p2 = new Date(p['data']['end_date']);
                        //We get the minimum date
                        this.minimum_project_end = moment__WEBPACK_IMPORTED_MODULE_9__(p2).format('YYYY-MM-DD');
                        d1 = new Date(this.new_project_end);
                        d2 = new Date(this.minimum_project_end);
                        if (d1 < d2) {
                            d = new Date(this.minimum_project_end);
                            this.new_project_end = moment__WEBPACK_IMPORTED_MODULE_9__(d).format('YYYY-MM-DD');
                        }
                        console.log('mini : ', this.minimum_project_end);
                        return [2 /*return*/];
                }
            });
        });
    };
    ProjectCreationComponent.prototype.search = function () {
        // Declare variables
        var input, filter, select, option, option1, option2, i;
        input = document.getElementById("search");
        filter = input.value.toUpperCase();
        select = document.getElementById("select-member");
        option = select.getElementsByTagName("option");
        // Loop through all table rows, and hide those who don't match the search query
        for (i = 0; i < option.length; i++) {
            option1 = option[i];
            if (option1) {
                if (option1.innerHTML.toUpperCase().indexOf(filter) > -1) {
                    option1.style.display = "";
                }
                else {
                    option1.style.display = "none";
                }
            }
        }
    };
    /*  ----------------- ORGANISATIONS / BRANCHS / DEPARTMENTS / SUB_DEPARTMENTS ----------------- */
    //We get all Organisations, branchs, departements and sub departements from database
    ProjectCreationComponent.prototype.loadOrganisations = function () {
        return __awaiter(this, void 0, void 0, function () {
            var o, organisations, _i, organisations_1, organisation, b, branchs, e0, _a, branchs_1, branch, d, departments, e1, _b, departments_1, department, s, sub_departments, e2, error_9;
            return __generator(this, function (_c) {
                switch (_c.label) {
                    case 0:
                        _c.trys.push([0, 14, , 15]);
                        this.errorMessage = "";
                        return [4 /*yield*/, this._organisationService.selectAll().toPromise()];
                    case 1:
                        o = _c.sent();
                        organisations = o['data'];
                        _i = 0, organisations_1 = organisations;
                        _c.label = 2;
                    case 2:
                        if (!(_i < organisations_1.length)) return [3 /*break*/, 13];
                        organisation = organisations_1[_i];
                        return [4 /*yield*/, this._branchService.selectAllFromOrganisation(organisation.organisation_id.toString()).toPromise()];
                    case 3:
                        b = _c.sent();
                        branchs = b['data'];
                        e0 = {
                            organisation: organisation,
                            branchs: []
                        };
                        _a = 0, branchs_1 = branchs;
                        _c.label = 4;
                    case 4:
                        if (!(_a < branchs_1.length)) return [3 /*break*/, 11];
                        branch = branchs_1[_a];
                        return [4 /*yield*/, this._departmentService.selectAllFromBranch(branch.branch_id.toString()).toPromise()];
                    case 5:
                        d = _c.sent();
                        departments = d['data'];
                        e1 = {
                            branch: branch,
                            departments: []
                        };
                        _b = 0, departments_1 = departments;
                        _c.label = 6;
                    case 6:
                        if (!(_b < departments_1.length)) return [3 /*break*/, 9];
                        department = departments_1[_b];
                        return [4 /*yield*/, this._subDepartmentService.selectAllFromDepartment(department.department_id.toString()).toPromise()];
                    case 7:
                        s = _c.sent();
                        sub_departments = s['data'];
                        e2 = {
                            department: department,
                            sub_departments: sub_departments
                        };
                        e1['departments'].push(e2);
                        _c.label = 8;
                    case 8:
                        _b++;
                        return [3 /*break*/, 6];
                    case 9:
                        e0['branchs'].push(e1);
                        _c.label = 10;
                    case 10:
                        _a++;
                        return [3 /*break*/, 4];
                    case 11:
                        this.organisation_elements.push(e0);
                        _c.label = 12;
                    case 12:
                        _i++;
                        return [3 /*break*/, 2];
                    case 13:
                        this.organisation = this.organisation_elements[0];
                        this.branch = this.organisation['branchs'][0];
                        this.department = this.branch['departments'][0];
                        this.sub_department = this.department['sub_departments'][0];
                        return [3 /*break*/, 15];
                    case 14:
                        error_9 = _c.sent();
                        this.errorMessage = error_9.message;
                        return [3 /*break*/, 15];
                    case 15: return [2 /*return*/];
                }
            });
        });
    };
    /* element is an id of organisation, branch or department. Level 1 = We search for organisation, level 2 = we search for departments.
     * Return : the element of organisation_elements wanted */
    ProjectCreationComponent.prototype.findElement = function (element, level) {
        console.log('element : ', element, ' - level : ', level);
        if (level == 1) {
            //We search for an organisation
            for (var _i = 0, _a = this.organisation_elements; _i < _a.length; _i++) {
                var e = _a[_i];
                if (e['organisation'].organisation_id == element) {
                    return e;
                }
            }
        }
        else if (level == 2) {
            for (var _b = 0, _c = this.organisation['branchs']; _b < _c.length; _b++) {
                var e = _c[_b];
                if (e['branch'].branch_id == element) {
                    return e;
                }
            }
        }
        else if (level == 3) {
            for (var _d = 0, _e = this.branch['departments']; _d < _e.length; _d++) {
                var e = _e[_d];
                if (e['department'].department_id == element) {
                    return e;
                }
            }
        }
        else if (level == 4) {
            for (var _f = 0, _g = this.department['sub_departments']; _f < _g.length; _f++) {
                var e = _g[_f];
                if (e.department_id == element) {
                    return e;
                }
            }
        }
    };
    ProjectCreationComponent.prototype.pickOrganisation = function () {
        // I have picked my new organisation, I need to set my new array for other levels
        this.branch = this.organisation['branchs'][0];
        this.department = this.branch['departments'][0];
        this.sub_department = this.department['sub_departments'][0];
        console.log(this.organisation, this.branch, this.department, this.sub_department);
    };
    ProjectCreationComponent.prototype.pickBranch = function () {
        // I have picked my new organisation, I need to set my new array for other levels
        this.department = this.branch['departments'][0];
        this.sub_department = this.department['sub_departments'][0];
        console.log(this.organisation, this.branch, this.department, this.sub_department);
    };
    ProjectCreationComponent.prototype.pickDepartment = function () {
        this.sub_department = this.department['sub_departments'][0];
        console.log(this.organisation, this.branch, this.department, this.sub_department);
        //
    };
    ProjectCreationComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-project-creation',
            template: __webpack_require__(/*! ./project-creation.component.html */ "./src/app/component/project-list/project-creation/project-creation.component.html"),
            styles: [__webpack_require__(/*! ./project-creation.component.scss */ "./src/app/component/project-list/project-creation/project-creation.component.scss")]
        }),
        __metadata("design:paramtypes", [_objects_sop_sop_service__WEBPACK_IMPORTED_MODULE_1__["SopService"],
            _objects_job_job_service__WEBPACK_IMPORTED_MODULE_2__["JobService"],
            _objects_unit_unit_service__WEBPACK_IMPORTED_MODULE_3__["UnitService"],
            _objects_member_member_service__WEBPACK_IMPORTED_MODULE_4__["MemberService"],
            _objects_activity_activity_service__WEBPACK_IMPORTED_MODULE_5__["ActivityService"],
            _objects_project_project_service__WEBPACK_IMPORTED_MODULE_6__["ProjectService"],
            _angular_router__WEBPACK_IMPORTED_MODULE_8__["Router"],
            _objects_organisation_organisation_service__WEBPACK_IMPORTED_MODULE_11__["OrganisationService"],
            _objects_branch_branch_service__WEBPACK_IMPORTED_MODULE_13__["BranchService"],
            _objects_department_department_service__WEBPACK_IMPORTED_MODULE_14__["DepartmentService"],
            _objects_sub_department_sub_department_service__WEBPACK_IMPORTED_MODULE_12__["SubDepartmentService"]])
    ], ProjectCreationComponent);
    return ProjectCreationComponent;
}());



/***/ }),

/***/ "./src/app/component/project-list/project-list.component.css":
/*!*******************************************************************!*\
  !*** ./src/app/component/project-list/project-list.component.css ***!
  \*******************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".md-form\r\n{\r\n  margin-bottom: 20px;\r\n  margin-top: 0;\r\n}\r\n\r\n#search-bar {\r\n  margin-bottom: 0%;\r\n}\r\n"

/***/ }),

/***/ "./src/app/component/project-list/project-list.component.html":
/*!********************************************************************!*\
  !*** ./src/app/component/project-list/project-list.component.html ***!
  \********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class=\"container\">\r\n\r\n  <div class=\"row row-first\">\r\n    <div class=\"col\">\r\n      <button type=\"button\" class=\"btn btn-outline-default waves-effect\" [routerLink]=\"['/project-creation']\"><h6 class=\"no-margin-bottom\"><i class=\"fa fa-plus mr-3\"></i>New Project</h6></button>\r\n    </div>\r\n  </div>\r\n  <!-- Error alert -->\r\n  <div *ngIf=\"errorMessage\" class=\"row row-first justify-content-end error-text\">\r\n    <i>{{errorMessage}}</i>\r\n  </div>\r\n\r\n  <!-- Project not started -->\r\n  <div class=\"row row-first justify-content-between\">\r\n    <div class=\"col\">\r\n      <a data-toggle=\"collapse\" data-target=\"#projects_1\" aria-expanded=\"false\" aria-controls=\"projects_1\">\r\n        <h5><span class=\"badge badge-primary\">Project started</span></h5>\r\n      </a>\r\n    </div>\r\n    <!-- SEARCH BAR -->\r\n    <div *ngIf=\"projects_1.length != 0\" class=\" md-form\" id=\"search-bar\">\r\n      <input id=\"search\" (keyup)=\"search(1)\" class=\"form-control\" type=\"text\" placeholder=\"Search\" aria-label=\"Search\">\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"row\" *ngIf=\"projects_1.length == 0\">\r\n    <div class=\"offset-1\">\r\n      No projects\r\n    </div>\r\n  </div>\r\n\r\n  <!-- TABLE -->\r\n  <div *ngIf=\"projects_1.length != 0\" class=\"row justify-content-center collapse show\" id=\"projects_1\">\r\n\r\n  <!--Table-->\r\n    <table class=\"col-12 table hoverable table-borderless table-hover table-fixed\" id=\"project-table\">\r\n\r\n      <!--Table head-->\r\n      <thead class=\"\">\r\n      <tr class=\"text-white\">\r\n        <th style=\"width:5%;\"></th>\r\n        <th style=\"width:10%;\"  (click)=\"sortTable(1, 1)\"><a>Code</a></th>\r\n        <th style=\"width:40%;\" (click)=\"sortTable(2, 1)\"><a>Title</a></th>\r\n        <th style=\"width:20%;\" (click)=\"sortTable(3, 1)\"><a>Start Date</a></th>\r\n        <th style=\"width:20%;\" (click)=\"sortTable(4, 1)\"><a>Finished Date</a></th>\r\n        <th style=\"width:5%;\"></th>\r\n      </tr>\r\n      </thead>\r\n      <!--Table head-->\r\n\r\n      <!--Table body-->\r\n      <tbody>\r\n      <tr *ngFor=\"let project of projects_1\" (click)=\"selectProject(project)\">\r\n        <td scope=\"row\">\r\n          <a data-toggle=\"modal\" data-target=\"#actionModal\"><i class=\"fa fa-cog text-blue\"></i></a>\r\n        </td>\r\n        <td>{{project.project_id}}</td>\r\n        <td>{{textHelper.firstLetterUpperCase(project.project_title.substr(0,50))}}</td>\r\n        <td>{{project.project_start | date:\"MM/dd/yyyy\"}}</td>\r\n        <td>{{project.project_end | date:\"MM/dd/yyyy\"}}</td>\r\n        <td>\r\n          <a data-toggle=\"modal\" data-target=\"#warningModal\"><i class=\"fa fa-close text-red\"></i></a>\r\n        </td>\r\n      </tr>\r\n      </tbody>\r\n      <!--Table body-->\r\n\r\n    </table>\r\n    <!--Table-->\r\n\r\n  </div>\r\n\r\n  <!-- Project started -->\r\n  <div class=\"row row-first justify-content-between\">\r\n\r\n    <div class=\"col\">\r\n      <a data-toggle=\"collapse\" data-target=\"#projects_0\" aria-expanded=\"true\" aria-controls=\"projects_0\">\r\n        <h5><span class=\"badge badge-primary\">Project not started</span></h5>\r\n      </a>\r\n    </div>\r\n\r\n    <!-- SEARCH BAR -->\r\n    <div *ngIf=\"projects_0.length != 0\" class=\" md-form\" id=\"search-bar-2\">\r\n      <input id=\"search-2\" (keyup)=\"search(2)\" class=\"form-control\" type=\"text\" placeholder=\"Search\" aria-label=\"Search\">\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"row\" *ngIf=\"projects_0.length == 0\">\r\n    <div class=\"offset-1\">\r\n      No projects\r\n    </div>\r\n  </div>\r\n\r\n  <!-- TABLE -->\r\n  <div *ngIf=\"projects_0.length != 0\" class=\"row justify-content-center collapse show\" id=\"projects_0\">\r\n\r\n    <!--Table-->\r\n    <table class=\"col-12 table hoverable table-borderless table-hover table-fixed\" id=\"project-table-2\">\r\n\r\n      <!--Table head-->\r\n      <thead class=\"\">\r\n      <tr class=\"text-white\">\r\n        <th style=\"width:5%;\"></th>\r\n        <th style=\"width:10%;\"  (click)=\"sortTable(1, 2)\"><a>Code</a></th>\r\n        <th style=\"width:40%;\" (click)=\"sortTable(2, 2)\"><a>Title</a></th>\r\n        <th style=\"width:20%;\" (click)=\"sortTable(3, 2)\"><a>Start Date</a></th>\r\n        <th style=\"width:20%;\" (click)=\"sortTable(4, 2)\"><a>Finished Date</a></th>\r\n        <th style=\"width:5%;\"></th>\r\n      </tr>\r\n      </thead>\r\n      <!--Table head-->\r\n\r\n      <!--Table body-->\r\n      <tbody>\r\n      <tr *ngFor=\"let project of projects_0\" (click)=\"selectProject(project)\">\r\n        <td scope=\"row\">\r\n          <a data-toggle=\"modal\" data-target=\"#actionModal\"><i class=\"fa fa-cog text-blue\"></i></a>\r\n        </td>\r\n        <td>{{project.project_id}}</td>\r\n        <td>{{textHelper.firstLetterUpperCase(project.project_title.substr(0,50))}}</td>\r\n        <td>{{project.project_start | date:\"MM/dd/yyyy\"}}</td>\r\n        <td>{{project.project_end | date:\"MM/dd/yyyy\"}}</td>\r\n        <td>\r\n          <a data-toggle=\"modal\" data-target=\"#warningModal\"><i class=\"fa fa-close text-red\"></i></a>\r\n        </td>\r\n      </tr>\r\n      </tbody>\r\n      <!--Table body-->\r\n\r\n    </table>\r\n    <!--Table-->\r\n\r\n  </div>\r\n\r\n  <!-- Project finished -->\r\n  <div class=\"row row-first justify-content-between\">\r\n\r\n    <div class=\"col\">\r\n      <a data-toggle=\"collapse\" data-target=\"#projects_2\" aria-expanded=\"false\" aria-controls=\"projects_2\">\r\n        <h5><span class=\"badge badge-primary\">Project finished </span></h5>\r\n      </a>\r\n    </div>\r\n\r\n    <!-- SEARCH BAR -->\r\n    <div *ngIf=\"projects_2.length != 0\" class=\"col md-form\" id=\"search-bar-3\">\r\n      <input id=\"search-3\" (keyup)=\"search(2)\" class=\"form-control\" type=\"text\" placeholder=\"Search\" aria-label=\"Search\">\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"row\" *ngIf=\"projects_2.length == 0\">\r\n    <div class=\"offset-1\">\r\n      No projects\r\n    </div>\r\n  </div>\r\n\r\n  <!-- TABLE -->\r\n  <div *ngIf=\"projects_2.length != 0\" class=\"row justify-content-center collapse show\" id=\"projects_2\">\r\n\r\n    <!--Table-->\r\n    <table class=\"col-12 table hoverable table-borderless table-hover table-fixed\" id=\"project-table-3\">\r\n\r\n      <!--Table head-->\r\n      <thead class=\"\">\r\n      <tr class=\"text-white\">\r\n        <th style=\"width:5%;\"></th>\r\n        <th style=\"width:10%;\"  (click)=\"sortTable(1, 3)\"><a>Code</a></th>\r\n        <th style=\"width:40%;\" (click)=\"sortTable(2, 3)\"><a>Title</a></th>\r\n        <th style=\"width:20%;\" (click)=\"sortTable(3, 3)\"><a>Start Date</a></th>\r\n        <th style=\"width:20%;\" (click)=\"sortTable(4, 3)\"><a>Finished Date</a></th>\r\n        <th style=\"width:5%;\"></th>\r\n      </tr>\r\n      </thead>\r\n      <!--Table head-->\r\n\r\n      <!--Table body-->\r\n      <tbody>\r\n      <tr *ngFor=\"let project of projects_2\" (click)=\"selectProject(project)\">\r\n        <td scope=\"row\">\r\n          <a data-toggle=\"modal\" data-target=\"#actionModal\"><i class=\"fa fa-cog text-blue\"></i></a>\r\n        </td>\r\n        <td>{{project.project_id}}</td>\r\n        <td>{{textHelper.firstLetterUpperCase(project.project_title.substr(0,50))}}</td>\r\n        <td>{{project.project_start | date:\"MM/dd/yyyy\"}}</td>\r\n        <td>{{project.project_end | date:\"MM/dd/yyyy\"}}</td>\r\n        <td>\r\n          <a data-toggle=\"modal\" data-target=\"#warningModal\"><i class=\"fa fa-close text-red\"></i></a>\r\n        </td>\r\n      </tr>\r\n      </tbody>\r\n      <!--Table body-->\r\n\r\n    </table>\r\n    <!--Table-->\r\n\r\n  </div>\r\n\r\n</div>\r\n\r\n<app-action title={{project_selected.project_title}}\r\n            text=\"\"\r\n            buttons={{buttonsTitles}}\r\n            links={{buttonsLinks}}\r\n            [isLinkActive]=true\r\n>\r\n</app-action>\r\n\r\n<!-- Modal warning -->\r\n<app-warning title=\"Delete Project {{project_selected.project_id}}\"\r\n             text=\"Are you sure you want to delete the Project : {{project_selected.project_title}} from the project list ? All data linked will be destroyed.\"\r\n             link=\"project-list\"\r\n             (success)=\"deleteProject(project_selected.project_id)\"\r\n             [isLink]=false>\r\n</app-warning>\r\n"

/***/ }),

/***/ "./src/app/component/project-list/project-list.component.ts":
/*!******************************************************************!*\
  !*** ./src/app/component/project-list/project-list.component.ts ***!
  \******************************************************************/
/*! exports provided: ProjectListComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ProjectListComponent", function() { return ProjectListComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _objects_project_project__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../objects/project/project */ "./src/app/objects/project/project.ts");
/* harmony import */ var _objects_project_project_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../objects/project/project.service */ "./src/app/objects/project/project.service.ts");
/* harmony import */ var _helpers_text_helper_text_helper_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../helpers/text-helper/text-helper.component */ "./src/app/helpers/text-helper/text-helper.component.ts");
/* harmony import */ var _helpers_date_helper_date_helper_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../helpers/date-helper/date-helper.component */ "./src/app/helpers/date-helper/date-helper.component.ts");
/* harmony import */ var _objects_sop_sop_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../objects/sop/sop.service */ "./src/app/objects/sop/sop.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = y[op[0] & 2 ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [0, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};






var ProjectListComponent = /** @class */ (function () {
    function ProjectListComponent(_projectService, _sopService) {
        this._projectService = _projectService;
        this._sopService = _sopService;
        /* ----- Data ----- */
        this.errorMessage = "";
        this.textHelper = new _helpers_text_helper_text_helper_component__WEBPACK_IMPORTED_MODULE_3__["TextHelperComponent"]();
        this.dateHelper = new _helpers_date_helper_date_helper_component__WEBPACK_IMPORTED_MODULE_4__["DateHelperComponent"]();
        this.project_selected = new _objects_project_project__WEBPACK_IMPORTED_MODULE_1__["Project"]();
        this.buttonsTitles = ['Project information', 'Master of work', 'Gantt', 'Volume Progress'];
        this.buttonsLinks = ['project', 'master-of-work', 'gantt-creation', 'volume-progress'];
    }
    ProjectListComponent.prototype.ngOnInit = function () {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this._sopService.removeSopIdLocal();
                        return [4 /*yield*/, this.loadProjects()];
                    case 1:
                        _a.sent();
                        console.log(this.projects);
                        return [2 /*return*/];
                }
            });
        });
    };
    ProjectListComponent.prototype.loadProjects = function () {
        return __awaiter(this, void 0, void 0, function () {
            var p, error_1;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        _a.trys.push([0, 2, , 3]);
                        this.errorMessage = "";
                        this.projects_0 = [];
                        this.projects_1 = [];
                        this.projects_2 = [];
                        return [4 /*yield*/, this._projectService.selectAllSort().toPromise()];
                    case 1:
                        p = _a.sent();
                        this.projects = p['data'];
                        this.sortProjects();
                        return [3 /*break*/, 3];
                    case 2:
                        error_1 = _a.sent();
                        this.errorMessage = error_1.message;
                        return [3 /*break*/, 3];
                    case 3: return [2 /*return*/];
                }
            });
        });
    };
    ProjectListComponent.prototype.sortProjects = function () {
        for (var _i = 0, _a = this.projects; _i < _a.length; _i++) {
            var p = _a[_i];
            if (p['state'] == 0) {
                this.projects_0.push(p);
            }
            else if (p['state'] == 1) {
                this.projects_1.push(p);
            }
            else {
                this.projects_2.push(p);
            }
        }
    };
    ProjectListComponent.prototype.sortTable = function (n, t) {
        var table, rows, switching, i, x, y, shouldSwitch, dir, switchcount = 0;
        if (t == 1) {
            table = document.getElementById("project-table");
        }
        else if (t == 2) {
            table = document.getElementById("project-table-2");
        }
        else {
            table = document.getElementById("project-table-3");
        }
        switching = true;
        // Set the sorting direction to ascending:
        dir = "asc";
        /* Make a loop that will continue until
        no switching has been done: */
        while (switching) {
            // Start by saying: no switching is done:
            switching = false;
            rows = table.getElementsByTagName("TR");
            /* Loop through all table rows (except the
            first, which contains table headers): */
            for (i = 1; i < (rows.length - 1); i++) {
                // Start by saying there should be no switching:
                shouldSwitch = false;
                /* Get the two elements you want to compare,
                one from current row and one from the next: */
                x = rows[i].getElementsByTagName("TD")[n];
                y = rows[i + 1].getElementsByTagName("TD")[n];
                /* Check if the two rows should switch place,
                based on the direction, asc or desc: */
                if (dir == "asc") {
                    if (x.innerHTML.toLowerCase() > y.innerHTML.toLowerCase()) {
                        // If so, mark as a switch and break the loop:
                        shouldSwitch = true;
                        break;
                    }
                }
                else if (dir == "desc") {
                    if (x.innerHTML.toLowerCase() < y.innerHTML.toLowerCase()) {
                        // If so, mark as a switch and break the loop:
                        shouldSwitch = true;
                        break;
                    }
                }
            }
            if (shouldSwitch) {
                /* If a switch has been marked, make the switch
                and mark that a switch has been done: */
                rows[i].parentNode.insertBefore(rows[i + 1], rows[i]);
                switching = true;
                // Each time a switch is done, increase this count by 1:
                switchcount++;
            }
            else {
                /* If no switching has been done AND the direction is "asc",
                set the direction to "desc" and run the while loop again. */
                if (switchcount == 0 && dir == "asc") {
                    dir = "desc";
                    switching = true;
                }
            }
        }
    };
    ProjectListComponent.prototype.search = function (t) {
        // Declare variables
        var input, filter, table, tr, td, td2, i;
        filter = input.value.toUpperCase();
        if (t == 1) {
            input = document.getElementById("search");
            table = document.getElementById("project-table");
        }
        else if (t == 2) {
            input = document.getElementById("search-2");
            table = document.getElementById("project-table-2");
        }
        else {
            input = document.getElementById("search-3");
            table = document.getElementById("project-table-3");
        }
        tr = table.getElementsByTagName("tr");
        // Loop through all table rows, and hide those who don't match the search query
        for (i = 0; i < tr.length; i++) {
            td = tr[i].getElementsByTagName("td")[1];
            td2 = tr[i].getElementsByTagName("td")[2];
            if (td || td2) {
                if (td.innerHTML.toUpperCase().indexOf(filter) > -1 || td2.innerHTML.toUpperCase().indexOf(filter) > -1) {
                    tr[i].style.display = "";
                }
                else {
                    tr[i].style.display = "none";
                }
            }
        }
    };
    ProjectListComponent.prototype.selectProject = function (project) {
        this.project_selected = project;
        localStorage.setItem('Project_id', project.project_id);
    };
    ProjectListComponent.prototype.deleteProject = function (project_id) {
        var _this = this;
        this._projectService.delete(project_id).subscribe(function (res) {
            _this.errorMessage = "";
            _this.loadProjects();
        }, function (error) {
            _this.errorMessage = error.error.message;
        });
    };
    ProjectListComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-project-list',
            template: __webpack_require__(/*! ./project-list.component.html */ "./src/app/component/project-list/project-list.component.html"),
            styles: [__webpack_require__(/*! ./project-list.component.css */ "./src/app/component/project-list/project-list.component.css")]
        }),
        __metadata("design:paramtypes", [_objects_project_project_service__WEBPACK_IMPORTED_MODULE_2__["ProjectService"],
            _objects_sop_sop_service__WEBPACK_IMPORTED_MODULE_5__["SopService"]])
    ], ProjectListComponent);
    return ProjectListComponent;
}());



/***/ }),

/***/ "./src/app/component/project-list/project/project.component.css":
/*!**********************************************************************!*\
  !*** ./src/app/component/project-list/project/project.component.css ***!
  \**********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".anil_nepal{\r\n  padding:20px 0px;\r\n  width:100%;\r\n  display:block;\r\n}\r\n.switch {\r\n  position: relative;\r\n  display: inline-block;\r\n  vertical-align: top;\r\n  width: 100px;\r\n  height: 30px;\r\n  padding: 3px;\r\n  margin: 0 10px 10px 0;\r\n  background: linear-gradient(to bottom, #eeeeee, #FFFFFF 25px);\r\n  background-image: -webkit-linear-gradient(top, #eeeeee, #FFFFFF 25px);\r\n  border-radius: 18px;\r\n  box-shadow: inset 0 -1px white, inset 0 1px 1px rgba(0, 0, 0, 0.05);\r\n  cursor: pointer;\r\n  box-sizing: content-box;\r\n}\r\nlabel {\r\n  font-weight: inherit;\r\n}\r\ninput[type=checkbox], input[type=radio] {\r\n  margin: 4px 0 0;\r\n\r\n  line-height: normal;\r\n  box-sizing: border-box;\r\n  padding: 0;\r\n}\r\n.switch-input {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  opacity: 0;\r\n  box-sizing: content-box;\r\n}\r\n.switch-left-right .switch-input:checked ~ .switch-label {\r\n  background: inherit;\r\n}\r\n.switch-input:checked ~ .switch-label {\r\n  background: #E1B42B;\r\n  box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.15), inset 0 0 3px rgba(0, 0, 0, 0.2);\r\n}\r\n.switch-left-right .switch-label {\r\n  overflow: hidden;\r\n}\r\n.switch-label, .switch-handle {\r\n  transition: All 0.3s ease;\r\n  -webkit-transition: All 0.3s ease;\r\n  -moz-transition: All 0.3s ease;\r\n  -o-transition: All 0.3s ease;\r\n}\r\n.switch-label {\r\n  position: relative;\r\n  display: block;\r\n  height: inherit;\r\n  font-size: 10px;\r\n  text-transform: uppercase;\r\n  background: #eceeef;\r\n  border-radius: inherit;\r\n  box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.12), inset 0 0 2px rgba(0, 0, 0, 0.15);\r\n  box-sizing: content-box;\r\n}\r\n.switch-left-right .switch-input:checked ~ .switch-label:before {\r\n  opacity: 1;\r\n  left: 100px;\r\n}\r\n.switch-input:checked ~ .switch-label:before {\r\n  opacity: 0;\r\n}\r\n.switch-left-right .switch-label:before {\r\n  background: #eceeef;\r\n  text-align: left;\r\n  padding-left: 80px!important;\r\n}\r\n.switch-left-right .switch-label:before, .switch-left-right .switch-label:after {\r\n  width: 20px;\r\n  height: 20px;\r\n  top: 4px;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  padding: 11px 0 0 0;\r\n  text-indent: -12px;\r\n  border-radius: 20px;\r\n  box-shadow: inset 0 1px 4px rgba(0, 0, 0, 0.2), inset 0 0 3px rgba(0, 0, 0, 0.1);\r\n}\r\n.switch-label:before {\r\n  content: attr(data-off);\r\n  right: 11px;\r\n  color: #aaaaaa;\r\n  text-shadow: 0 1px rgba(255, 255, 255, 0.5);\r\n}\r\nspan.switch-label:after {\r\n  content: attr(data-on);\r\n  left: 11px;\r\n  color: #FFFFFF;\r\n  text-shadow: 0 1px rgba(0, 0, 0, 0.2);\r\n  position: absolute;\r\n\r\n}\r\n.switch-label:before, .switch-label:after {\r\n  position: absolute;\r\n  top: 50%;\r\n  margin-top: -5px;\r\n  line-height: 1;\r\n  transition: inherit;\r\n  box-sizing: content-box;\r\n}\r\n.switch-left-right .switch-input:checked ~ .switch-label:after {\r\n  left: 0!important;\r\n  opacity: 1;\r\n  padding-left: 20px;\r\n}\r\n.switch-input:checked ~ .switch-label:after {\r\n  opacity: 1;\r\n}\r\n.switch-left-right .switch-label:after {\r\n  text-align: left;\r\n  text-indent: 9px;\r\n  background: #00c851!important;\r\n  left: -100px!important;\r\n  opacity: 1;\r\n  width: 100%!important;\r\n\r\n}\r\n.switch-left-right .switch-label:before, .switch-left-right .switch-label:after {\r\n  width: 20px;\r\n  height: 20px;\r\n  top: 4px;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  padding: 11px 0 0 0;\r\n  text-indent: -12px;\r\n  border-radius: 20px;\r\n  box-shadow: inset 0 1px 4px rgba(0, 0, 0, 0.2), inset 0 0 3px rgba(0, 0, 0, 0.1);\r\n}\r\n.switch-input:checked ~ .switch-handle {\r\n  left: 74px;\r\n  box-shadow: -1px 1px 5px rgba(0, 0, 0, 0.2);\r\n}\r\n.switch-label, .switch-handle {\r\n  transition: All 0.3s ease;\r\n  -webkit-transition: All 0.3s ease;\r\n  -moz-transition: All 0.3s ease;\r\n  -o-transition: All 0.3s ease;\r\n}\r\n.switch-handle {\r\n  position: absolute;\r\n  top: 4px;\r\n  left: 4px;\r\n  width: 28px;\r\n  height: 28px;\r\n  background: linear-gradient(to bottom, #FFFFFF 40%, #f0f0f0);\r\n  background-image: -webkit-linear-gradient(top, #FFFFFF 40%, #f0f0f0);\r\n  border-radius: 100%;\r\n  box-shadow: 1px 1px 5px rgba(0, 0, 0, 0.2);\r\n}\r\n.switch-handle:before {\r\n  content: \"\";\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 50%;\r\n  margin: -6px 0 0 -6px;\r\n  width: 12px;\r\n  height: 12px;\r\n  background: linear-gradient(to bottom, #eeeeee, #FFFFFF);\r\n  background-image: -webkit-linear-gradient(top, #eeeeee, #FFFFFF);\r\n  border-radius: 6px;\r\n  box-shadow: inset 0 1px rgba(0, 0, 0, 0.02);\r\n}\r\n"

/***/ }),

/***/ "./src/app/component/project-list/project/project.component.html":
/*!***********************************************************************!*\
  !*** ./src/app/component/project-list/project/project.component.html ***!
  \***********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class=\"container\" *ngIf=\"!ready\">\r\n  <div class=\"row-first\">\r\n    <app-loader></app-loader>\r\n  </div>\r\n</div>\r\n\r\n<div class=\"container\" *ngIf=\"ready\">\r\n\r\n  <div class=\"row row-first\">\r\n    <div class=\"col\">\r\n      <button type=\"button\" class=\"btn btn-outline-danger waves-effect\" [routerLink]=\"['/project-list']\"><h6 class=\"no-margin-bottom\"><i class=\"fa fa-times mr-3\"></i>Back</h6></button>\r\n      <button [disabled]=\"!isEditable || !isProjectValid\" class=\"btn btn-success waves-effect\" type=\"button\" data-toggle=\"modal\" data-target=\"#confirmationModal\">Save</button>\r\n      <app-pdf-sop ></app-pdf-sop>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"row row-first\">\r\n    <div class=\"col anil_nepal\">\r\n      <label class=\"switch switch-left-right\">\r\n        <input class=\"switch-input\" type=\"checkbox\" (click)=\"makeEditable()\">\r\n        <span class=\"switch-label\" data-on=\"Editable\" data-off=\"OFF\"></span> <span class=\"switch-handle\"></span> </label>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"row\">\r\n      <div class=\"col-3 font-weight-bold\">\r\n        <p>Project title</p>\r\n      </div>\r\n      <div class=\"col-8\">\r\n        <input (keyup)=\"checkProject()\" [disabled]=\"!isEditable\" [(ngModel)]=\"project.project_title\" type=\"text\" class=\"form-control\">\r\n      </div>\r\n  </div>\r\n\r\n  <div class=\"row\">\r\n    <div class=\"col-3 font-weight-bold\">\r\n      <p>Project Code</p>\r\n    </div>\r\n    <div class=\"col-8\">\r\n      <input [disabled]=\"true\" [(ngModel)]=\"project.project_id\" type=\"text\" class=\"form-control\">\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"row\">\r\n    <div class=\"col-3 font-weight-bold\">\r\n      <p>Project work code</p>\r\n    </div>\r\n    <div class=\"col-8\">\r\n      <input (keyup)=\"checkProject()\" [disabled]=\"!isEditable\" [(ngModel)]=\"project.project_work_code\" type=\"text\" class=\"form-control\">\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"row\">\r\n    <div class=\"col-3 font-weight-bold\">\r\n      <p>Start date</p>\r\n    </div>\r\n    <div class=\"col-8\">\r\n      <input [disabled]=\"!isEditable\" (change)=\"checkEndDate()\" [(ngModel)]=\"project.project_start\" type=\"date\" class=\"form-control\">\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"row\">\r\n    <div class=\"col-3 font-weight-bold\">\r\n      <p>End date</p>\r\n    </div>\r\n    <div class=\"col-8\">\r\n      <input [disabled]=\"!isEditable\"  [(ngModel)]=\"new_project_end\" [min]=\"minimum_project_end\" type=\"date\" class=\"form-control\">\r\n    </div>\r\n  </div>\r\n\r\n  <br>\r\n\r\n  <div class=\"row\">\r\n    <div class=\"col-3 font-weight-bold\">\r\n      <p>Organisation</p>\r\n    </div>\r\n    <div class=\"col-8\">\r\n      <select (change)=\"pickOrganisation()\" [disabled]=\"!isEditable\" [(ngModel)]=\"organisation\" class=\"form-control\">\r\n        <option name=\"organisation\" value=\"\" disabled selected>Choose organisation</option>\r\n        <option *ngFor=\"let o of organisation_elements\" [ngValue]=\"o\">{{o['organisation'].organisation_name}}</option>\r\n      </select>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"row\">\r\n    <div class=\"col-3 font-weight-bold\">\r\n      <p>Branch</p>\r\n    </div>\r\n    <div class=\"col-8\">\r\n      <select (change)=\"pickBranch()\" [disabled]=\"!isEditable\" [(ngModel)]=\"branch\" class=\"form-control\">\r\n        <option name=\"organisation\" value=\"\" disabled selected>Choose branch</option>\r\n        <option *ngFor=\"let b of organisation['branchs']\" [ngValue]=\"b\">{{b['branch'].branch_name}}</option>\r\n      </select>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"row\">\r\n    <div class=\"col-3 font-weight-bold\">\r\n      <p>Department</p>\r\n    </div>\r\n    <div class=\"col-8\">\r\n      <select (change)=\"pickDepartment()\" [disabled]=\"!isEditable || branch['branch'].branch_name == 'No branch'\" [(ngModel)]=\"department\" class=\"form-control\">\r\n        <option name=\"organisation\" value=\"\" disabled selected>Choose department</option>\r\n        <option *ngFor=\"let d of branch['departments']\" [ngValue]=\"d\">{{d['department'].department_name}}</option>\r\n      </select>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"row\">\r\n    <div class=\"col-3 font-weight-bold\">\r\n      <p>Branch</p>\r\n    </div>\r\n    <div class=\"col-8\">\r\n      <select [disabled]=\"!isEditable || department['department'].department_name == 'No department'\" [(ngModel)]=\"sub_department\" class=\"form-control\">\r\n        <option name=\"organisation\" value=\"\" disabled selected>Choose organisation</option>\r\n        <option *ngFor=\"let s of department['sub_departments']\" [ngValue]=\"s\">{{s.sub_department_name}}</option>\r\n      </select>\r\n    </div>\r\n  </div>\r\n\r\n</div>\r\n\r\n<!-- Modal confirmation -->\r\n<app-confirmation title=\"Update Project\"\r\n                  text=\"Are you sure you want to modify this project ? If the project has already started, this mights create some errors\"\r\n                  (success)=\"onSubmit()\"\r\n                  [isLinkActive]=false\r\n                  link=\"project-list\">\r\n</app-confirmation>\r\n"

/***/ }),

/***/ "./src/app/component/project-list/project/project.component.ts":
/*!*********************************************************************!*\
  !*** ./src/app/component/project-list/project/project.component.ts ***!
  \*********************************************************************/
/*! exports provided: ProjectComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ProjectComponent", function() { return ProjectComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _objects_project_project_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../objects/project/project.service */ "./src/app/objects/project/project.service.ts");
/* harmony import */ var _objects_organisation_organisation_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../objects/organisation/organisation.service */ "./src/app/objects/organisation/organisation.service.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _objects_branch_branch_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../objects/branch/branch.service */ "./src/app/objects/branch/branch.service.ts");
/* harmony import */ var _objects_sub_department_sub_department_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../objects/sub_department/sub-department.service */ "./src/app/objects/sub_department/sub-department.service.ts");
/* harmony import */ var _objects_department_department_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../objects/department/department.service */ "./src/app/objects/department/department.service.ts");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _objects_job_job_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../objects/job/job.service */ "./src/app/objects/job/job.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = y[op[0] & 2 ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [0, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};









var ProjectComponent = /** @class */ (function () {
    function ProjectComponent(_projectService, _organisationService, router, _branchService, _departmentService, _subDepartmentService, _jobService) {
        this._projectService = _projectService;
        this._organisationService = _organisationService;
        this.router = router;
        this._branchService = _branchService;
        this._departmentService = _departmentService;
        this._subDepartmentService = _subDepartmentService;
        this._jobService = _jobService;
        /* ----- Data ----- */
        this.errorMessage = "";
        this.isEditable = false;
        this.isProjectValid = true;
        this.ready = false;
        //Manage the disabled function of organisations selects
        this.pick_level = 1;
        this.organisation_elements = [];
    }
    ProjectComponent.prototype.ngOnInit = function () {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this.project_id = localStorage.getItem("Project_id");
                        return [4 /*yield*/, this.loadProject()];
                    case 1:
                        _a.sent();
                        return [4 /*yield*/, this.loadOrganisations()];
                    case 2:
                        _a.sent();
                        return [4 /*yield*/, this.loadOrganisationFromProject()];
                    case 3:
                        _a.sent();
                        return [4 /*yield*/, this.loadJobs()];
                    case 4:
                        _a.sent();
                        return [4 /*yield*/, this.checkEndDate()];
                    case 5:
                        _a.sent();
                        this.ready = true;
                        return [2 /*return*/];
                }
            });
        });
    };
    ProjectComponent.prototype.loadProject = function () {
        return __awaiter(this, void 0, void 0, function () {
            var s, error_1;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        _a.trys.push([0, 2, , 3]);
                        return [4 /*yield*/, this._projectService.getProject(this.project_id).toPromise()];
                    case 1:
                        s = _a.sent();
                        this.project = s['data'];
                        this.new_project_end = this.project.project_end;
                        return [3 /*break*/, 3];
                    case 2:
                        error_1 = _a.sent();
                        this.errorMessage = error_1.message;
                        return [3 /*break*/, 3];
                    case 3: return [2 /*return*/];
                }
            });
        });
    };
    ProjectComponent.prototype.loadOrganisationFromProject = function () {
        return __awaiter(this, void 0, void 0, function () {
            var res, elements, error_2;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        _a.trys.push([0, 2, , 3]);
                        return [4 /*yield*/, this._organisationService.selectSchema(this.project.sub_department_id).toPromise()];
                    case 1:
                        res = _a.sent();
                        elements = res['data'][0];
                        this.organisation = this.findElement(elements['organisation_id'], 1);
                        this.branch = this.findElement(elements['branch_id'], 2);
                        this.department = this.findElement(elements['department_id'], 3);
                        this.sub_department = this.findElement(elements['sub_department_id'], 4);
                        return [3 /*break*/, 3];
                    case 2:
                        error_2 = _a.sent();
                        this.errorMessage = error_2.message;
                        return [3 /*break*/, 3];
                    case 3: return [2 /*return*/];
                }
            });
        });
    };
    ProjectComponent.prototype.loadJobs = function () {
        return __awaiter(this, void 0, void 0, function () {
            var j, error_3;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        _a.trys.push([0, 2, , 3]);
                        return [4 /*yield*/, this._jobService.selectAllFromProject(this.project_id).toPromise()];
                    case 1:
                        j = _a.sent();
                        this.jobs = j['data'];
                        return [3 /*break*/, 3];
                    case 2:
                        error_3 = _a.sent();
                        this.errorMessage = error_3.message;
                        return [3 /*break*/, 3];
                    case 3: return [2 /*return*/];
                }
            });
        });
    };
    ProjectComponent.prototype.makeEditable = function () {
        this.isEditable = !this.isEditable;
    };
    ProjectComponent.prototype.onSubmit = function () {
        return __awaiter(this, void 0, void 0, function () {
            var error_4;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        _a.trys.push([0, 2, , 3]);
                        this.project.sub_department_id = this.sub_department.sub_department_id.toString();
                        return [4 /*yield*/, this._projectService.updateProject(this.project).toPromise()];
                    case 1:
                        _a.sent();
                        this.router.navigate(['/project-list']);
                        return [3 /*break*/, 3];
                    case 2:
                        error_4 = _a.sent();
                        this.errorMessage = error_4.message;
                        return [3 /*break*/, 3];
                    case 3: return [2 /*return*/];
                }
            });
        });
    };
    ProjectComponent.prototype.checkProject = function () {
        this.errorMessage = "";
        var check = true;
        if (this.project.project_title == "") {
            this.errorMessage = "Project name is required.";
            check = false;
        }
        else if (this.project.project_work_code == "") {
            this.errorMessage = "Project work code is required.";
            check = false;
        }
        this.isProjectValid = check;
    };
    ProjectComponent.prototype.checkEndDate = function () {
        return __awaiter(this, void 0, void 0, function () {
            var p, p2, d1, d2, d;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this._jobService.computeDateEnd(this.jobs, this.project.project_start).toPromise()];
                    case 1:
                        p = _a.sent();
                        p2 = new Date(p['data']['end_date']);
                        //We get the minimum date
                        this.minimum_project_end = moment__WEBPACK_IMPORTED_MODULE_7__(p2).format('YYYY-MM-DD');
                        d1 = new Date(this.new_project_end);
                        d2 = new Date(this.minimum_project_end);
                        if (d1 < d2) {
                            d = new Date(this.minimum_project_end);
                            this.new_project_end = moment__WEBPACK_IMPORTED_MODULE_7__(d).format('YYYY-MM-DD');
                        }
                        return [2 /*return*/];
                }
            });
        });
    };
    /*  ----------------- ORGANISATIONS / BRANCHS / DEPARTMENTS / SUB_DEPARTMENTS ----------------- */
    //We get all Organisations, branchs, departements and sub departements from database
    ProjectComponent.prototype.loadOrganisations = function () {
        return __awaiter(this, void 0, void 0, function () {
            var o, organisations, _i, organisations_1, organisation, b, branchs, e0, _a, branchs_1, branch, d, departments, e1, _b, departments_1, department, s, sub_departments, e2, error_5;
            return __generator(this, function (_c) {
                switch (_c.label) {
                    case 0:
                        _c.trys.push([0, 14, , 15]);
                        this.errorMessage = "";
                        return [4 /*yield*/, this._organisationService.selectAll().toPromise()];
                    case 1:
                        o = _c.sent();
                        organisations = o['data'];
                        _i = 0, organisations_1 = organisations;
                        _c.label = 2;
                    case 2:
                        if (!(_i < organisations_1.length)) return [3 /*break*/, 13];
                        organisation = organisations_1[_i];
                        return [4 /*yield*/, this._branchService.selectAllFromOrganisation(organisation.organisation_id.toString()).toPromise()];
                    case 3:
                        b = _c.sent();
                        branchs = b['data'];
                        e0 = {
                            organisation: organisation,
                            branchs: []
                        };
                        _a = 0, branchs_1 = branchs;
                        _c.label = 4;
                    case 4:
                        if (!(_a < branchs_1.length)) return [3 /*break*/, 11];
                        branch = branchs_1[_a];
                        return [4 /*yield*/, this._departmentService.selectAllFromBranch(branch.branch_id.toString()).toPromise()];
                    case 5:
                        d = _c.sent();
                        departments = d['data'];
                        e1 = {
                            branch: branch,
                            departments: []
                        };
                        _b = 0, departments_1 = departments;
                        _c.label = 6;
                    case 6:
                        if (!(_b < departments_1.length)) return [3 /*break*/, 9];
                        department = departments_1[_b];
                        return [4 /*yield*/, this._subDepartmentService.selectAllFromDepartment(department.department_id.toString()).toPromise()];
                    case 7:
                        s = _c.sent();
                        sub_departments = s['data'];
                        e2 = {
                            department: department,
                            sub_departments: sub_departments
                        };
                        e1['departments'].push(e2);
                        _c.label = 8;
                    case 8:
                        _b++;
                        return [3 /*break*/, 6];
                    case 9:
                        e0['branchs'].push(e1);
                        _c.label = 10;
                    case 10:
                        _a++;
                        return [3 /*break*/, 4];
                    case 11:
                        this.organisation_elements.push(e0);
                        _c.label = 12;
                    case 12:
                        _i++;
                        return [3 /*break*/, 2];
                    case 13: return [3 /*break*/, 15];
                    case 14:
                        error_5 = _c.sent();
                        this.errorMessage = error_5.message;
                        return [3 /*break*/, 15];
                    case 15: return [2 /*return*/];
                }
            });
        });
    };
    /* element is an id of organisation, branch or department. Level 1 = We search for organisation, level 2 = we search for departments.
     * Return : the element of organisation_elements wanted */
    ProjectComponent.prototype.findElement = function (element, level) {
        console.log('element : ', element, ' - level : ', level);
        if (level == 1) {
            //We search for an organisation
            for (var _i = 0, _a = this.organisation_elements; _i < _a.length; _i++) {
                var e = _a[_i];
                if (e['organisation'].organisation_id == element) {
                    return e;
                }
            }
        }
        else if (level == 2) {
            for (var _b = 0, _c = this.organisation['branchs']; _b < _c.length; _b++) {
                var e = _c[_b];
                if (e['branch'].branch_id == element) {
                    return e;
                }
            }
        }
        else if (level == 3) {
            for (var _d = 0, _e = this.branch['departments']; _d < _e.length; _d++) {
                var e = _e[_d];
                if (e['department'].department_id == element) {
                    return e;
                }
            }
        }
        else if (level == 4) {
            for (var _f = 0, _g = this.department['sub_departments']; _f < _g.length; _f++) {
                var e = _g[_f];
                if (e.department_id == element) {
                    return e;
                }
            }
        }
    };
    ProjectComponent.prototype.pickOrganisation = function () {
        // I have picked my new organisation, I need to set my new array for other levels
        this.branch = this.organisation['branchs'][0];
        this.department = this.branch['departments'][0];
        this.sub_department = this.department['sub_departments'][0];
        console.log(this.organisation, this.branch, this.department, this.sub_department);
    };
    ProjectComponent.prototype.pickBranch = function () {
        // I have picked my new organisation, I need to set my new array for other levels
        this.department = this.branch['departments'][0];
        this.sub_department = this.department['sub_departments'][0];
        console.log(this.organisation, this.branch, this.department, this.sub_department);
    };
    ProjectComponent.prototype.pickDepartment = function () {
        this.sub_department = this.department['sub_departments'][0];
        console.log(this.organisation, this.branch, this.department, this.sub_department);
        //
    };
    ProjectComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-project',
            template: __webpack_require__(/*! ./project.component.html */ "./src/app/component/project-list/project/project.component.html"),
            styles: [__webpack_require__(/*! ./project.component.css */ "./src/app/component/project-list/project/project.component.css")]
        }),
        __metadata("design:paramtypes", [_objects_project_project_service__WEBPACK_IMPORTED_MODULE_1__["ProjectService"],
            _objects_organisation_organisation_service__WEBPACK_IMPORTED_MODULE_2__["OrganisationService"],
            _angular_router__WEBPACK_IMPORTED_MODULE_3__["Router"],
            _objects_branch_branch_service__WEBPACK_IMPORTED_MODULE_4__["BranchService"],
            _objects_department_department_service__WEBPACK_IMPORTED_MODULE_6__["DepartmentService"],
            _objects_sub_department_sub_department_service__WEBPACK_IMPORTED_MODULE_5__["SubDepartmentService"],
            _objects_job_job_service__WEBPACK_IMPORTED_MODULE_8__["JobService"]])
    ], ProjectComponent);
    return ProjectComponent;
}());



/***/ }),

/***/ "./src/app/component/project-list/volume-progress/volume-progress.component.html":
/*!***************************************************************************************!*\
  !*** ./src/app/component/project-list/volume-progress/volume-progress.component.html ***!
  \***************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class=\"container\" *ngIf=\"!ready\">\r\n  <div class=\"row-first\">\r\n    <app-loader></app-loader>\r\n  </div>\r\n</div>\r\n\r\n<div class=\"container\" *ngIf=\"ready\">\r\n\r\n  <div class=\"row row-first\">\r\n    <div class=\"col\">\r\n      <button type=\"button\" class=\"btn btn-outline-danger waves-effect\" routerLink=\"/project-list\"><h6 class=\"no-margin-bottom\"><i class=\"fa fa-times mr-3\"></i>Back</h6></button>\r\n      <app-pdf-performance-target></app-pdf-performance-target>\r\n      <app-pdf-performance-report></app-pdf-performance-report>\r\n      <app-pdf-progress-evaluation></app-pdf-progress-evaluation>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"row row-first input-group justify-content-between\">\r\n\r\n    <div class=\"md-form col-2\" id=\"search-bar\">\r\n      <input id=\"search\" (keyup)=\"search()\" class=\"form-control\" type=\"text\" placeholder=\"Search\" aria-label=\"Search\">\r\n    </div>\r\n\r\n    <!-- LEGEND -->\r\n    <div class=\"md-form col text-center\">\r\n      <h5><span class=\"badge badge-default\">Finished</span>\r\n      <span class=\"badge badge-primary\">Target</span>\r\n      <span class=\"badge badge-danger\">Pourcentage</span></h5>\r\n    </div>\r\n\r\n    <div *ngIf=\"isSwitchable\" class=\"col center-block anil_nepal\">\r\n      <label class=\"switch switch-left-right\">\r\n        <input class=\"switch-input\" type=\"checkbox\"(click)=\"switchView()\" [checked]=\"!isDay\">\r\n        <span class=\"switch-label\" data-on=\"Month\" data-off=\"Day\"></span> <span class=\"switch-handle\"></span> </label>\r\n    </div>\r\n\r\n    <div class=\"month-select col-2\">\r\n      <ul class=\"pagination pg-blue justify-content-center\">\r\n        <li class=\"page-item text-middle\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"previous\" ><i class=\"page-link no-hover fa fa-arrow-left\" (click)=\"previous()\"></i></li>\r\n\r\n        <!--DATE SELECTOR-->\r\n        <li><h2><span class=\"badge badge-default\">{{date_displayed}}</span></h2></li>\r\n\r\n        <li class=\"page-item\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"next\" ><i id=\"nextArrow\" class=\"page-link no-hover fa fa-arrow-right\" (click)=\"next()\"></i></li>\r\n\r\n      </ul>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"row justify-content-center\">\r\n\r\n    <table *ngIf=\"volumes_displayed.size != 0\" class=\"col-12 hoverable table table-borderless table-hover table-fixed\" id=\"volume-table\">\r\n\r\n      <!--Table head-->\r\n      <thead class=\"\">\r\n      <tr class=\"text-white\">\r\n        <th style=\"width: 5%\" (click)=\"sortTable(0)\"><a>No</a></th>\r\n        <th class=\"text-small\" (click)=\"sortTable(1)\"><a>Staff Names</a></th>\r\n        <th class=\"text-small\" (click)=\"sortTable(2)\"><a>Total Target</a></th>\r\n        <th *ngFor=\"let date of dates_displayed\">{{date}}</th>\r\n      </tr>\r\n      </thead>\r\n      <!--Table head-->\r\n\r\n      <!--Table body-->\r\n      <tbody>\r\n        <!-- /*\r\n              * [{date: Date,\r\n              *   elements: [{target_quantity: number,\r\n              *               finished_quantity: number,\r\n              *               finished_rate: number,\r\n              *               member: Member\r\n              *              }]\r\n              *  }]\r\n              * */\r\n        -->\r\n        <tr *ngFor=\"let member of convertMap(volumes_displayed)\" id=\"{{member['member'].member_id}}\"> <!-- ONE ROW -->\r\n          <td ><a (click)=\"selectMember(member['member'].member_id)\">{{member['member'].member_id}}</a></td>\r\n          <td class=\"text-small\"><a (click)=\"selectMember(member['member'].member_id)\">{{member['member'].member_name.toUpperCase()}} {{member['member'].member_first_name}}</a></td>\r\n          <td>\r\n            <h6>\r\n              <span class=\"badge badge-default\">{{roundOne(member['total_finished'], 1)}}</span>\r\n              <span class=\"badge badge-primary\">{{roundOne(member['total_target'],1)}}</span>\r\n              <span class=\"badge badge-danger\">{{roundOne(member['total_rates'], 1)}}%</span>\r\n            </h6>\r\n          </td>\r\n\r\n            <td *ngFor=\"let volume of member['volumes']\"> <!-- SAME MEMBERS -->\r\n              <h6 *ngIf=\"volume['target_quantity'] != 0\">\r\n                <span class=\"badge badge-default\">{{roundOne(volume['finished_quantity'],1)}}</span>\r\n                <span class=\"badge badge-primary\">{{roundOne(volume['target_quantity'],1)}}</span>\r\n                <span class=\"badge badge-danger\">{{roundOne(volume['finished_rate'],1)}}%</span>\r\n              </h6>\r\n            </td>\r\n\r\n        </tr>\r\n      </tbody>\r\n      <!--Table body-->\r\n\r\n    </table>\r\n    <!--Table-->\r\n\r\n    <table class=\"col-10 hoverable table table-borderless table-hover table-fixed\" id=\"activity-table\" *ngIf=\"element_selected != null\">\r\n\r\n      <!--Table head-->\r\n      <thead class=\"thead-secondary\">\r\n      <tr class=\"text-white\">\r\n        <th class=\"text-small\" style=\"width: 7%\" (click)=\"sortTable1(0)\"><a>Job</a></th>\r\n        <th class=\"text-small\" (click)=\"sortTable1(1)\"><a>Activity</a></th>\r\n        <th class=\"text-small\" (click)=\"sortTable1(2)\"><a>Finished Quantity</a></th>\r\n        <th class=\"text-small\" (click)=\"sortTable1(3)\"><a>Target Quantity</a></th>\r\n        <th class=\"text-small\" style=\"width: 20%\" (click)=\"sortTable1(4)\"><a>Finished Date</a></th>\r\n        <th class=\"text-small\" (click)=\"sortTable1(5)\"><a>Target Date</a></th>\r\n        <th class=\"text-small\" (click)=\"sortTable1(6)\"><a>State</a></th>\r\n      </tr>\r\n      </thead>\r\n      <!--Table head-->\r\n\r\n      <!--Table body-->\r\n      <tbody >\r\n      <tr *ngFor=\"let activity of element_selected['m_a_ps']\">\r\n        <td class=\"text-small\">{{activity['job'].job_name}}</td>\r\n        <td class=\"text-small\">{{activity['activity'].activity_title}}</td>\r\n        <td>\r\n          <input [hidden]=\"activity['m_a_p'].target_quantity==0\" [(ngModel)]=\"activity['m_a_p'].finished_quantity\" type=\"number\" class=\"form-control\" max=\"{{activity['m_a_p'].target_quantity}}\" min=\"0\">\r\n        </td>\r\n        <td >{{activity['m_a_p'].target_quantity}}</td>\r\n        <td>\r\n          <input *ngIf=\"activity['m_a_p'].target_quantity == activity['m_a_p'].finished_quantity\" [(ngModel)]=\"activity['m_a_p'].finished_date\" type=\"date\" class=\"form-control\">\r\n        </td>\r\n        <td class=\"text-small\">{{activity['m_a_p'].target_date | date: 'dd/MM/yyyy'}}</td>\r\n        <td class=\"text-small\">{{activity['m_a_p'].evaluation}}</td>\r\n      </tr>\r\n      </tbody>\r\n      <!--Table body-->\r\n\r\n    </table>\r\n    <!--Table-->\r\n\r\n    <div class=\"col-2 text-center\" *ngIf=\"element_selected != null\">\r\n      <button class=\"btn btn-success waves-effect\" type=\"button\" data-toggle=\"modal\" data-target=\"#confirmationModal\">Save</button>\r\n      <br>\r\n      <!-- Error alert -->\r\n      <i class=\"error-text\" *ngIf=\"errorMessage && errorMessage != ''\">{{errorMessage}}</i>\r\n    </div>\r\n\r\n  </div>\r\n\r\n</div>\r\n\r\n<!-- Modal confirmation -->\r\n<app-confirmation title=\"Save finished quantities and duration\"\r\n                  text=\"Are you sure all informations provided are correct ?\"\r\n                  (success)=\"onSubmit(element_selected)\"\r\n                  [isLinkActive]=false\r\n                  link=\"project-list\">\r\n</app-confirmation>\r\n\r\n<script>\r\n  // Material Select Initialization\r\n  $(document).ready(function() {\r\n    $('.mdb-select').material_select();\r\n  });\r\n</script>\r\n\r\n"

/***/ }),

/***/ "./src/app/component/project-list/volume-progress/volume-progress.component.scss":
/*!***************************************************************************************!*\
  !*** ./src/app/component/project-list/volume-progress/volume-progress.component.scss ***!
  \***************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".text-small {\n  font-size: 0.7em !important;\n  font-weight: 500 !important; }\n\n.text-medium {\n  font-size: 0.7em !important;\n  font-weight: 500 !important; }\n\n.month-select {\n  padding-bottom: 20px;\n  padding-top: 20px;\n  margin-left: 5%; }\n\n.input-group-addon.success {\n  color: white;\n  background-color: #ffa701;\n  border-color: #ffa701; }\n\n.badge-primary {\n  background-color: #008593 !important; }\n\n.anil_nepal {\n  padding: 20px 0px;\n  width: 100%;\n  display: block; }\n\n.switch {\n  position: relative;\n  display: inline-block;\n  vertical-align: top;\n  width: 100px;\n  height: 30px;\n  padding: 3px;\n  margin: 0 10px 10px 0;\n  background: linear-gradient(to bottom, #eeeeee, #FFFFFF 25px);\n  background-image: -webkit-linear-gradient(top, #eeeeee, #FFFFFF 25px);\n  border-radius: 18px;\n  box-shadow: inset 0 -1px white, inset 0 1px 1px rgba(0, 0, 0, 0.05);\n  cursor: pointer;\n  box-sizing: content-box; }\n\nlabel {\n  font-weight: inherit; }\n\ninput[type=checkbox], input[type=radio] {\n  margin: 4px 0 0;\n  line-height: normal;\n  box-sizing: border-box;\n  padding: 0; }\n\n.switch-input {\n  position: absolute;\n  top: 0;\n  left: 0;\n  opacity: 0;\n  box-sizing: content-box; }\n\n.switch-left-right .switch-input:checked ~ .switch-label {\n  background: inherit; }\n\n.switch-input:checked ~ .switch-label {\n  background: #E1B42B;\n  box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.15), inset 0 0 3px rgba(0, 0, 0, 0.2); }\n\n.switch-left-right .switch-label {\n  overflow: hidden; }\n\n.switch-label, .switch-handle {\n  transition: All 0.3s ease;\n  -webkit-transition: All 0.3s ease;\n  -moz-transition: All 0.3s ease;\n  -o-transition: All 0.3s ease; }\n\n.switch-label {\n  position: relative;\n  display: block;\n  height: inherit;\n  font-size: 10px;\n  text-transform: uppercase;\n  background: #eceeef;\n  border-radius: inherit;\n  box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.12), inset 0 0 2px rgba(0, 0, 0, 0.15);\n  box-sizing: content-box; }\n\n.switch-left-right .switch-input:checked ~ .switch-label:before {\n  opacity: 1;\n  left: 100px; }\n\n.switch-input:checked ~ .switch-label:before {\n  opacity: 0; }\n\n.switch-left-right .switch-label:before {\n  background: #eceeef;\n  text-align: left;\n  padding-left: 80px !important; }\n\n.switch-left-right .switch-label:before, .switch-left-right .switch-label:after {\n  width: 20px;\n  height: 20px;\n  top: 4px;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  padding: 11px 0 0 0;\n  text-indent: -12px;\n  border-radius: 20px;\n  box-shadow: inset 0 1px 4px rgba(0, 0, 0, 0.2), inset 0 0 3px rgba(0, 0, 0, 0.1); }\n\n.switch-label:before {\n  content: attr(data-off);\n  right: 11px;\n  color: #FFFFFF;\n  text-shadow: 0 1px rgba(255, 255, 255, 0.5); }\n\nspan.switch-label:after {\n  content: attr(data-on);\n  left: 11px;\n  color: #FFFFFF;\n  text-shadow: 0 1px rgba(0, 0, 0, 0.2);\n  position: absolute; }\n\n.switch-label:before, .switch-label:after {\n  position: absolute;\n  top: 50%;\n  margin-top: -5px;\n  line-height: 1;\n  transition: inherit;\n  box-sizing: content-box; }\n\n.switch-left-right .switch-input:checked ~ .switch-label:after {\n  left: 0 !important;\n  opacity: 1;\n  padding-left: 20px; }\n\n.switch-input:checked ~ .switch-label:after {\n  opacity: 1; }\n\n.switch-left-right .switch-label:after {\n  text-align: left;\n  text-indent: 9px;\n  background: #00c851 !important;\n  left: -100px !important;\n  opacity: 1;\n  width: 100% !important; }\n\n.switch-left-right .switch-label:before, .switch-left-right .switch-label:after {\n  width: 20px;\n  height: 20px;\n  top: 4px;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  padding: 11px 0 0 0;\n  text-indent: -12px;\n  border-radius: 20px;\n  box-shadow: inset 0 1px 4px rgba(0, 0, 0, 0.2), inset 0 0 3px rgba(0, 0, 0, 0.1); }\n\n.switch-input:checked ~ .switch-handle {\n  left: 74px;\n  box-shadow: -1px 1px 5px rgba(0, 0, 0, 0.2); }\n\n.switch-label, .switch-handle {\n  transition: All 0.3s ease;\n  -webkit-transition: All 0.3s ease;\n  -moz-transition: All 0.3s ease;\n  -o-transition: All 0.3s ease; }\n\n.switch-handle {\n  position: absolute;\n  top: 4px;\n  left: 4px;\n  width: 28px;\n  height: 28px;\n  background: linear-gradient(to bottom, #FFFFFF 40%, #f0f0f0);\n  background-image: -webkit-linear-gradient(top, #FFFFFF 40%, #f0f0f0);\n  border-radius: 100%;\n  box-shadow: 1px 1px 5px rgba(0, 0, 0, 0.2); }\n\n.switch-handle:before {\n  content: \"\";\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  margin: -6px 0 0 -6px;\n  width: 12px;\n  height: 12px;\n  background: linear-gradient(to bottom, #eeeeee, #FFFFFF);\n  background-image: -webkit-linear-gradient(top, #eeeeee, #FFFFFF);\n  border-radius: 6px;\n  box-shadow: inset 0 1px rgba(0, 0, 0, 0.02); }\n\n.switch-left-right[_ngcontent-c3] .switch-label[_ngcontent-c3]:before, .switch-left-right[_ngcontent-c3] .switch-label[_ngcontent-c3]:after {\n  background-color: #FFA701; }\n"

/***/ }),

/***/ "./src/app/component/project-list/volume-progress/volume-progress.component.ts":
/*!*************************************************************************************!*\
  !*** ./src/app/component/project-list/volume-progress/volume-progress.component.ts ***!
  \*************************************************************************************/
/*! exports provided: VolumeProgressComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "VolumeProgressComponent", function() { return VolumeProgressComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _objects_member_activity_project_member_activity_project_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../objects/member_activity_project/member-activity-project.service */ "./src/app/objects/member_activity_project/member-activity-project.service.ts");
/* harmony import */ var _objects_member_member_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../objects/member/member.service */ "./src/app/objects/member/member.service.ts");
/* harmony import */ var _objects_activity_activity_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../objects/activity/activity.service */ "./src/app/objects/activity/activity.service.ts");
/* harmony import */ var _objects_project_project_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../objects/project/project.service */ "./src/app/objects/project/project.service.ts");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _objects_job_job_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../objects/job/job.service */ "./src/app/objects/job/job.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = y[op[0] & 2 ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [0, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};







var VolumeProgressComponent = /** @class */ (function () {
    function VolumeProgressComponent(_memberActivityProjectService, _memberService, _activityService, _projectService, _jobService) {
        this._memberActivityProjectService = _memberActivityProjectService;
        this._memberService = _memberService;
        this._activityService = _activityService;
        this._projectService = _projectService;
        this._jobService = _jobService;
        /* ----- Data ----- */
        this.errorMessage = "";
        this.ready = false;
        this.m_a_p = [];
        this.workers = [];
        this.activities = [];
        this.sorted_workers = [];
        this.test = true;
        /*
        * [{date: Date,
        *   elements: [{target_quantity: number,
        *               finished_quantity: number,
        *               finished_rate: number,
        *               member: Member
        *              }]
        *  }]
        * */
        this.volume_per_days = [];
        this.volume_per_weeks = [];
        this.is_type_weeks = false;
        /* [{member: Member,
        *    m_a_ps: MemberActivityProject[],
        *    total_target: number,
        *    total_finished: number
        *  }}
        *  */
        this.elements = [];
        // Volumes that are displayed on the main table
        this.volumes_displayed = new Map();
        this.dates_displayed = [];
        this.volumes_displayed_iterator = 0;
        this.date_displayed = "";
        /* ----- Days or Month management ----- */
        // Enable or not to switch between days & months or not
        this.isSwitchable = true;
        //Tells the view if we display days or months
        this.isDay = true;
        this.members_activities = new Map();
    }
    VolumeProgressComponent.prototype.ngOnInit = function () {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.loadData()];
                    case 1:
                        _a.sent();
                        return [4 /*yield*/, this.sortElements()];
                    case 2:
                        _a.sent();
                        return [4 /*yield*/, this.loadVolumePerDay()];
                    case 3:
                        _a.sent();
                        this.isSwitchableProject();
                        this.ready = true;
                        return [2 /*return*/];
                }
            });
        });
    };
    VolumeProgressComponent.prototype.onSubmit = function (element) {
        return __awaiter(this, void 0, void 0, function () {
            var _i, _a, map, m, _b, _c, map, m, error_1;
            return __generator(this, function (_d) {
                switch (_d.label) {
                    case 0:
                        this.old_cell = element['member']['member_id'];
                        _d.label = 1;
                    case 1:
                        _d.trys.push([1, 9, , 10]);
                        for (_i = 0, _a = element['m_a_ps']; _i < _a.length; _i++) {
                            map = _a[_i];
                            m = map['m_a_p'];
                            if (m.finished_quantity > m.target_quantity) {
                                throw new Error('One or more finished quantities are greater than their target quantity');
                            }
                        }
                        _b = 0, _c = element['m_a_ps'];
                        _d.label = 2;
                    case 2:
                        if (!(_b < _c.length)) return [3 /*break*/, 5];
                        map = _c[_b];
                        m = map['m_a_p'];
                        return [4 /*yield*/, this._memberActivityProjectService.update(m).toPromise()];
                    case 3:
                        _d.sent();
                        _d.label = 4;
                    case 4:
                        _b++;
                        return [3 /*break*/, 2];
                    case 5:
                        this.errorMessage = "";
                        this.ready = false;
                        return [4 /*yield*/, this.loadData()];
                    case 6:
                        _d.sent();
                        return [4 /*yield*/, this.sortElements()];
                    case 7:
                        _d.sent();
                        return [4 /*yield*/, this.loadVolumePerDay()];
                    case 8:
                        _d.sent();
                        this.element_selected = null;
                        this.ready = true;
                        return [3 /*break*/, 10];
                    case 9:
                        error_1 = _d.sent();
                        this.errorMessage = error_1;
                        return [3 /*break*/, 10];
                    case 10: return [2 /*return*/];
                }
            });
        });
    };
    /* ----------- METHODS ----------- */
    VolumeProgressComponent.prototype.reloadView = function () {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (!this.isDay) return [3 /*break*/, 2];
                        return [4 /*yield*/, this.loadVolumePerDay()];
                    case 1:
                        _a.sent();
                        return [3 /*break*/, 4];
                    case 2: return [4 /*yield*/, this.loadVolumePerWeek()];
                    case 3:
                        _a.sent();
                        _a.label = 4;
                    case 4: return [2 /*return*/];
                }
            });
        });
    };
    VolumeProgressComponent.prototype.switchView = function () {
        this.isDay = !this.isDay;
        this.reloadView();
    };
    /* Load the project & all m_a_p data with the activity & member linked */
    VolumeProgressComponent.prototype.loadData = function () {
        return __awaiter(this, void 0, void 0, function () {
            var project_id, project, error_2, m_a_p, error_3, _i, _a, m, worker, activity, job, e, error_4;
            return __generator(this, function (_b) {
                switch (_b.label) {
                    case 0:
                        this.ready = false;
                        _b.label = 1;
                    case 1:
                        _b.trys.push([1, 3, , 4]);
                        project_id = localStorage.getItem('Project_id');
                        return [4 /*yield*/, this._projectService.select(project_id).toPromise()];
                    case 2:
                        project = _b.sent();
                        this.project = project['data'];
                        return [3 /*break*/, 4];
                    case 3:
                        error_2 = _b.sent();
                        this.errorMessage = error_2.error.message;
                        return [3 /*break*/, 4];
                    case 4:
                        //We select all MemberActivityProject linked to the project
                        this.m_a_p = [];
                        _b.label = 5;
                    case 5:
                        _b.trys.push([5, 7, , 8]);
                        return [4 /*yield*/, this._memberActivityProjectService.selectAllFromProject(this.project.project_id).toPromise()];
                    case 6:
                        m_a_p = _b.sent();
                        this.m_a_p = m_a_p['data'];
                        return [3 /*break*/, 8];
                    case 7:
                        error_3 = _b.sent();
                        this.errorMessage = error_3.error.message;
                        return [3 /*break*/, 8];
                    case 8:
                        //We select all Members & Activities linked to theses m_a_p
                        this.workers = [];
                        this.activities = [];
                        this.elements = [];
                        _b.label = 9;
                    case 9:
                        _b.trys.push([9, 16, , 17]);
                        _i = 0, _a = this.m_a_p;
                        _b.label = 10;
                    case 10:
                        if (!(_i < _a.length)) return [3 /*break*/, 15];
                        m = _a[_i];
                        return [4 /*yield*/, this._memberService.select(m.member_id).toPromise()];
                    case 11:
                        worker = _b.sent();
                        return [4 /*yield*/, this._activityService.select(m.activity_id).toPromise()];
                    case 12:
                        activity = _b.sent();
                        return [4 /*yield*/, this._jobService.select(m.job_id).toPromise()];
                    case 13:
                        job = _b.sent();
                        this.workers.push(worker['data']);
                        e = {
                            activity: activity['data'],
                            job: job['data']
                        };
                        this.activities.push(e);
                        _b.label = 14;
                    case 14:
                        _i++;
                        return [3 /*break*/, 10];
                    case 15: return [3 /*break*/, 17];
                    case 16:
                        error_4 = _b.sent();
                        this.errorMessage = error_4.error.message;
                        return [3 /*break*/, 17];
                    case 17: return [2 /*return*/];
                }
            });
        });
    };
    /* For one member, we group all his m_a_p inside the elements array.It's like a distinct member request */
    VolumeProgressComponent.prototype.sortElements = function () {
        return __awaiter(this, void 0, void 0, function () {
            var add, _i, _a, w, _b, _c, s, _d, _e, s, sorted_map, total_target, total_finished, _f, _g, m, a, j, e, error_5, element;
            return __generator(this, function (_h) {
                switch (_h.label) {
                    case 0:
                        this.sorted_workers = [];
                        //I CHECK EVERY WORKERS
                        for (_i = 0, _a = this.workers; _i < _a.length; _i++) {
                            w = _a[_i];
                            add = true;
                            for (_b = 0, _c = this.sorted_workers; _b < _c.length; _b++) {
                                s = _c[_b];
                                if (s.member_id == w.member_id) {
                                    add = false;
                                }
                            }
                            if (add) {
                                this.sorted_workers.push(w);
                            }
                        }
                        _d = 0, _e = this.sorted_workers;
                        _h.label = 1;
                    case 1:
                        if (!(_d < _e.length)) return [3 /*break*/, 10];
                        s = _e[_d];
                        sorted_map = [];
                        total_target = 0;
                        total_finished = 0;
                        _f = 0, _g = this.m_a_p;
                        _h.label = 2;
                    case 2:
                        if (!(_f < _g.length)) return [3 /*break*/, 8];
                        m = _g[_f];
                        if (!(s.member_id == m.member_id)) return [3 /*break*/, 7];
                        _h.label = 3;
                    case 3:
                        _h.trys.push([3, 6, , 7]);
                        return [4 /*yield*/, this._activityService.select(m.activity_id).toPromise()];
                    case 4:
                        a = _h.sent();
                        return [4 /*yield*/, this._jobService.select(m.job_id).toPromise()];
                    case 5:
                        j = _h.sent();
                        this.calculState(m);
                        e = {
                            m_a_p: m,
                            activity: a['data'],
                            job: j['data'],
                        };
                        sorted_map.push(e);
                        total_target += m.target_quantity;
                        total_finished += m.finished_quantity;
                        return [3 /*break*/, 7];
                    case 6:
                        error_5 = _h.sent();
                        this.errorMessage = error_5.error.message;
                        return [3 /*break*/, 7];
                    case 7:
                        _f++;
                        return [3 /*break*/, 2];
                    case 8:
                        element = {
                            member: s,
                            m_a_ps: sorted_map,
                            total_target: total_target,
                            total_finished: total_finished
                        };
                        this.elements.push(element);
                        _h.label = 9;
                    case 9:
                        _d++;
                        return [3 /*break*/, 1];
                    case 10: return [2 /*return*/];
                }
            });
        });
    };
    /* Ask to the server side to compute every target quantity, quantity finished, rates and store it in an array per days */
    VolumeProgressComponent.prototype.loadVolumePerDay = function () {
        return __awaiter(this, void 0, void 0, function () {
            var v, error_6;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        _a.trys.push([0, 3, , 4]);
                        return [4 /*yield*/, this._projectService.volume_per_days(this.project.project_id).toPromise()];
                    case 1:
                        v = _a.sent();
                        this.volume_per_days = v['data'];
                        this.volumes_displayed_iterator = 0;
                        return [4 /*yield*/, this.selectVolumes(0)];
                    case 2:
                        _a.sent();
                        return [3 /*break*/, 4];
                    case 3:
                        error_6 = _a.sent();
                        this.errorMessage = error_6.message;
                        return [3 /*break*/, 4];
                    case 4: return [2 /*return*/];
                }
            });
        });
    };
    VolumeProgressComponent.prototype.isSwitchableProject = function () {
        var start = moment__WEBPACK_IMPORTED_MODULE_5__(this.project.project_start);
        var end = moment__WEBPACK_IMPORTED_MODULE_5__(this.project.project_end);
        var i = end.diff(start, 'days');
        if (i < 7) {
            this.isSwitchable = false;
        }
    };
    VolumeProgressComponent.prototype.loadVolumePerWeek = function () {
        return __awaiter(this, void 0, void 0, function () {
            var v, error_7;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        _a.trys.push([0, 3, , 4]);
                        return [4 /*yield*/, this._projectService.volume_per_weeks(this.project.project_id).toPromise()];
                    case 1:
                        v = _a.sent();
                        this.volume_per_weeks = v['data'];
                        this.volumes_displayed_iterator = 0;
                        return [4 /*yield*/, this.selectVolumes(0)];
                    case 2:
                        _a.sent();
                        return [3 /*break*/, 4];
                    case 3:
                        error_7 = _a.sent();
                        this.errorMessage = error_7.message;
                        return [3 /*break*/, 4];
                    case 4: return [2 /*return*/];
                }
            });
        });
    };
    VolumeProgressComponent.prototype.selectVolumes = function (i) {
        if (this.isDay) {
            this.selectVolumesDays(i);
        }
        else {
            this.selectVolumesWeeks(i);
            console.log(this.volume_per_weeks);
        }
    };
    /* Take 7 elements from Monday to Sunday, and store it in the array that is shown on the view */
    VolumeProgressComponent.prototype.selectVolumesDays = function (i) {
        // We convert the volume_per_days array to fit with the ngFor view
        this.ready = false;
        this.volumes_displayed = new Map();
        this.dates_displayed = [];
        console.log('i : ', i);
        console.log(' : ', i);
        this.date_displayed = moment__WEBPACK_IMPORTED_MODULE_5__(this.volume_per_days.slice(i, i + 7)[0]['date']).format('MMM YYYY');
        for (var _i = 0, _a = this.volume_per_days.slice(i, i + 7); _i < _a.length; _i++) {
            var volume = _a[_i];
            this.dates_displayed.push(this.dateView([volume['date']]));
            for (var _b = 0, _c = volume['elements']; _b < _c.length; _b++) {
                var member = _c[_b];
                //We initialize the map if needed
                if (this.volumes_displayed.get(member['member'].member_id) == null) {
                    var quantities = this.foundQuantities(member['member'].member_id);
                    var o = {
                        member: member['member'],
                        volumes: [],
                        total_finished: quantities[0],
                        total_target: quantities[1],
                        total_rates: quantities[2]
                    };
                    this.volumes_displayed.set(member['member'].member_id, o);
                }
                //We store quantity
                var e = {
                    target_quantity: member['target_quantity'],
                    finished_quantity: member['finished_quantity'],
                    finished_rate: member['finished_rate']
                };
                this.volumes_displayed.get(member['member'].member_id)['volumes'].push(e);
            }
        }
        this.ready = true;
    };
    /* Take all elements of a month, and store it in the array that is shown on the view */
    VolumeProgressComponent.prototype.selectVolumesWeeks = function (i) {
        // We convert the volume_per_weeks array to fit with the ngFor view
        this.ready = false;
        this.volumes_displayed = new Map();
        this.dates_displayed = [];
        this.date_displayed = this.volume_per_weeks[i]['shortcut'];
        for (var _i = 0, _a = this.volume_per_weeks[i]['weeks']; _i < _a.length; _i++) {
            var volume = _a[_i];
            this.dates_displayed.push(this.dateView([volume['startDate'], volume['endDate']]));
            for (var _b = 0, _c = volume['elements']; _b < _c.length; _b++) {
                var member = _c[_b];
                //We initialize the map if needed
                if (this.volumes_displayed.get(member['member'].member_id) == null) {
                    var quantities = this.foundQuantities(member['member'].member_id);
                    var o = {
                        member: member['member'],
                        volumes: [],
                        total_finished: quantities[0],
                        total_target: quantities[1],
                        total_rates: quantities[2]
                    };
                    this.volumes_displayed.set(member['member'].member_id, o);
                }
                //We store quantity
                var e = {
                    target_quantity: member['target_quantity'],
                    finished_quantity: member['finished_quantity'],
                    finished_rate: member['finished_rate']
                };
                this.volumes_displayed.get(member['member'].member_id)['volumes'].push(e);
            }
        }
        this.ready = true;
    };
    VolumeProgressComponent.prototype.dateView = function (dates) {
        if (this.isDay) {
            return moment__WEBPACK_IMPORTED_MODULE_5__(dates[0]).format('MM/DD');
        }
        else {
            return moment__WEBPACK_IMPORTED_MODULE_5__(dates[0]).format('MM/DD') + ' - ' + moment__WEBPACK_IMPORTED_MODULE_5__(dates[1]).format('MM/DD');
        }
    };
    /* Found the total quantities inside the elements array */
    VolumeProgressComponent.prototype.foundQuantities = function (member_id) {
        for (var _i = 0, _a = this.elements; _i < _a.length; _i++) {
            var e = _a[_i];
            if (e['member'].member_id == member_id) {
                var total_rates = Math.round(100 * e['total_finished'] / e['total_target']);
                return [e['total_finished'], e['total_target'], total_rates];
            }
        }
    };
    //Convert map to array to use it in the view
    VolumeProgressComponent.prototype.convertMap = function (map) {
        return Array.from(map.values());
    };
    //Round a number for the display view
    VolumeProgressComponent.prototype.roundOne = function (n, long) {
        var answer;
        if (n > 0) {
            answer = Math.round(n * long) / long;
        }
        else {
            answer = 0;
        }
        return answer;
    };
    //Load the seven next days
    VolumeProgressComponent.prototype.next = function () {
        if (!this.isDay) {
            if (this.volumes_displayed_iterator < this.volume_per_weeks.length - 1) {
                this.volumes_displayed_iterator += 1;
                var i = this.volumes_displayed_iterator;
                this.selectVolumes(i);
            }
        }
        else {
            //We do next only if we don't have the last portion of the array
            if (this.volumes_displayed_iterator <= this.volume_per_days.length - 7) {
                this.volumes_displayed_iterator += 7;
                var i = this.volumes_displayed_iterator;
                this.selectVolumes(i);
            }
        }
    };
    //Load the seven previous days
    VolumeProgressComponent.prototype.previous = function () {
        if (!this.isDay) {
            if (this.volumes_displayed_iterator > 0) {
                this.volumes_displayed_iterator -= 1;
                var i = this.volumes_displayed_iterator;
                this.selectVolumes(i);
            }
        }
        else {
            //We do next only if we don't have the last portion of the array
            if (this.volumes_displayed_iterator != 0) {
                this.volumes_displayed_iterator -= 7;
                var i = this.volumes_displayed_iterator;
                this.selectVolumes(i);
            }
        }
    };
    /* Show all activities of the member selected */
    VolumeProgressComponent.prototype.selectMember = function (member_id) {
        if (this.element_selected != null) {
            var oldCell = document.getElementById(this.element_selected['member']['member_id']);
            oldCell.className = "";
        }
        /* We search for the right element of the array */
        for (var _i = 0, _a = this.elements; _i < _a.length; _i++) {
            var e = _a[_i];
            if (e['member'].member_id == member_id) {
                this.element_selected = e;
            }
        }
        var newCell = document.getElementById(member_id);
        newCell.className += "selected";
    };
    /* Calcul if the member activity project is late, on date or something else */
    VolumeProgressComponent.prototype.calculState = function (m_a_p) {
        return __awaiter(this, void 0, void 0, function () {
            var target, finished_date, now, isChanged;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        target = new Date(m_a_p.target_date);
                        finished_date = new Date(m_a_p.finished_date);
                        now = new Date();
                        isChanged = false;
                        //The activity is finished
                        if (m_a_p.target_quantity == m_a_p.finished_quantity) {
                            if (m_a_p.evaluation == 'on date' || m_a_p.evaluation == 'finished on date') {
                                if (target.getTime() < finished_date.getTime()) {
                                    m_a_p.evaluation = 'finished late';
                                }
                                else {
                                    m_a_p.evaluation = 'finished on date';
                                }
                                isChanged = true;
                            }
                            else if (m_a_p.evaluation == 'late') {
                                m_a_p.evaluation = 'finished late';
                                isChanged = true;
                            }
                        }
                        else if (m_a_p.evaluation == 'finished late' || m_a_p.evaluation == 'finished on date') {
                            m_a_p.finished_date = new Date();
                            m_a_p.finished_date = moment__WEBPACK_IMPORTED_MODULE_5__(m_a_p.finished_date).format('Y-MM-D');
                            if (target.getTime() < now.getTime()) {
                                m_a_p.evaluation = 'late';
                            }
                            else {
                                m_a_p.evaluation = 'on date';
                            }
                            isChanged = true;
                        }
                        else if (target.getTime() < now.getTime()) {
                            m_a_p.evaluation = 'late';
                            isChanged = true;
                        }
                        else {
                            m_a_p.finished_date = new Date();
                            m_a_p.finished_date = moment__WEBPACK_IMPORTED_MODULE_5__(m_a_p.finished_date).format('Y-MM-D');
                            isChanged = true;
                        }
                        if (!isChanged) return [3 /*break*/, 2];
                        return [4 /*yield*/, this._memberActivityProjectService.update(m_a_p).toPromise()];
                    case 1:
                        _a.sent();
                        _a.label = 2;
                    case 2: return [2 /*return*/];
                }
            });
        });
    };
    VolumeProgressComponent.prototype.sortTable = function (n) {
        var table, rows, switching, i, x, y, shouldSwitch, dir, switchcount = 0;
        table = document.getElementById("volume-table");
        switching = true;
        // Set the sorting direction to ascending:
        dir = "asc";
        /* Make a loop that will continue until
        no switching has been done: */
        while (switching) {
            // Start by saying: no switching is done:
            switching = false;
            rows = table.getElementsByTagName("TR");
            /* Loop through all table rows (except the
            first, which contains table headers): */
            for (i = 1; i < (rows.length - 1); i++) {
                // Start by saying there should be no switching:
                shouldSwitch = false;
                /* Get the two elements you want to compare,
                one from current row and one from the next: */
                x = rows[i].getElementsByTagName("TD")[n];
                y = rows[i + 1].getElementsByTagName("TD")[n];
                /* Check if the two rows should switch place,
                based on the direction, asc or desc: */
                if (dir == "asc") {
                    if (x.innerHTML.toLowerCase() > y.innerHTML.toLowerCase()) {
                        // If so, mark as a switch and break the loop:
                        shouldSwitch = true;
                        break;
                    }
                }
                else if (dir == "desc") {
                    if (x.innerHTML.toLowerCase() < y.innerHTML.toLowerCase()) {
                        // If so, mark as a switch and break the loop:
                        shouldSwitch = true;
                        break;
                    }
                }
            }
            if (shouldSwitch) {
                /* If a switch has been marked, make the switch
                and mark that a switch has been done: */
                rows[i].parentNode.insertBefore(rows[i + 1], rows[i]);
                switching = true;
                // Each time a switch is done, increase this count by 1:
                switchcount++;
            }
            else {
                /* If no switching has been done AND the direction is "asc",
                set the direction to "desc" and run the while loop again. */
                if (switchcount == 0 && dir == "asc") {
                    dir = "desc";
                    switching = true;
                }
            }
        }
    };
    VolumeProgressComponent.prototype.sortTable1 = function (n) {
        var table, rows, switching, i, x, y, shouldSwitch, dir, switchcount = 0;
        table = document.getElementById("activity-table");
        switching = true;
        // Set the sorting direction to ascending:
        dir = "asc";
        /* Make a loop that will continue until
        no switching has been done: */
        while (switching) {
            // Start by saying: no switching is done:
            switching = false;
            rows = table.getElementsByTagName("TR");
            /* Loop through all table rows (except the
            first, which contains table headers): */
            for (i = 1; i < (rows.length - 1); i++) {
                // Start by saying there should be no switching:
                shouldSwitch = false;
                /* Get the two elements you want to compare,
                one from current row and one from the next: */
                x = rows[i].getElementsByTagName("TD")[n];
                y = rows[i + 1].getElementsByTagName("TD")[n];
                /* Check if the two rows should switch place,
                based on the direction, asc or desc: */
                if (dir == "asc") {
                    if (x.innerHTML.toLowerCase() > y.innerHTML.toLowerCase()) {
                        // If so, mark as a switch and break the loop:
                        shouldSwitch = true;
                        break;
                    }
                }
                else if (dir == "desc") {
                    if (x.innerHTML.toLowerCase() < y.innerHTML.toLowerCase()) {
                        // If so, mark as a switch and break the loop:
                        shouldSwitch = true;
                        break;
                    }
                }
            }
            if (shouldSwitch) {
                /* If a switch has been marked, make the switch
                and mark that a switch has been done: */
                rows[i].parentNode.insertBefore(rows[i + 1], rows[i]);
                switching = true;
                // Each time a switch is done, increase this count by 1:
                switchcount++;
            }
            else {
                /* If no switching has been done AND the direction is "asc",
                set the direction to "desc" and run the while loop again. */
                if (switchcount == 0 && dir == "asc") {
                    dir = "desc";
                    switching = true;
                }
            }
        }
    };
    VolumeProgressComponent.prototype.search = function () {
        // Declare variables
        var input, filter, table, tr, td, i;
        input = document.getElementById("search");
        filter = input.value.toUpperCase();
        table = document.getElementById("volume-table");
        tr = table.getElementsByTagName("tr");
        // Loop through all table rows, and hide those who don't match the search query
        for (i = 0; i < tr.length; i++) {
            td = tr[i].getElementsByTagName("td")[1];
            if (td) {
                if (td.innerHTML.toUpperCase().indexOf(filter) > -1) {
                    tr[i].style.display = "";
                }
                else {
                    tr[i].style.display = "none";
                }
            }
        }
    };
    VolumeProgressComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-volume-progress',
            template: __webpack_require__(/*! ./volume-progress.component.html */ "./src/app/component/project-list/volume-progress/volume-progress.component.html"),
            styles: [__webpack_require__(/*! ./volume-progress.component.scss */ "./src/app/component/project-list/volume-progress/volume-progress.component.scss")]
        }),
        __metadata("design:paramtypes", [_objects_member_activity_project_member_activity_project_service__WEBPACK_IMPORTED_MODULE_1__["MemberActivityProjectService"],
            _objects_member_member_service__WEBPACK_IMPORTED_MODULE_2__["MemberService"],
            _objects_activity_activity_service__WEBPACK_IMPORTED_MODULE_3__["ActivityService"],
            _objects_project_project_service__WEBPACK_IMPORTED_MODULE_4__["ProjectService"],
            _objects_job_job_service__WEBPACK_IMPORTED_MODULE_6__["JobService"]])
    ], VolumeProgressComponent);
    return VolumeProgressComponent;
}());



/***/ }),

/***/ "./src/app/component/sop-list/sop-creation/sop-creation.component.html":
/*!*****************************************************************************!*\
  !*** ./src/app/component/sop-list/sop-creation/sop-creation.component.html ***!
  \*****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class=\"container\">\r\n\r\n  <!-- SOP List back button -->\r\n  <div class=\"row row-first\">\r\n    <div class=\"col\">\r\n      <button type=\"button\" class=\"btn btn-outline-danger waves-effect\" data-toggle=\"modal\" data-target=\"#warningModal\"><h6 class=\"no-margin-bottom\"><i class=\"fa fa-times mr-3\"></i>Back</h6></button>\r\n    </div>\r\n  </div>\r\n\r\n  <!-- SOP Form -->\r\n  <div class=\"row row-first justify-content-center\">\r\n\r\n    <!-- Card -->\r\n    <div class=\"col card card-cascade hoverable\">\r\n\r\n      <!-- Card content -->\r\n      <div class=\"card-body card-body-cascade\">\r\n\r\n        <p class=\"h4 text-center mb-4\">SOP Creation</p>\r\n\r\n        <!--Pagination -->\r\n        <nav>\r\n\r\n          <ul class=\"pagination pg-blue justify-content-center\"  >\r\n            <li class=\"page-item\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"previous\" ><i class=\"page-link no-hover fa fa-arrow-left\" (click)=\"arrowChangeCaption(false, $event)\"></i></li>\r\n\r\n            <!--Numbers-->\r\n            <li *ngFor=\"let n of captions; let first = first;\" [ngClass]=\"{ active: first }\" id={{n.split(space)[0]}} class=\"page-item\" data-toggle=\"tooltip\" data-placement=\"top\" title={{n}} ><a class=\"page-link\" (click)=\"changeCaption(n, $event)\">{{captions.indexOf(n)+1}}</a></li>\r\n\r\n            <li class=\"page-item\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"next\" ><i id=\"nextArrow\" class=\"page-link no-hover fa fa-arrow-right\" (click)=\"arrowChangeCaption(true, $event)\"></i></li>\r\n\r\n          </ul>\r\n        </nav>\r\n\r\n        <!--Title of the step-->\r\n        <div class=\"row justify-content-center\">\r\n          <h4><span class=\"badge badge-pill badge-default\">{{captionSelected}}</span></h4>\r\n        </div>\r\n\r\n        <!-- Material form login -->\r\n        <form (ngSubmit)=\"onSubmit()\">\r\n\r\n          <!-- SOP Title -->\r\n          <div class=\"row md-form\" [hidden]=\"stepSelected != 0\">\r\n            <div class=\"col\">\r\n              <i class=\"fa fa-pencil prefix grey-text\"></i>\r\n              <input [(ngModel)]=\"newTitle\" name=\"newObjective\" type=\"text\" id=\"newTitle\" class=\"form-control\">\r\n              <label for=\"newTitle\">SOP Name</label>\r\n            </div>\r\n            <div>\r\n              <button class=\"btn btn-primary waves-effect\" type=\"button\" (click)=\"fakeNext()\">Next</button>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- Rules -->\r\n          <div class=\"row md-form\" [hidden]=\"stepSelected != 1\">\r\n            <div class=\"col\">\r\n              <i class=\"fa fa-pencil prefix grey-text\"></i>\r\n              <textarea [(ngModel)]=\"newRule\" name=\"newRule\" type=\"text\" id=\"rule\" class=\"form-control md-textarea\" rows=\"1\" ></textarea>\r\n              <label for=\"rule\">Rule indication</label>\r\n            </div>\r\n            <div>\r\n              <button class=\"btn btn-primary waves-effect\" type=\"button\" onclick=\"newRule.value=''\" (click)=\"addNewRule()\">Add</button>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- Unit -->\r\n          <div class=\"row md-form\" [hidden]=\"stepSelected != 2\">\r\n            <div class=\"col\">\r\n              <i class=\"fa fa-pencil prefix grey-text\"></i>\r\n              <input [(ngModel)]=\"newUnit\" name=\"newUnit\" type=\"text\" id=\"newUnit\" class=\"form-control\">\r\n              <label for=\"newUnit\">Unit name</label>\r\n            </div>\r\n            <div>\r\n              <button class=\"btn btn-primary waves-effect\" type=\"button\" onclick=\"newUnit.value=''\"  (click)=\"addNewUnit()\">Add</button>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- Warning -->\r\n          <div class=\"row md-form\" [hidden]=\"stepSelected != 3\">\r\n            <div class=\"col\">\r\n              <i class=\"fa fa-pencil prefix grey-text\"></i>\r\n              <textarea [(ngModel)]=\"newWarning\" name=\"newWarning\" type=\"text\" id=\"warning\" class=\"form-control md-textarea\" rows=\"1\" ></textarea>\r\n              <label for=\"warning\">Warning indication</label>\r\n            </div>\r\n            <div>\r\n              <button class=\"btn btn-primary waves-effect\" type=\"button\" onclick=\"newWarning.value=''\" (click)=\"addNewWarning()\">Add</button>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- Staff Quaification -->\r\n          <div class=\"row md-form\" [hidden]=\"stepSelected != 4\">\r\n            <div class=\"col\">\r\n              <i class=\"fa fa-pencil prefix grey-text\"></i>\r\n              <textarea [(ngModel)]=\"newStaffQualification\" name=\"newStaffQualification\" type=\"text\" id=\"newStaffQualification\" class=\"form-control md-textarea\" rows=\"1\" ></textarea>\r\n              <label for=\"newStaffQualification\">Staff qualification indication</label>\r\n            </div>\r\n            <div>\r\n              <button class=\"btn btn-primary waves-effect\" type=\"button\" onclick=\"newStaffQualification.value=''\" (click)=\"addNewStaffQualification()\">Add</button>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- Supporting tool -->\r\n          <div class=\"row md-form\" [hidden]=\"stepSelected != 5\">\r\n            <div class=\"col\">\r\n              <i class=\"fa fa-pencil prefix grey-text\"></i>\r\n              <input [(ngModel)]=\"newSupportingTool\" name=\"newSupportingTool\" type=\"text\" id=\"newSupportingTool\" class=\"form-control\">\r\n              <label for=\"newSupportingTool\">Supporting tool name</label>\r\n            </div>\r\n            <div>\r\n              <button class=\"btn btn-primary waves-effect\" type=\"button\" onclick=\"newSupportingTool.value=''\"  (click)=\"addNewSupportingTool()\">Add</button>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- Type Form Report -->\r\n          <div class=\"row md-form\" [hidden]=\"stepSelected != 6\">\r\n            <div class=\"col\">\r\n              <i class=\"fa fa-pencil prefix grey-text\"></i>\r\n              <input [(ngModel)]=\"newTypeFormReport\" name=\"newTypeFormReport\" type=\"text\" id=\"newTypeFormReport\" class=\"form-control\">\r\n              <label for=\"newTypeFormReport\">Type of form and report name</label>\r\n            </div>\r\n            <div>\r\n              <button class=\"btn btn-primary waves-effect\" type=\"button\" onclick=\"newTypeFormReport.value=''\"  (click)=\"addNewTypeFormReport()\">Add</button>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- Objective -->\r\n          <div class=\"row md-form\"  [hidden]=\"stepSelected != 7\">\r\n            <div class=\"col\">\r\n              <i class=\"fa fa-pencil prefix grey-text\"></i>\r\n              <input (keyup)=\"fieldVerification()\" [(ngModel)]=\"newObjective\" name=\"newObjective\" type=\"text\" id=\"newObjective\" class=\"form-control\">\r\n              <label for=\"newObjective\">Objectif indication</label>\r\n            </div>\r\n            <div>\r\n              <button [disabled]=\"!formValid\" class=\"btn btn-success waves-effect\" data-toggle=\"modal\" data-target=\"#confirmationModal\" type=\"submit\">Save SOP</button>\r\n            </div>\r\n          </div>\r\n\r\n        </form>\r\n\r\n      </div>\r\n      <!-- Card content -->\r\n\r\n    </div>\r\n    <!-- Card -->\r\n\r\n  </div>\r\n  <!-- SOP Form -->\r\n\r\n  <!--Title of the step-->\r\n  <div class=\"row row-first\">\r\n    <h4 [hidden]=\"stepSelected == 7 || stepSelected == 0\" ><span class=\"badge badge-pill badge-primary\">{{captionSelected}} List</span></h4>\r\n    <!-- Error alert -->\r\n    <div *ngIf=\"errorMessage\" class=\"col offset-2 row justify-content-end error-text\">\r\n      <i>{{errorMessage}}</i>\r\n    </div>\r\n  </div>\r\n\r\n  <!-- SOP Display -->\r\n  <div class=\"row justify-content-center\" [hidden]=\"stepSelected == 7 || stepSelected == 0\">\r\n\r\n    <!-- Card -->\r\n    <div class=\"col card card-cascade hoverable\">\r\n\r\n      <!-- Card content -->\r\n      <div class=\"card-body card-body-cascade\">\r\n\r\n        <ul class=\"list-group list-group-flush\">\r\n          <li *ngFor=\"let element of elementsArray\" class=\"list-group-item\">\r\n            <a (click)=\"deleteElement(element)\"><i class=\"fa fa-close text-red\"></i></a>\r\n            {{element}}\r\n          </li>\r\n        </ul>\r\n\r\n      </div>\r\n      <!-- Card content -->\r\n    </div>\r\n    <!-- Card -->\r\n\r\n  </div>\r\n  <!-- SOP Display -->\r\n</div>\r\n\r\n<!-- Modal confirmation -->\r\n<app-confirmation title=\"Confirmation SOP creation\"\r\n                  text={{summary}}\r\n                  (success)=\"addSop($event)\"\r\n                  isLinkActive=\"false\"\r\n                  link=\"activity-creation\">\r\n</app-confirmation>\r\n\r\n<!-- Modal warning -->\r\n<app-warning title=\"Exit\"\r\n             text=\"Are you sure you want to go back to the SOP list ? All your work not saved will be lost.\"\r\n             isLink=true\r\n             link=\"sop-list\">\r\n</app-warning>\r\n\r\n<script>\r\n  // Tooltips Initialization\r\n  $(function () {\r\n    $('[data-toggle=\"tooltip\"]').tooltip()\r\n  })\r\n</script>\r\n\r\n\r\n\r\n"

/***/ }),

/***/ "./src/app/component/sop-list/sop-creation/sop-creation.component.scss":
/*!*****************************************************************************!*\
  !*** ./src/app/component/sop-list/sop-creation/sop-creation.component.scss ***!
  \*****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/component/sop-list/sop-creation/sop-creation.component.ts":
/*!***************************************************************************!*\
  !*** ./src/app/component/sop-list/sop-creation/sop-creation.component.ts ***!
  \***************************************************************************/
/*! exports provided: SopCreationComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SopCreationComponent", function() { return SopCreationComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _objects_sop_sop_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../objects/sop/sop.service */ "./src/app/objects/sop/sop.service.ts");
/* harmony import */ var _objects_member_member_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../objects/member/member.service */ "./src/app/objects/member/member.service.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _objects_unit_unit_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../objects/unit/unit.service */ "./src/app/objects/unit/unit.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = y[op[0] & 2 ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [0, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};





var SopCreationComponent = /** @class */ (function () {
    function SopCreationComponent(_sopService, _memberService, router, _unitService) {
        this._sopService = _sopService;
        this._memberService = _memberService;
        this.router = router;
        this._unitService = _unitService;
        /* ----- Data ----- */
        this.errorMessage = "";
        this.space = " "; //Used for the id of pagination
        this.summary = "";
        this.formValid = false;
        this.sopId = "";
        this.rules = [];
        this.units = [];
        this.warnings = [];
        this.staffQualifications = [];
        this.supportingTools = [];
        this.typesFormsReports = [];
        this.captions = ["Title", "Rules", "Related Working Units", "Warnings", "Staff Qualifications", "Supporting Tools", "Types of Forms and Reports", "Objective"];
        this.captionSelected = this.captions[0];
        this.elementsArray = [];
        this.newTitle = "";
        this.newRule = "";
        this.newUnit = "";
        this.newWarning = "";
        this.newStaffQualification = "";
        this.newSupportingTool = "";
        this.newTypeFormReport = "";
        this.newObjective = "";
    }
    SopCreationComponent.prototype.ngOnInit = function () {
        this.captionSelected = this.captions[0];
        this.elementsArray = this.rules;
        this.stepSelected = 0;
        //document.querySelector(this.captions[2]).className += ".active";
    };
    //Enable to change page with the arrows
    SopCreationComponent.prototype.arrowChangeCaption = function (next, $event) {
        if (next && this.stepSelected < 7) {
            this.changeCaption(this.captions[this.stepSelected + 1], $event);
        }
        else if (!next && this.stepSelected > 0) {
            this.changeCaption(this.captions[this.stepSelected - 1], $event);
        }
    };
    // This function change the page selected and set the right array to the view list
    SopCreationComponent.prototype.changeCaption = function (stepNumber, $event) {
        this.errorMessage = "";
        this.stepSelected = this.captions.indexOf(stepNumber);
        this.captionSelected = this.captions[this.stepSelected];
        if (this.stepSelected == 1) {
            this.elementsArray = this.rules;
        }
        else if (this.stepSelected == 2) {
            this.elementsArray = this.units;
        }
        else if (this.stepSelected == 3) {
            this.elementsArray = this.warnings;
        }
        else if (this.stepSelected == 4) {
            this.elementsArray = this.staffQualifications;
        }
        else if (this.stepSelected == 5) {
            this.elementsArray = this.supportingTools;
        }
        else if (this.stepSelected == 6) {
            this.elementsArray = this.typesFormsReports;
        }
        else if (this.stepSelected == 7) {
            this.fieldVerification();
        }
        this.numberNavigation($event, stepNumber);
    };
    // ---------------- ADD FUNCTIONS ---------------- //
    // ---------------- ADD FUNCTIONS ---------------- //
    SopCreationComponent.prototype.addNewRule = function () {
        if (this.newRule == "") {
            this.errorMessage = "Rule indication field is required.";
        }
        else if (this.rules.includes(this.newRule)) {
            this.errorMessage = "This rule indication already exists.";
        }
        else {
            this.rules.push(this.newRule);
            this.errorMessage = "";
        }
    };
    SopCreationComponent.prototype.addNewUnit = function () {
        if (this.newUnit == "") {
            this.errorMessage = "Unit name is required.";
        }
        else if (this.units.includes(this.newUnit)) {
            this.errorMessage = "This unit name already exists.";
        }
        else {
            this.units.push(this.newUnit);
            this.errorMessage = "";
        }
    };
    SopCreationComponent.prototype.addNewWarning = function () {
        if (this.newWarning == "") {
            this.errorMessage = "Warning indication field is required.";
        }
        else if (this.warnings.includes(this.newWarning)) {
            this.errorMessage = "This warning indication already exists.";
        }
        else {
            this.errorMessage = "";
            this.warnings.push(this.newWarning);
        }
    };
    SopCreationComponent.prototype.addNewStaffQualification = function () {
        if (this.newStaffQualification != "" && !this.staffQualifications.includes(this.newStaffQualification)) {
            this.staffQualifications.push(this.newStaffQualification);
        }
    };
    SopCreationComponent.prototype.addNewSupportingTool = function () {
        if (this.newSupportingTool != "" && !this.supportingTools.includes(this.newSupportingTool)) {
            this.supportingTools.push(this.newSupportingTool);
        }
    };
    SopCreationComponent.prototype.addNewTypeFormReport = function () {
        if (this.newTypeFormReport != "" && !this.typesFormsReports.includes(this.newTypeFormReport)) {
            this.typesFormsReports.push(this.newTypeFormReport);
        }
    };
    // ---------------- FORM VALIDATION ---------------- //
    // ---------------- FORM VALIDATION ---------------- //
    SopCreationComponent.prototype.fakeNext = function () {
        if (this.newTitle != "") {
            document.getElementById('nextArrow').click();
        }
        else {
            this.fieldVerification();
        }
    };
    SopCreationComponent.prototype.fieldVerification = function () {
        if (this.newTitle == "") {
            this.errorMessage = "SOP title name is required.";
            this.formValid = false;
        }
        else if (this.newObjective == "") {
            this.errorMessage = "Objective indication is required.";
            this.formValid = false;
        }
        else if (this.rules.length == 0) {
            this.errorMessage = "At least one rule is required.";
            this.formValid = false;
        }
        else if (this.units.length == 0) {
            this.errorMessage = "At least one unit is required.";
            this.formValid = false;
        }
        else {
            this.errorMessage = "";
            this.formValid = true;
        }
    };
    //Delete an element of the current array displayed
    SopCreationComponent.prototype.deleteElement = function (element) {
        var i = this.elementsArray.indexOf(element);
        this.elementsArray.splice(i, 1);
    };
    SopCreationComponent.prototype.onSubmit = function () {
        //Need to fix the ligne jump
        this.summary += "Are you sure all informations provided for this SOP are given ? \n\n";
        this.summary += "Title : " + this.newTitle + '\n';
        this.summary += "Objective : " + this.newObjective + '\n';
    };
    //Final function that add the SOP into the database
    SopCreationComponent.prototype.addSop = function (add) {
        return __awaiter(this, void 0, void 0, function () {
            var _this = this;
            var date_creation, date_revision, date_published, sop_approvment, sop_rules, _i, _a, r, sop_warning, _b, _c, w, sop_staff_qualification, _d, _e, s, sop_tools, _f, _g, t, sop_type_reports, _h, _j, t;
            return __generator(this, function (_k) {
                switch (_k.label) {
                    case 0:
                        if (!add) return [3 /*break*/, 2];
                        date_creation = new Date(Date.now());
                        date_revision = new Date(Date.now());
                        date_published = new Date(Date.now());
                        sop_approvment = this._memberService.getUserDataFull().name.toUpperCase() + ' ' + this._memberService.getUserDataFull().first_name;
                        sop_rules = "";
                        for (_i = 0, _a = this.rules; _i < _a.length; _i++) {
                            r = _a[_i];
                            sop_rules += r + ', ';
                        }
                        sop_warning = "";
                        for (_b = 0, _c = this.warnings; _b < _c.length; _b++) {
                            w = _c[_b];
                            sop_warning += w + ', ';
                        }
                        sop_staff_qualification = "";
                        for (_d = 0, _e = this.staffQualifications; _d < _e.length; _d++) {
                            s = _e[_d];
                            sop_staff_qualification += s + ', ';
                        }
                        sop_tools = "";
                        for (_f = 0, _g = this.supportingTools; _f < _g.length; _f++) {
                            t = _g[_f];
                            sop_tools += t + ', ';
                        }
                        sop_type_reports = "";
                        for (_h = 0, _j = this.typesFormsReports; _h < _j.length; _h++) {
                            t = _j[_h];
                            sop_type_reports += t + ', ';
                        }
                        return [4 /*yield*/, this._sopService.createSop(this.newTitle, date_creation, date_revision, date_published, sop_approvment, sop_rules, sop_warning, sop_staff_qualification, sop_tools, sop_type_reports, this.newObjective).subscribe(function (res) {
                                _this.errorMessage = "";
                                //We get the id of the new SOP
                                _this.sopId = res['data'];
                                _this.sopId = _this.sopId['sop_id'];
                                //We store this id in the local storage to re-use it for the activities creation
                                localStorage.setItem('Sop_id', _this.sopId);
                                //We insert the unit in the Database too
                                _this.insertUnits();
                            }, function (error) {
                                _this.errorMessage = error.error.message;
                            })];
                    case 1:
                        _k.sent();
                        _k.label = 2;
                    case 2: return [2 /*return*/];
                }
            });
        });
    };
    SopCreationComponent.prototype.insertUnits = function () {
        var _this = this;
        var success = true;
        var _loop_1 = function (u) {
            this_1._unitService.createUnit(u).subscribe(function (res) {
                _this.errorMessage = "";
                _this._unitService.bindUnitSop(res['data']['unit_id'], _this.sopId).subscribe(function (res) {
                    _this.errorMessage = "";
                    if (success && _this.units.indexOf(u) == (_this.units.length - 1)) {
                        _this.router.navigate(['/', 'activity-creation']);
                    }
                }, function (error) {
                    _this.errorMessage = error.error.message;
                    success = false;
                });
            }, function (error) {
                _this.errorMessage = error.error.message;
                success = false;
            });
        };
        var this_1 = this;
        for (var _i = 0, _a = this.units; _i < _a.length; _i++) {
            var u = _a[_i];
            _loop_1(u);
        }
    };
    // Active management of the number navigation background
    SopCreationComponent.prototype.numberNavigation = function ($event, stepName) {
        var clickedElement = $event.target || $event.srcElement;
        if (clickedElement.className == "page-link" || (clickedElement.className == "page-link no-hover fa fa-arrow-right" && this.stepSelected < 8) || (clickedElement.className == "page-link no-hover fa fa-arrow-left" && this.stepSelected > -1)) {
            var currentNumberActive = clickedElement.parentElement.parentElement.querySelector(".active");
            if (currentNumberActive) {
                currentNumberActive.classList.remove("active");
            }
            if (clickedElement.className == "page-link") {
                clickedElement.parentElement.className += " active";
            }
            else if (clickedElement.className == "page-link no-hover fa fa-arrow-left" && this.stepSelected > -1) {
                var id = "#" + stepName.split(" ")[0];
                document.querySelector(id).className += " active";
            }
            else if (clickedElement.className == "page-link no-hover fa fa-arrow-right" && this.stepSelected < 8) {
                var id = "#" + stepName.split(" ")[0];
                document.querySelector(id).className += " active";
            }
        }
    };
    SopCreationComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-sop-creation',
            template: __webpack_require__(/*! ./sop-creation.component.html */ "./src/app/component/sop-list/sop-creation/sop-creation.component.html"),
            styles: [__webpack_require__(/*! ./sop-creation.component.scss */ "./src/app/component/sop-list/sop-creation/sop-creation.component.scss")]
        }),
        __metadata("design:paramtypes", [_objects_sop_sop_service__WEBPACK_IMPORTED_MODULE_1__["SopService"],
            _objects_member_member_service__WEBPACK_IMPORTED_MODULE_2__["MemberService"],
            _angular_router__WEBPACK_IMPORTED_MODULE_3__["Router"],
            _objects_unit_unit_service__WEBPACK_IMPORTED_MODULE_4__["UnitService"]])
    ], SopCreationComponent);
    return SopCreationComponent;
}());



/***/ }),

/***/ "./src/app/component/sop-list/sop-list.component.css":
/*!***********************************************************!*\
  !*** ./src/app/component/sop-list/sop-list.component.css ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".md-form\r\n{\r\n  margin-bottom: 20px;\r\n  margin-top: 0;\r\n}\r\n\r\n#search-bar {\r\n  margin-bottom: 0%;\r\n}\r\n\r\n\r\n"

/***/ }),

/***/ "./src/app/component/sop-list/sop-list.component.html":
/*!************************************************************!*\
  !*** ./src/app/component/sop-list/sop-list.component.html ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class=\"container\">\r\n\r\n  <div class=\"row row-first\">\r\n    <div class=\"col\">\r\n      <button type=\"button\" class=\"btn btn-outline-default waves-effect\" [routerLink]=\"['/sop-creation']\"><h6 class=\"no-margin-bottom\"><i class=\"fa fa-plus mr-3\"></i>New SOP</h6></button>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"row row-first justify-content-end\">\r\n    <div class=\" md-form\" id=\"search-bar\">\r\n      <input id=\"search\" (keyup)=\"search()\" class=\"form-control\" type=\"text\" placeholder=\"Search\" aria-label=\"Search\">\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"row justify-content-center\">\r\n\r\n      <!--Table-->\r\n        <table class=\"col-12 table hoverable table-borderless table-hover table-fixed\" id=\"sop-table\">\r\n\r\n          <!--Table head-->\r\n          <thead class=\"\">\r\n            <tr class=\"text-white\">\r\n              <th style=\"width:5%;\"></th>\r\n              <th style=\"width:10%;\"  (click)=\"sortTable(1)\"><a>Number</a></th>\r\n              <th style=\"width:40%;\" (click)=\"sortTable(2)\"><a>Name</a></th>\r\n              <th style=\"width:20%;\" (click)=\"sortTable(3)\"><a>Creation Date</a></th>\r\n              <th style=\"width:20%;\" (click)=\"sortTable(4)\"><a>Approved By</a></th>\r\n              <th style=\"width:5%;\"></th>\r\n            </tr>\r\n          </thead>\r\n          <!--Table head-->\r\n\r\n          <!--Table body-->\r\n          <tbody>\r\n            <tr *ngFor=\"let sop of sopList\">\r\n              <td scope=\"row\">\r\n                <a data-toggle=\"modal\" data-target=\"#actionModal\"><i class=\"fa fa-cog text-blue\" (click)=\"selectSop(sop)\"></i></a>\r\n              </td>\r\n              <td>{{sop.sop_id}}</td>\r\n              <td>{{textHelper.firstLetterUpperCase(sop.sop_title.substr(0,50))}}</td>\r\n              <td>{{sop.sop_creation | date:\"MM/dd/yyyy\"}}</td>\r\n              <td>{{sop.sop_approvment}}</td>\r\n              <td>\r\n                <a data-toggle=\"modal\" data-target=\"#warningModal\" (click)=\"selectSop(sop)\"><i class=\"fa fa-close text-red\"></i></a>\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n          <!--Table body-->\r\n\r\n        </table>\r\n        <!--Table-->\r\n\r\n  </div>\r\n</div>\r\n\r\n<app-action title={{sopSelected.sop_title}}\r\n            text=\"\"\r\n            buttons={{buttonsTitles}}\r\n            links={{buttonsLinks}}\r\n            [isLinkActive]=true\r\n>\r\n</app-action>\r\n\r\n<!-- Modal warning -->\r\n<app-warning title=\"Delete SOP {{sopSelected.sop_id}}\"\r\n             text=\"Are you sure you want to delete the SOP : {{sopSelected.sop_title}} from the SOP list ? All activities linked will be destroyed.\"\r\n             link=\"sop-list\"\r\n             (success)=\"deleteSop(sopSelected.sop_id)\"\r\n             [isLink]=false>\r\n</app-warning>\r\n"

/***/ }),

/***/ "./src/app/component/sop-list/sop-list.component.ts":
/*!**********************************************************!*\
  !*** ./src/app/component/sop-list/sop-list.component.ts ***!
  \**********************************************************/
/*! exports provided: SopListComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SopListComponent", function() { return SopListComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _objects_sop_sop_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../objects/sop/sop.service */ "./src/app/objects/sop/sop.service.ts");
/* harmony import */ var _objects_sop_sop__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../objects/sop/sop */ "./src/app/objects/sop/sop.ts");
/* harmony import */ var _helpers_text_helper_text_helper_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../helpers/text-helper/text-helper.component */ "./src/app/helpers/text-helper/text-helper.component.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var SopListComponent = /** @class */ (function () {
    function SopListComponent(_sopService) {
        this._sopService = _sopService;
        /* ----- Data ----- */
        this.errorMessage = "";
        this.textHelper = new _helpers_text_helper_text_helper_component__WEBPACK_IMPORTED_MODULE_3__["TextHelperComponent"]();
        this.sopSelected = new _objects_sop_sop__WEBPACK_IMPORTED_MODULE_2__["Sop"]();
        this.buttonsTitles = ['SOP informations', 'Set up activites'];
        this.buttonsLinks = ['sop', 'activity-creation'];
    }
    SopListComponent.prototype.ngOnInit = function () {
        this.getAllSop();
        this._sopService.removeSopIdLocal();
    };
    SopListComponent.prototype.getAllSop = function () {
        var _this = this;
        this._sopService.selectAll()
            .subscribe(function (res) {
            _this.errorMessage = "";
            _this.sopList = res['data'];
        }, function (error) {
            _this.errorMessage = error.error.message;
        });
    };
    SopListComponent.prototype.deleteSop = function (sop_id) {
        var _this = this;
        console.log('hey');
        this._sopService.delete(sop_id).subscribe(function (res) {
            _this.errorMessage = "";
            _this.getAllSop();
        }, function (error) {
            _this.errorMessage = error.error.message;
        });
    };
    SopListComponent.prototype.selectSop = function (clickedSop) {
        this.sopSelected = clickedSop;
        localStorage.setItem('Sop_id', clickedSop.sop_id);
    };
    SopListComponent.prototype.sortTable = function (n) {
        var table, rows, switching, i, x, y, shouldSwitch, dir, switchcount = 0;
        table = document.getElementById("sop-table");
        switching = true;
        // Set the sorting direction to ascending:
        dir = "asc";
        /* Make a loop that will continue until
        no switching has been done: */
        while (switching) {
            // Start by saying: no switching is done:
            switching = false;
            rows = table.getElementsByTagName("TR");
            /* Loop through all table rows (except the
            first, which contains table headers): */
            for (i = 1; i < (rows.length - 1); i++) {
                // Start by saying there should be no switching:
                shouldSwitch = false;
                /* Get the two elements you want to compare,
                one from current row and one from the next: */
                x = rows[i].getElementsByTagName("TD")[n];
                y = rows[i + 1].getElementsByTagName("TD")[n];
                /* Check if the two rows should switch place,
                based on the direction, asc or desc: */
                if (dir == "asc") {
                    if (x.innerHTML.toLowerCase() > y.innerHTML.toLowerCase()) {
                        // If so, mark as a switch and break the loop:
                        shouldSwitch = true;
                        break;
                    }
                }
                else if (dir == "desc") {
                    if (x.innerHTML.toLowerCase() < y.innerHTML.toLowerCase()) {
                        // If so, mark as a switch and break the loop:
                        shouldSwitch = true;
                        break;
                    }
                }
            }
            if (shouldSwitch) {
                /* If a switch has been marked, make the switch
                and mark that a switch has been done: */
                rows[i].parentNode.insertBefore(rows[i + 1], rows[i]);
                switching = true;
                // Each time a switch is done, increase this count by 1:
                switchcount++;
            }
            else {
                /* If no switching has been done AND the direction is "asc",
                set the direction to "desc" and run the while loop again. */
                if (switchcount == 0 && dir == "asc") {
                    dir = "desc";
                    switching = true;
                }
            }
        }
    };
    SopListComponent.prototype.search = function () {
        // Declare variables
        var input, filter, table, tr, td, i;
        input = document.getElementById("search");
        filter = input.value.toUpperCase();
        table = document.getElementById("sop-table");
        tr = table.getElementsByTagName("tr");
        // Loop through all table rows, and hide those who don't match the search query
        for (i = 0; i < tr.length; i++) {
            td = tr[i].getElementsByTagName("td")[2];
            console.log(td);
            if (td) {
                if (td.innerHTML.toUpperCase().indexOf(filter) > -1) {
                    tr[i].style.display = "";
                }
                else {
                    tr[i].style.display = "none";
                }
            }
        }
    };
    SopListComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-sop-list',
            template: __webpack_require__(/*! ./sop-list.component.html */ "./src/app/component/sop-list/sop-list.component.html"),
            styles: [__webpack_require__(/*! ./sop-list.component.css */ "./src/app/component/sop-list/sop-list.component.css")]
        }),
        __metadata("design:paramtypes", [_objects_sop_sop_service__WEBPACK_IMPORTED_MODULE_1__["SopService"]])
    ], SopListComponent);
    return SopListComponent;
}());



/***/ }),

/***/ "./src/app/component/sop-list/sop/sop.component.css":
/*!**********************************************************!*\
  !*** ./src/app/component/sop-list/sop/sop.component.css ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".anil_nepal{\r\n  padding:20px 0px;\r\n  width:100%;\r\n  display:block;\r\n}\r\n.switch {\r\n  position: relative;\r\n  display: inline-block;\r\n  vertical-align: top;\r\n  width: 100px;\r\n  height: 30px;\r\n  padding: 3px;\r\n  margin: 0 10px 10px 0;\r\n  background: linear-gradient(to bottom, #eeeeee, #FFFFFF 25px);\r\n  background-image: -webkit-linear-gradient(top, #eeeeee, #FFFFFF 25px);\r\n  border-radius: 18px;\r\n  box-shadow: inset 0 -1px white, inset 0 1px 1px rgba(0, 0, 0, 0.05);\r\n  cursor: pointer;\r\n  box-sizing: content-box;\r\n}\r\nlabel {\r\n  font-weight: inherit;\r\n}\r\ninput[type=checkbox], input[type=radio] {\r\n  margin: 4px 0 0;\r\n\r\n  line-height: normal;\r\n  box-sizing: border-box;\r\n  padding: 0;\r\n}\r\n.switch-input {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  opacity: 0;\r\n  box-sizing: content-box;\r\n}\r\n.switch-left-right .switch-input:checked ~ .switch-label {\r\n  background: inherit;\r\n}\r\n.switch-input:checked ~ .switch-label {\r\n  background: #E1B42B;\r\n  box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.15), inset 0 0 3px rgba(0, 0, 0, 0.2);\r\n}\r\n.switch-left-right .switch-label {\r\n  overflow: hidden;\r\n}\r\n.switch-label, .switch-handle {\r\n  transition: All 0.3s ease;\r\n  -webkit-transition: All 0.3s ease;\r\n  -moz-transition: All 0.3s ease;\r\n  -o-transition: All 0.3s ease;\r\n}\r\n.switch-label {\r\n  position: relative;\r\n  display: block;\r\n  height: inherit;\r\n  font-size: 10px;\r\n  text-transform: uppercase;\r\n  background: #eceeef;\r\n  border-radius: inherit;\r\n  box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.12), inset 0 0 2px rgba(0, 0, 0, 0.15);\r\n  box-sizing: content-box;\r\n}\r\n.switch-left-right .switch-input:checked ~ .switch-label:before {\r\n  opacity: 1;\r\n  left: 100px;\r\n}\r\n.switch-input:checked ~ .switch-label:before {\r\n  opacity: 0;\r\n}\r\n.switch-left-right .switch-label:before {\r\n  background: #eceeef;\r\n  text-align: left;\r\n  padding-left: 80px!important;\r\n}\r\n.switch-left-right .switch-label:before, .switch-left-right .switch-label:after {\r\n  width: 20px;\r\n  height: 20px;\r\n  top: 4px;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  padding: 11px 0 0 0;\r\n  text-indent: -12px;\r\n  border-radius: 20px;\r\n  box-shadow: inset 0 1px 4px rgba(0, 0, 0, 0.2), inset 0 0 3px rgba(0, 0, 0, 0.1);\r\n}\r\n.switch-label:before {\r\n  content: attr(data-off);\r\n  right: 11px;\r\n  color: #aaaaaa;\r\n  text-shadow: 0 1px rgba(255, 255, 255, 0.5);\r\n}\r\nspan.switch-label:after {\r\n  content: attr(data-on);\r\n  left: 11px;\r\n  color: #FFFFFF;\r\n  text-shadow: 0 1px rgba(0, 0, 0, 0.2);\r\n  position: absolute;\r\n\r\n}\r\n.switch-label:before, .switch-label:after {\r\n  position: absolute;\r\n  top: 50%;\r\n  margin-top: -5px;\r\n  line-height: 1;\r\n  transition: inherit;\r\n  box-sizing: content-box;\r\n}\r\n.switch-left-right .switch-input:checked ~ .switch-label:after {\r\n  left: 0!important;\r\n  opacity: 1;\r\n  padding-left: 20px;\r\n}\r\n.switch-input:checked ~ .switch-label:after {\r\n  opacity: 1;\r\n}\r\n.switch-left-right .switch-label:after {\r\n  text-align: left;\r\n  text-indent: 9px;\r\n  background: #00c851!important;\r\n  left: -100px!important;\r\n  opacity: 1;\r\n  width: 100%!important;\r\n\r\n}\r\n.switch-left-right .switch-label:before, .switch-left-right .switch-label:after {\r\n  width: 20px;\r\n  height: 20px;\r\n  top: 4px;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  padding: 11px 0 0 0;\r\n  text-indent: -12px;\r\n  border-radius: 20px;\r\n  box-shadow: inset 0 1px 4px rgba(0, 0, 0, 0.2), inset 0 0 3px rgba(0, 0, 0, 0.1);\r\n}\r\n.switch-input:checked ~ .switch-handle {\r\n  left: 74px;\r\n  box-shadow: -1px 1px 5px rgba(0, 0, 0, 0.2);\r\n}\r\n.switch-label, .switch-handle {\r\n  transition: All 0.3s ease;\r\n  -webkit-transition: All 0.3s ease;\r\n  -moz-transition: All 0.3s ease;\r\n  -o-transition: All 0.3s ease;\r\n}\r\n.switch-handle {\r\n  position: absolute;\r\n  top: 4px;\r\n  left: 4px;\r\n  width: 28px;\r\n  height: 28px;\r\n  background: linear-gradient(to bottom, #FFFFFF 40%, #f0f0f0);\r\n  background-image: -webkit-linear-gradient(top, #FFFFFF 40%, #f0f0f0);\r\n  border-radius: 100%;\r\n  box-shadow: 1px 1px 5px rgba(0, 0, 0, 0.2);\r\n}\r\n.switch-handle:before {\r\n  content: \"\";\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 50%;\r\n  margin: -6px 0 0 -6px;\r\n  width: 12px;\r\n  height: 12px;\r\n  background: linear-gradient(to bottom, #eeeeee, #FFFFFF);\r\n  background-image: -webkit-linear-gradient(top, #eeeeee, #FFFFFF);\r\n  border-radius: 6px;\r\n  box-shadow: inset 0 1px rgba(0, 0, 0, 0.02);\r\n}\r\n"

/***/ }),

/***/ "./src/app/component/sop-list/sop/sop.component.html":
/*!***********************************************************!*\
  !*** ./src/app/component/sop-list/sop/sop.component.html ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class=\"container\" *ngIf=\"!ready\">\r\n  <div class=\"row-first\">\r\n    <app-loader></app-loader>\r\n  </div>\r\n</div>\r\n\r\n<div class=\"container\" *ngIf=\"ready\">\r\n\r\n  <!-- SOP List back button -->\r\n  <div class=\"row-first\">\r\n      <button type=\"button\" class=\"btn btn-outline-danger waves-effect\" routerLink=\"/sop-list\"><h6 class=\"no-margin-bottom\"><i class=\"fa fa-times mr-3\"></i>Back</h6></button>\r\n    <app-pdf-sop ></app-pdf-sop>\r\n  </div>\r\n\r\n  <!-- SOP Informations -->\r\n  <div class=\"row-first\">\r\n\r\n    <!-- Error alert -->\r\n    <div *ngIf=\"errorMessage && formNumber == 1\" class=\"row justify-content-end error-text\">\r\n      <i>{{errorMessage}}</i>\r\n    </div>\r\n\r\n    <div class=\"card card-cascade hoverable\">\r\n        <div class=\"row card-body card-body-cascade\">\r\n          <a class=\"col-12 text-center \" data-toggle=\"collapse\" data-target=\"#sop\" aria-expanded=\"false\" aria-controls=\"sop\">\r\n            <ng-controller>STANDARD OPERATIONAL PROCEDURE - {{sop.sop_title.toUpperCase()}}</ng-controller>\r\n          </a>\r\n\r\n          <ng-controller class=\"col-12 collapse\" id=\"sop\">\r\n            <div class=\"row text-center\">\r\n              <div class=\"col-12 center-block anil_nepal\">\r\n                <label class=\"switch switch-left-right\">\r\n                  <input class=\"switch-input\" type=\"checkbox\" [checked]=\"isEditable\" (click)=\"makeEditable(1)\">\r\n                  <span class=\"switch-label\" data-on=\"Editable\" data-off=\"OFF\"></span> <span class=\"switch-handle\"></span> </label>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"row\">\r\n              <div class=\"col-3 font-weight-bold\">\r\n                <p>SOP number</p>\r\n              </div>\r\n              <div class=\"col-8\">\r\n                <input [disabled]=\"true\" [(ngModel)]=\"sop.sop_id\" type=\"text\" class=\"form-control\">\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"row\">\r\n              <div class=\"col-3 font-weight-bold\">\r\n                <p>SOP title</p>\r\n              </div>\r\n              <div class=\"col-8\">\r\n                <input [disabled]=\"!isEditable\" (keyup)=\"checkSop()\" [(ngModel)]=\"sop.sop_title\" type=\"text\" class=\"form-control\">\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"row\">\r\n              <div class=\"col-3 font-weight-bold\">\r\n                <p>Creation date</p>\r\n              </div>\r\n              <div class=\"col-8\">\r\n                <input [disabled]=\"true\" [(ngModel)]=\"sop.sop_creation\" type=\"date\" class=\"form-control\">\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"row\">\r\n              <div class=\"col-3 font-weight-bold\">\r\n                <p>Revision date</p>\r\n              </div>\r\n              <div class=\"col-8\">\r\n                <input [disabled]=\"true\" [(ngModel)]=\"sop.sop_revision\" type=\"date\" class=\"form-control\">\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"row\">\r\n              <div class=\"col-3 font-weight-bold\">\r\n                <p>Published date</p>\r\n              </div>\r\n              <div class=\"col-8\">\r\n                <input [disabled]=\"!isEditable\" [(ngModel)]=\"sop.sop_published\" type=\"date\" class=\"form-control\">\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"row\">\r\n              <div class=\"col-3 font-weight-bold\">\r\n                <p>Approved by</p>\r\n              </div>\r\n              <div class=\"col-8\">\r\n                <input [disabled]=\"true\" [(ngModel)]=\"sop.sop_approvment\" type=\"text\" class=\"form-control\">\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"row\">\r\n              <div class=\"col-3 font-weight-bold\">\r\n                <p>Base Rule / Regulation</p>\r\n              </div>\r\n              <div class=\"col-8\">\r\n                <input [disabled]=\"!isEditable\" [(ngModel)]=\"sop.sop_rules\" type=\"text\" class=\"form-control\">\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"row\">\r\n              <div class=\"col-3 font-weight-bold\">\r\n                <p>Staff qualifications</p>\r\n              </div>\r\n              <div class=\"col-8\">\r\n                <input [disabled]=\"!isEditable\" [(ngModel)]=\"sop.sop_staff_qualification\" type=\"text\" class=\"form-control\">\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"row\">\r\n              <div class=\"col-3 font-weight-bold\">\r\n                <p>Supporting tools</p>\r\n              </div>\r\n              <div class=\"col-8\">\r\n                <input [disabled]=\"!isEditable\" [(ngModel)]=\"sop.sop_tools\" type=\"text\" class=\"form-control\">\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"row\">\r\n              <div class=\"col-3 font-weight-bold\">\r\n                <p>Warning</p>\r\n              </div>\r\n              <div class=\"col-8\">\r\n                <input [disabled]=\"!isEditable\" [(ngModel)]=\"sop.sop_warning\" type=\"text\" class=\"form-control\">\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"row\">\r\n              <div class=\"col-3 font-weight-bold\">\r\n                <p>Types of forms and reports</p>\r\n              </div>\r\n              <div class=\"col-8\">\r\n                <input [disabled]=\"!isEditable\" [(ngModel)]=\"sop.sop_type_reports\" type=\"text\" class=\"form-control\">\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"row\">\r\n              <div class=\"col-3 font-weight-bold\">\r\n                <p>Objective</p>\r\n              </div>\r\n              <div class=\"col-8\">\r\n                <input [disabled]=\"!isEditable\" (keyup)=\"checkSop()\" [(ngModel)]=\"sop.sop_objectives\" type=\"text\" class=\"form-control\">\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"row row-first text-center\">\r\n              <div class=\"col\">\r\n                <button [disabled]=\"!isEditable || !isSopValid\" class=\"btn btn-success waves-effect\" type=\"button\" data-toggle=\"modal\" data-target=\"#confirmationModal\">Save</button>\r\n              </div>\r\n            </div>\r\n          </ng-controller>\r\n        </div>\r\n    </div>\r\n\r\n  </div>\r\n\r\n  <!-- UNITS -->\r\n  <div class=\"row-first\">\r\n\r\n    <!-- Error alert -->\r\n    <div *ngIf=\"errorMessage && formNumber == 2\" class=\"row justify-content-end error-text\">\r\n      <i>{{errorMessage}}</i>\r\n    </div>\r\n\r\n    <div class=\"card card-cascade hoverable\">\r\n      <a>\r\n        <div class=\"row card-body card-body-cascade text-center\">\r\n          <a class=\"col-12 text-center \" data-toggle=\"collapse\" data-target=\"#units\" aria-expanded=\"false\" aria-controls=\"units\">\r\n            <ng-controller class=\"col-12\">UNITS</ng-controller>\r\n          </a>\r\n\r\n          <ng-controller class=\"col-12 collapse\" id=\"units\">\r\n            <div class=\"row text-center\">\r\n              <div class=\"col-12 center-block anil_nepal\">\r\n                <label class=\"switch switch-left-right\">\r\n                  <input class=\"switch-input\" type=\"checkbox\" [checked]=\"isEditableUnits\" (click)=\"makeEditable(2)\">\r\n                  <span class=\"switch-label\" data-on=\"Editable\" data-off=\"OFF\"></span> <span class=\"switch-handle\"></span> </label>\r\n              </div>\r\n            </div>\r\n\r\n            <div *ngFor=\"let unit of units\" class=\"row text-center\">\r\n                <div class=\"offset-2 col-8\">\r\n                  <input [disabled]=\"!isEditableUnits\" (keyup)=\"checkUnits(unit)\" [(ngModel)]=\"unit.unit_name\" type=\"text\" class=\"form-control\">\r\n                </div>\r\n            </div>\r\n\r\n            <div class=\"row row-first text-center\">\r\n              <div class=\"col\">\r\n                <button [disabled]=\"!isEditableUnits || !isUnitsValide\" class=\"btn btn-success waves-effect\" type=\"button\" data-toggle=\"modal\" data-target=\"#confirmationModal\">Save</button>\r\n              </div>\r\n            </div>\r\n          </ng-controller>\r\n        </div>\r\n      </a>\r\n    </div>\r\n\r\n  </div>\r\n\r\n  <!-- ACTIVITIES -->\r\n  <div class=\"row-first\">\r\n\r\n    <!-- Error alert -->\r\n    <div *ngIf=\"errorMessage && formNumber == 3\" class=\"row justify-content-end error-text\">\r\n      <i>{{errorMessage}}</i>\r\n    </div>\r\n\r\n    <div class=\"card card-cascade hoverable\">\r\n        <div class=\"row card-body card-body-cascade justify-content-center\">\r\n          <a class=\"col-12 row\" data-toggle=\"collapse\" data-target=\"#activities\" aria-expanded=\"false\" aria-controls=\"activities\">\r\n            <ng-controller class=\"col-12 text-center\">ACTIVITIES</ng-controller>\r\n          </a>\r\n\r\n          <ng-controller class=\"collapse col-12 row text-center justify-content-center\" id=\"activities\">\r\n\r\n            <div class=\"col-12 row text-center\">\r\n              <div class=\"col-12 center-block anil_nepal\">\r\n                <label class=\"switch switch-left-right\">\r\n                  <input class=\"switch-input\" type=\"checkbox\" [checked]=\"isEditableActivities\" (click)=\"makeEditable(3)\">\r\n                  <span class=\"switch-label\" data-on=\"Editable\" data-off=\"OFF\"></span> <span class=\"switch-handle\"></span> </label>\r\n              </div>\r\n            </div>\r\n\r\n            <div *ngFor=\"let activity of convertMap(activities)\" class=\"col-12 row justify-content-center\">\r\n\r\n              <hr class=\"col-12\">\r\n\r\n              <div class=\"col-1\">\r\n                <a *ngIf=\"isEditableActivities\" (click)=\"pickActivity(activity, 1)\" data-toggle=\"modal\" data-target=\"#activityModal\"><i class=\"fa fa-cog text-blue\"></i></a>\r\n              </div>\r\n              <div class=\"col-1\">({{activity['sub_activities'].length}})</div>\r\n              <div class=\"col-8 text-left\">{{activity['activity'].activity_title}}</div>\r\n              <div class=\"col-2 text-center\">\r\n                <a *ngIf=\"activity['sub_activities'].length != 0\">\r\n                  <i class=\"fa fa-eye text-blue\" data-toggle=\"collapse\" [attr.data-target]=\"'#'+activity['activity'].activity_id\" aria-expanded=\"false\" aria-controls=\"{{activity['activity'].activity_id}}\"></i>\r\n                </a>\r\n              </div>\r\n\r\n              <!-- Collapsible element -->\r\n              <ng-controller class=\"col-12 collapse\" id=\"{{activity['activity'].activity_id}}\">\r\n                <div class=\"row\" *ngFor=\"let sub_activity of activity['sub_activities']\">\r\n                  <div class=\"offset-1 col-1\">\r\n                    <a *ngIf=\"isEditableActivities\" (click)=\"pickActivity(sub_activity, 2)\" data-toggle=\"modal\" data-target=\"#activityModal\"><i class=\"fa fa-cog text-link\"></i></a>\r\n                  </div>\r\n                  <div class=\"col-10 text-left\">\r\n                    {{sub_activity.activity_title}}\r\n                  </div>\r\n                </div>\r\n              </ng-controller>\r\n              <!-- / Collapsible element -->\r\n\r\n            </div>\r\n\r\n            <hr class=\"col-12\">\r\n\r\n            <div class=\"row row-first text-center\">\r\n              <div class=\"col\">\r\n                <button [disabled]=\"!isEditableActivities\" class=\"btn btn-success waves-effect\" type=\"button\" data-toggle=\"modal\" data-target=\"#confirmationModal\">Save</button>\r\n              </div>\r\n            </div>\r\n          </ng-controller>\r\n        </div>\r\n    </div>\r\n\r\n  </div>\r\n\r\n</div>\r\n\r\n<!-- Modal confirmation -->\r\n<app-confirmation title=\"Update SOP informations\"\r\n                  text=\"Are you sure you want to modify these informations ? If the SOP is used, this mights create some errors\"\r\n                  (success)=\"onSubmit(null)\"\r\n                  [isLinkActive]=false\r\n                  link=\"sop-list\">\r\n</app-confirmation>\r\n\r\n<app-activity-update *ngIf=\"activity_selected != null\"\r\n                     title={{title_modal_activity}}\r\n                     [units]=units\r\n                     (success)=\"onSubmit($event)\"\r\n                     [managment_levels]=management_levels\r\n                     [activityUpdate]=activity_selected\r\n                     [isLinkActive]=false>\r\n</app-activity-update>\r\n"

/***/ }),

/***/ "./src/app/component/sop-list/sop/sop.component.ts":
/*!*********************************************************!*\
  !*** ./src/app/component/sop-list/sop/sop.component.ts ***!
  \*********************************************************/
/*! exports provided: SopComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SopComponent", function() { return SopComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _objects_sop_sop_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../objects/sop/sop.service */ "./src/app/objects/sop/sop.service.ts");
/* harmony import */ var _objects_unit_unit_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../objects/unit/unit.service */ "./src/app/objects/unit/unit.service.ts");
/* harmony import */ var _objects_activity_activity_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../objects/activity/activity.service */ "./src/app/objects/activity/activity.service.ts");
/* harmony import */ var _objects_managment_level_managment_level_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../objects/managment_level/managment-level.service */ "./src/app/objects/managment_level/managment-level.service.ts");
/* harmony import */ var _objects_execute_execute_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../objects/execute/execute.service */ "./src/app/objects/execute/execute.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = y[op[0] & 2 ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [0, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};






var SopComponent = /** @class */ (function () {
    function SopComponent(_sopService, _unitService, _activityService, _managmentLevel, _executeService) {
        this._sopService = _sopService;
        this._unitService = _unitService;
        this._activityService = _activityService;
        this._managmentLevel = _managmentLevel;
        this._executeService = _executeService;
        this.ready = false;
        this.sop_id = "";
        this.project_id = "";
        this.isEditable = false;
        this.isEditableUnits = false;
        this.isEditableActivities = false;
        this.isUnitsValide = true;
        this.isSopValid = true;
        this.units = [];
        this.management_levels = [];
        this.activities = new Map;
        this.title_modal_activity = 'Update activity';
        this.refresh = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
    }
    SopComponent.prototype.ngOnInit = function () {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this.sop_id = this._sopService.getSopIdLocal();
                        localStorage.removeItem("Project_id");
                        return [4 /*yield*/, this.loadSop()];
                    case 1:
                        _a.sent();
                        return [4 /*yield*/, this.loadUnit()];
                    case 2:
                        _a.sent();
                        return [4 /*yield*/, this.loadActivities()];
                    case 3:
                        _a.sent();
                        return [4 /*yield*/, this.loadManagement()];
                    case 4:
                        _a.sent();
                        console.log(this.activities);
                        this.ready = true;
                        return [2 /*return*/];
                }
            });
        });
    };
    SopComponent.prototype.onSubmit = function (event) {
        return __awaiter(this, void 0, void 0, function () {
            var error_1, _i, _a, u, error_2, _b, _c, s, error_3;
            return __generator(this, function (_d) {
                switch (_d.label) {
                    case 0:
                        console.log('submit !');
                        this.ready = false;
                        this.errorMessage = "";
                        if (!(this.formNumber == 1)) return [3 /*break*/, 6];
                        _d.label = 1;
                    case 1:
                        _d.trys.push([1, 4, , 5]);
                        this.sop.sop_revision = new Date().toString();
                        return [4 /*yield*/, this._sopService.updateSop(this.sop).toPromise()];
                    case 2:
                        _d.sent();
                        return [4 /*yield*/, this.loadSop()];
                    case 3:
                        _d.sent();
                        return [3 /*break*/, 5];
                    case 4:
                        error_1 = _d.sent();
                        this.errorMessage = error_1.message;
                        return [3 /*break*/, 5];
                    case 5: return [3 /*break*/, 27];
                    case 6:
                        if (!(this.formNumber == 2)) return [3 /*break*/, 16];
                        _d.label = 7;
                    case 7:
                        _d.trys.push([7, 14, , 15]);
                        _i = 0, _a = this.units;
                        _d.label = 8;
                    case 8:
                        if (!(_i < _a.length)) return [3 /*break*/, 11];
                        u = _a[_i];
                        return [4 /*yield*/, this._unitService.updateUnit(u).toPromise()];
                    case 9:
                        _d.sent();
                        _d.label = 10;
                    case 10:
                        _i++;
                        return [3 /*break*/, 8];
                    case 11: return [4 /*yield*/, this.loadUnit()];
                    case 12:
                        _d.sent();
                        return [4 /*yield*/, this.loadActivities()];
                    case 13:
                        _d.sent();
                        this.activity_selected = null;
                        return [3 /*break*/, 15];
                    case 14:
                        error_2 = _d.sent();
                        this.errorMessage = error_2.message;
                        return [3 /*break*/, 15];
                    case 15: return [3 /*break*/, 27];
                    case 16:
                        if (!(this.formNumber == 3)) return [3 /*break*/, 27];
                        if (!event) return [3 /*break*/, 27];
                        _d.label = 17;
                    case 17:
                        _d.trys.push([17, 26, , 27]);
                        return [4 /*yield*/, this._activityService.update(this.activity_selected).toPromise()];
                    case 18:
                        _d.sent();
                        console.log(this.selectUnit().unit_id);
                        return [4 /*yield*/, this._executeService.update(this.selectUnit().unit_id, this.activity_selected.activity_id).toPromise()];
                    case 19:
                        _d.sent();
                        console.log(this.sub_activities_linked);
                        if (!(this.sub_activities_linked != null)) return [3 /*break*/, 24];
                        _b = 0, _c = this.sub_activities_linked;
                        _d.label = 20;
                    case 20:
                        if (!(_b < _c.length)) return [3 /*break*/, 24];
                        s = _c[_b];
                        s.activity_type_duration = this.activity_selected.activity_type_duration;
                        return [4 /*yield*/, this._activityService.update(s).toPromise()];
                    case 21:
                        _d.sent();
                        return [4 /*yield*/, this._executeService.update(this.selectUnit().unit_id, s.activity_id).toPromise()];
                    case 22:
                        _d.sent();
                        _d.label = 23;
                    case 23:
                        _b++;
                        return [3 /*break*/, 20];
                    case 24: return [4 /*yield*/, this.loadActivities()];
                    case 25:
                        _d.sent();
                        this.activity_selected = null;
                        this.isEditableActivities = false;
                        return [3 /*break*/, 27];
                    case 26:
                        error_3 = _d.sent();
                        this.errorMessage = error_3.message;
                        return [3 /*break*/, 27];
                    case 27:
                        this.refresh.emit(true);
                        this.isEditable = false;
                        this.isEditableUnits = false;
                        this.ready = true;
                        return [2 /*return*/];
                }
            });
        });
    };
    SopComponent.prototype.loadSop = function () {
        return __awaiter(this, void 0, void 0, function () {
            var s, error_4;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        _a.trys.push([0, 2, , 3]);
                        return [4 /*yield*/, this._sopService.getSop(this.sop_id).toPromise()];
                    case 1:
                        s = _a.sent();
                        this.sop = s['data'];
                        return [3 /*break*/, 3];
                    case 2:
                        error_4 = _a.sent();
                        this.errorMessage = error_4.message;
                        return [3 /*break*/, 3];
                    case 3: return [2 /*return*/];
                }
            });
        });
    };
    SopComponent.prototype.loadUnit = function () {
        return __awaiter(this, void 0, void 0, function () {
            var u, error_5;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        _a.trys.push([0, 2, , 3]);
                        return [4 /*yield*/, this._unitService.selectAllFromSop(this.sop_id).toPromise()];
                    case 1:
                        u = _a.sent();
                        this.units = u['data'];
                        return [3 /*break*/, 3];
                    case 2:
                        error_5 = _a.sent();
                        this.errorMessage = error_5.message;
                        return [3 /*break*/, 3];
                    case 3: return [2 /*return*/];
                }
            });
        });
    };
    SopComponent.prototype.loadManagement = function () {
        return __awaiter(this, void 0, void 0, function () {
            var m, error_6;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        _a.trys.push([0, 2, , 3]);
                        return [4 /*yield*/, this._managmentLevel.selectAll().toPromise()];
                    case 1:
                        m = _a.sent();
                        this.management_levels = m['data'];
                        return [3 /*break*/, 3];
                    case 2:
                        error_6 = _a.sent();
                        this.errorMessage = error_6.message;
                        return [3 /*break*/, 3];
                    case 3: return [2 /*return*/];
                }
            });
        });
    };
    SopComponent.prototype.loadActivities = function () {
        return __awaiter(this, void 0, void 0, function () {
            var activities, a, error_7, _i, activities_1, activity, e, _a, activities_2, activity;
            return __generator(this, function (_b) {
                switch (_b.label) {
                    case 0:
                        activities = [];
                        _b.label = 1;
                    case 1:
                        _b.trys.push([1, 3, , 4]);
                        return [4 /*yield*/, this._activityService.selectAllFromSop(this.sop_id).toPromise()];
                    case 2:
                        a = _b.sent();
                        activities = a['data'];
                        return [3 /*break*/, 4];
                    case 3:
                        error_7 = _b.sent();
                        this.errorMessage = error_7.message;
                        return [3 /*break*/, 4];
                    case 4:
                        for (_i = 0, activities_1 = activities; _i < activities_1.length; _i++) {
                            activity = activities_1[_i];
                            if ((activity.activity_id_is_father == null || activity.activity_id_is_father == "") && activity.activity_type != 'sop') {
                                e = {
                                    activity: activity,
                                    sub_activities: []
                                };
                                this.activities.set(activity.activity_id, e);
                            }
                        }
                        for (_a = 0, activities_2 = activities; _a < activities_2.length; _a++) {
                            activity = activities_2[_a];
                            if ((activity.activity_id_is_father != null && activity.activity_id_is_father != "") && activity.activity_type != 'super_activity') {
                                this.activities.get(activity.activity_id_is_father)['sub_activities'].push(activity);
                            }
                        }
                        return [2 /*return*/];
                }
            });
        });
    };
    SopComponent.prototype.pickActivity = function (activity, level) {
        if (level == 1) {
            this.activity_selected = activity['activity'];
            this.title_modal_activity = 'Update activity ' + activity['activity'].activity_title;
            this.sub_activities_linked = activity['sub_activities'];
        }
        else {
            this.activity_selected = activity;
            this.sub_activities_linked = null;
            this.title_modal_activity = 'Update activity ' + activity.activity_title;
        }
    };
    SopComponent.prototype.selectUnit = function () {
        for (var _i = 0, _a = this.units; _i < _a.length; _i++) {
            var u = _a[_i];
            if (u.unit_name == this.activity_selected['activity_unit'][0]) {
                return u;
            }
        }
    };
    //Convert map to array to use it in the view
    SopComponent.prototype.convertMap = function (map) {
        return Array.from(map.values());
    };
    SopComponent.prototype.makeEditable = function (table) {
        this.errorMessage = "";
        if (table == 1) {
            this.isEditable = !this.isEditable;
            this.isEditableUnits = false;
            this.isEditableActivities = false;
            this.checkSop();
        }
        else if (table == 2) {
            this.isEditableUnits = !this.isEditableUnits;
            this.isEditableActivities = false;
            this.isEditable = false;
        }
        else if (table == 3) {
            this.isEditableActivities = !this.isEditableActivities;
            this.isEditable = false;
            this.isEditableUnits = false;
        }
        this.formNumber = table;
    };
    //Unit verification label
    SopComponent.prototype.checkUnits = function (unit) {
        this.errorMessage = "";
        var check = true;
        for (var _i = 0, _a = this.units; _i < _a.length; _i++) {
            var u = _a[_i];
            if (u.unit_name.toUpperCase() == unit.unit_name.toUpperCase() && this.units.indexOf(u) != this.units.indexOf(unit)) {
                check = false;
                this.errorMessage = "Two or more units have the same name.";
            }
            if (u.unit_name == "") {
                check = false;
                this.errorMessage = "Unit name is required.";
            }
        }
        this.isUnitsValide = check;
    };
    //Sop verification
    SopComponent.prototype.checkSop = function () {
        this.errorMessage = "";
        var check = true;
        if (this.sop.sop_title == "") {
            this.errorMessage = "SOP name is required.";
            check = false;
        }
        else if (this.sop.sop_objectives == "") {
            this.errorMessage = "SOP objective is required.";
            check = false;
        }
        this.isSopValid = check;
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", Object)
    ], SopComponent.prototype, "refresh", void 0);
    SopComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-sop',
            template: __webpack_require__(/*! ./sop.component.html */ "./src/app/component/sop-list/sop/sop.component.html"),
            styles: [__webpack_require__(/*! ./sop.component.css */ "./src/app/component/sop-list/sop/sop.component.css")]
        }),
        __metadata("design:paramtypes", [_objects_sop_sop_service__WEBPACK_IMPORTED_MODULE_1__["SopService"],
            _objects_unit_unit_service__WEBPACK_IMPORTED_MODULE_2__["UnitService"],
            _objects_activity_activity_service__WEBPACK_IMPORTED_MODULE_3__["ActivityService"],
            _objects_managment_level_managment_level_service__WEBPACK_IMPORTED_MODULE_4__["ManagmentLevelService"],
            _objects_execute_execute_service__WEBPACK_IMPORTED_MODULE_5__["ExecuteService"]])
    ], SopComponent);
    return SopComponent;
}());



/***/ }),

/***/ "./src/app/component/staff-list/staff-list.component.css":
/*!***************************************************************!*\
  !*** ./src/app/component/staff-list/staff-list.component.css ***!
  \***************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/component/staff-list/staff-list.component.html":
/*!****************************************************************!*\
  !*** ./src/app/component/staff-list/staff-list.component.html ***!
  \****************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<p>\r\n  staff-list works!\r\n</p>\r\n"

/***/ }),

/***/ "./src/app/component/staff-list/staff-list.component.ts":
/*!**************************************************************!*\
  !*** ./src/app/component/staff-list/staff-list.component.ts ***!
  \**************************************************************/
/*! exports provided: StaffListComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StaffListComponent", function() { return StaffListComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

var StaffListComponent = /** @class */ (function () {
    function StaffListComponent() {
    }
    StaffListComponent.prototype.ngOnInit = function () {
    };
    StaffListComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-staff-list',
            template: __webpack_require__(/*! ./staff-list.component.html */ "./src/app/component/staff-list/staff-list.component.html"),
            styles: [__webpack_require__(/*! ./staff-list.component.css */ "./src/app/component/staff-list/staff-list.component.css")]
        }),
        __metadata("design:paramtypes", [])
    ], StaffListComponent);
    return StaffListComponent;
}());



/***/ }),

/***/ "./src/app/component/staff-list/staff/staff.component.css":
/*!****************************************************************!*\
  !*** ./src/app/component/staff-list/staff/staff.component.css ***!
  \****************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/component/staff-list/staff/staff.component.html":
/*!*****************************************************************!*\
  !*** ./src/app/component/staff-list/staff/staff.component.html ***!
  \*****************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<p>\r\n  staff works!\r\n</p>\r\n"

/***/ }),

/***/ "./src/app/component/staff-list/staff/staff.component.ts":
/*!***************************************************************!*\
  !*** ./src/app/component/staff-list/staff/staff.component.ts ***!
  \***************************************************************/
/*! exports provided: StaffComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StaffComponent", function() { return StaffComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

var StaffComponent = /** @class */ (function () {
    function StaffComponent() {
    }
    StaffComponent.prototype.ngOnInit = function () {
    };
    StaffComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-staff',
            template: __webpack_require__(/*! ./staff.component.html */ "./src/app/component/staff-list/staff/staff.component.html"),
            styles: [__webpack_require__(/*! ./staff.component.css */ "./src/app/component/staff-list/staff/staff.component.css")]
        }),
        __metadata("design:paramtypes", [])
    ], StaffComponent);
    return StaffComponent;
}());



/***/ }),

/***/ "./src/app/component/work-schedule/work-schedule.component.css":
/*!*********************************************************************!*\
  !*** ./src/app/component/work-schedule/work-schedule.component.css ***!
  \*********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/component/work-schedule/work-schedule.component.html":
/*!**********************************************************************!*\
  !*** ./src/app/component/work-schedule/work-schedule.component.html ***!
  \**********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<p>\r\n  work-schedule works!\r\n</p>\r\n"

/***/ }),

/***/ "./src/app/component/work-schedule/work-schedule.component.ts":
/*!********************************************************************!*\
  !*** ./src/app/component/work-schedule/work-schedule.component.ts ***!
  \********************************************************************/
/*! exports provided: WorkScheduleComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "WorkScheduleComponent", function() { return WorkScheduleComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

var WorkScheduleComponent = /** @class */ (function () {
    function WorkScheduleComponent() {
    }
    WorkScheduleComponent.prototype.ngOnInit = function () {
    };
    WorkScheduleComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-work-schedule',
            template: __webpack_require__(/*! ./work-schedule.component.html */ "./src/app/component/work-schedule/work-schedule.component.html"),
            styles: [__webpack_require__(/*! ./work-schedule.component.css */ "./src/app/component/work-schedule/work-schedule.component.css")]
        }),
        __metadata("design:paramtypes", [])
    ], WorkScheduleComponent);
    return WorkScheduleComponent;
}());



/***/ }),

/***/ "./src/app/documents/pdf-gantt/pdf-gantt.component.html":
/*!**************************************************************!*\
  !*** ./src/app/documents/pdf-gantt/pdf-gantt.component.html ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<button *ngIf=\"display_pdf_gantt\" type=\"button\" class=\"btn btn-default\" (click)=\"download()\">Download Gantt PDF</button>\r\n"

/***/ }),

/***/ "./src/app/documents/pdf-gantt/pdf-gantt.component.scss":
/*!**************************************************************!*\
  !*** ./src/app/documents/pdf-gantt/pdf-gantt.component.scss ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/documents/pdf-gantt/pdf-gantt.component.ts":
/*!************************************************************!*\
  !*** ./src/app/documents/pdf-gantt/pdf-gantt.component.ts ***!
  \************************************************************/
/*! exports provided: PdfGanttComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PdfGanttComponent", function() { return PdfGanttComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var jspdf_autotable__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jspdf-autotable */ "./node_modules/jspdf-autotable/dist/jspdf.plugin.autotable.js");
/* harmony import */ var jspdf_autotable__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jspdf_autotable__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _objects_project_project_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../objects/project/project.service */ "./src/app/objects/project/project.service.ts");
/* harmony import */ var _objects_member_activity_project_member_activity_project_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../objects/member_activity_project/member-activity-project.service */ "./src/app/objects/member_activity_project/member-activity-project.service.ts");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _objects_pdf_pdf_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../objects/pdf/pdf.service */ "./src/app/objects/pdf/pdf.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = y[op[0] & 2 ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [0, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};






var PdfGanttComponent = /** @class */ (function () {
    function PdfGanttComponent(_projectService, _memberActivityProjectService, _pdfService) {
        this._projectService = _projectService;
        this._memberActivityProjectService = _memberActivityProjectService;
        this._pdfService = _pdfService;
        this.idProject = "3";
        this.jobs = [];
        this.display_pdf_gantt = false;
    }
    PdfGanttComponent.prototype.ngOnInit = function () {
        this.idProject = localStorage.getItem("Project_id");
        if (this.idProject === null) {
            console.log("ERRROR : No project linked to charge informations !");
        }
        else {
            this.getProject(this.idProject);
        }
    };
    PdfGanttComponent.prototype.filupPDF = function () {
        this.htmlPDF = "<html>\n<head>\n<style>\ntable{\n  border-collapse: collapse;\n}\n td {\n    border: 0.5mm solid black;\n    margin: 0;\n    padding: 2mm;\n    font-size: 4.5mm;\n    \n}\ntr{\n  margin: 0;\n  padding: 0;\n}\n.text-bold{\n    font-weight: bold;\n}\n.saut-page\n{\n    page-break-after: always;\n}\n.no-borders\n{\n    border: none;\n}\n.center-align\n{\n    text-align: center;\n}\n</style>\n</head>\n<body>\n";
        for (var j = 0; j < this.jobs.length; j++) {
            var theJob = this.jobs[j];
            console.log("JobId : " + theJob['job_id']);
            var tempActivites = [];
            //We sore all the activities that are linked to that job
            for (var _i = 0, _a = this.activities; _i < _a.length; _i++) {
                var activitie = _a[_i];
                if (activitie['job_id'] == theJob['job_id']) {
                    tempActivites.push(activitie);
                }
            }
            var tempJobActivity = void 0;
            var tempSubActivities = [];
            for (var _b = 0, tempActivites_1 = tempActivites; _b < tempActivites_1.length; _b++) {
                var activitate = tempActivites_1[_b];
                if (activitate['activity_id_is_father'] == null) {
                    tempJobActivity = activitate;
                }
                else {
                    tempSubActivities.push(activitate);
                }
            }
            console.log(tempActivites);
            if (j > 0) {
                this.htmlPDF += "<div class=\"saut-page\"></div> ";
            }
            this.htmlPDF += "\n    <h5 style=\"margin-left: 45%; font-size: 140%;font-weight: bold;margin-top: 25mm;\">GANTT CHART</h5>\n    \n    <table style=\"margin-left: 10%; width: 80%;\">\n        <tr class=\"no-borders\">\n            <td class=\"no-borders\" style=\"width: 20%\">Work Code</td>\n            <td class=\"no-borders\" style=\"width: 15%\">" + theJob['job_id'] + "</td>\n            <td class=\"no-borders\" style=\"width: 15%\">Project Code</td>\n            <td class=\"no-borders\" style=\"width: 15%\">" + this.project.project_id + "</td>\n            <td class=\"no-borders\" style=\"width: 35%\"></td>\n        </tr>\n        <tr class=\"no-borders\">\n            <td class=\"no-borders\">Name of Project Work</td>\n            <td colspan=\"4\" class=\"no-borders\">" + tempJobActivity['activity_title'] + "</td>\n    \n        </tr>\n        \n    </table>\n    \n    <table style=\"margin-left: 5%; width: 90%; margin-top: 10mm;\">\n      <tr>\n        <td style=\"width: 5%\" class=\"center-align text-bold\">No</td>\n        <td style=\"width: 15%\" class=\"center-align text-bold\">Activity</td>\n        <td style=\"width: 10%\" class=\"center-align text-bold\">Target Date</td>\n        <td style=\"width: 10%\" class=\"center-align text-bold\">Finished Date</td>\n        <td style=\"width: 15%\" class=\"center-align text-bold\">Evaluation</td>\n        <td style=\"width: 15%\" class=\"center-align text-bold\">Staff Name</td>\n        <td style=\"width: 10%\" class=\"center-align text-bold\">Sign</td>\n        <td style=\"width: 20%\" class=\"center-align text-bold\">Note</td>\n         \n      </tr>\n      ";
            for (var _c = 0, tempSubActivities_1 = tempSubActivities; _c < tempSubActivities_1.length; _c++) {
                var activity = tempSubActivities_1[_c];
                this.htmlPDF += " \n      <tr>\n        <td class=\"center-align\">" + activity['activity_id'] + "</td>\n        <td>" + activity['activity_title'] + "</td>\n        <td class=\"center-align\">" + new _angular_common__WEBPACK_IMPORTED_MODULE_4__["DatePipe"]('en-US').transform(activity['target_date'], 'dd-MM-yyyy') + "</td>\n        <td class=\"center-align\">" + new _angular_common__WEBPACK_IMPORTED_MODULE_4__["DatePipe"]('en-US').transform(activity['finished_date'], 'dd-MM-yyyy') + "</td>\n        <td class=\"center-align\">" + activity['evaluation'] + "</td>\n        <td>Staff Names</td>\n        <td>" + activity['sign'] + "</td>\n        <td>" + activity['note'] + "</td>\n         \n      </tr>";
            }
            this.htmlPDF += "\n    </table>";
        }
        this.htmlPDF += "\n</body>\n</html>";
        this.display_pdf_gantt = true;
    };
    PdfGanttComponent.prototype.download = function (nom) {
        return __awaiter(this, void 0, void 0, function () {
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this._pdfService.generatePdf(this.htmlPDF)
                            .subscribe(function (res) {
                            console.log(res);
                            if (!window.navigator.msSaveOrOpenBlob) {
                                // BLOB NAVIGATOR
                                var url = window.URL.createObjectURL(new Blob([res]));
                                var link = document.createElement('a');
                                link.href = url;
                                link.setAttribute('download', "Gantt-charts-" + _this.project.project_title + ".pdf");
                                document.body.appendChild(link);
                                link.click();
                            }
                            else {
                                // BLOB FOR EXPLORER 11
                                var url = window.navigator.msSaveOrOpenBlob(new Blob([res]), "" + res['data'] + name + ".pdf");
                            }
                        }, function (error) {
                            console.log("ERREUR : ", error);
                        })];
                    case 1:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    PdfGanttComponent.prototype.fillUpJobTable = function () {
        for (var _i = 0, _a = this.activities; _i < _a.length; _i++) {
            var activitie = _a[_i];
            var bool = false;
            for (var i = 0; i < this.jobs.length; i++) {
                if (this.jobs[i]['job_id'] == activitie['job_id']) {
                    bool = true;
                }
            }
            if (bool == false) {
                this.jobs.push({
                    job_id: activitie['job_id'],
                });
            }
        }
        console.log(this.jobs);
        this.filupPDF();
    };
    PdfGanttComponent.prototype.selectAllFromProject = function (idProject) {
        return __awaiter(this, void 0, void 0, function () {
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        console.log("ici : " + idProject);
                        return [4 /*yield*/, this._memberActivityProjectService.selectAllFromProjectFull(idProject)
                                .subscribe(function (res) {
                                console.log(res['data']);
                                _this.activities = res['data'];
                                _this.fillUpJobTable();
                            }, function (error) {
                                console.log("ERREUR : ", error);
                            })];
                    case 1:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    PdfGanttComponent.prototype.getProject = function (idProject) {
        return __awaiter(this, void 0, void 0, function () {
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        console.log("ici projet id : " + idProject);
                        return [4 /*yield*/, this._projectService.getProject(idProject)
                                .subscribe(function (res) {
                                _this.project = res['data'];
                                _this.selectAllFromProject(idProject);
                            }, function (error) {
                                console.log("ERREUR : ", error);
                            })];
                    case 1:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    PdfGanttComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-pdf-gantt',
            template: __webpack_require__(/*! ./pdf-gantt.component.html */ "./src/app/documents/pdf-gantt/pdf-gantt.component.html"),
            styles: [__webpack_require__(/*! ./pdf-gantt.component.scss */ "./src/app/documents/pdf-gantt/pdf-gantt.component.scss")]
        }),
        __metadata("design:paramtypes", [_objects_project_project_service__WEBPACK_IMPORTED_MODULE_2__["ProjectService"],
            _objects_member_activity_project_member_activity_project_service__WEBPACK_IMPORTED_MODULE_3__["MemberActivityProjectService"],
            _objects_pdf_pdf_service__WEBPACK_IMPORTED_MODULE_5__["PdfService"]])
    ], PdfGanttComponent);
    return PdfGanttComponent;
}());



/***/ }),

/***/ "./src/app/documents/pdf-performance-report/pdf-performance-report.component.html":
/*!****************************************************************************************!*\
  !*** ./src/app/documents/pdf-performance-report/pdf-performance-report.component.html ***!
  \****************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<button *ngIf=\"display_pdf_report\" type=\"button\" class=\"btn btn-default\" (click)=\"download('Staff-Performance-Report.pdf')\">Download Performance Report PDF</button>\r\n<button *ngIf=\"!display_pdf_report\" type=\"button\" class=\"btn btn-default\" disabled (click)=\"download('Staff-Performance-Report.pdf')\">Download Performance Report PDF</button>\r\n"

/***/ }),

/***/ "./src/app/documents/pdf-performance-report/pdf-performance-report.component.scss":
/*!****************************************************************************************!*\
  !*** ./src/app/documents/pdf-performance-report/pdf-performance-report.component.scss ***!
  \****************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/documents/pdf-performance-report/pdf-performance-report.component.ts":
/*!**************************************************************************************!*\
  !*** ./src/app/documents/pdf-performance-report/pdf-performance-report.component.ts ***!
  \**************************************************************************************/
/*! exports provided: PdfPerformanceReportComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PdfPerformanceReportComponent", function() { return PdfPerformanceReportComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var jspdf_autotable__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jspdf-autotable */ "./node_modules/jspdf-autotable/dist/jspdf.plugin.autotable.js");
/* harmony import */ var jspdf_autotable__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jspdf_autotable__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _objects_project_project_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../objects/project/project.service */ "./src/app/objects/project/project.service.ts");
/* harmony import */ var _objects_member_activity_project_member_activity_project_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../objects/member_activity_project/member-activity-project.service */ "./src/app/objects/member_activity_project/member-activity-project.service.ts");
/* harmony import */ var _objects_pdf_pdf_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../objects/pdf/pdf.service */ "./src/app/objects/pdf/pdf.service.ts");
/* harmony import */ var _objects_member_member_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../objects/member/member.service */ "./src/app/objects/member/member.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = y[op[0] & 2 ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [0, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};






var PdfPerformanceReportComponent = /** @class */ (function () {
    function PdfPerformanceReportComponent(_projectService, _memberActivityProjectService, _pdfService, _memberService) {
        this._projectService = _projectService;
        this._memberActivityProjectService = _memberActivityProjectService;
        this._pdfService = _pdfService;
        this._memberService = _memberService;
        this.errorMessage = "";
        this.idProject = "3";
        this.jobs = [];
        this.name = "";
        this.staffActivities = [];
        this.display_pdf_report = false;
    }
    PdfPerformanceReportComponent.prototype.ngOnInit = function () {
        this.idProject = localStorage.getItem("Project_id");
        this.getProject(this.idProject);
    };
    PdfPerformanceReportComponent.prototype.filupPDF = function () {
        this.htmlPDF = "<html>\n<head>\n<style>\ntable{\n  border-collapse: collapse;\n}\n td {\n    border: 0.5mm solid black;\n    margin: 0;\n    padding: 2mm;\n    font-size: 4.5mm;\n    \n}\ntr{\n  margin: 0;\n  padding: 0;\n}\n.text-bold{\n    font-weight: bold;\n}\n.saut-page\n{\n    page-break-after: always;\n}\n.no-borders\n{\n    border: none;\n}\n.center-align\n{\n    text-align: center;\n}\n</style>\n</head>\n<body>\n";
        for (var j = 0; j < this.staffActivities.length; j++) {
            if (j > 0) {
                this.htmlPDF += "<div class=\"saut-page\"></div> ";
            }
            this.htmlPDF += "\n    <h5 style=\"margin-left: 37%; font-size: 140%;font-weight: bold;margin-top: 25mm;\">STAFF PERFORMANCE REPORT</h5>\n    \n    <table style=\"margin-left: 10%; width: 80%;\">\n        <tr class=\"no-borders\">\n            <td class=\"no-borders\" style=\"width: 20%\">Staff Name : " + this.staffActivities[j]['member_name'] + "</td>\n        </tr>\n    </table>\n    \n    <table style=\"margin-left: 5%; width: 90%; margin-top: 10mm;\">\n      <tr>\n        <td class=\"center-align text-bold\" rowspan=\"2\">No</td>\n        <td class=\"center-align text-bold\" rowspan=\"2\">WORK PROJECT</td>\n        <td class=\"center-align text-bold\" colspan=\"4\">TARGET</td>\n        <td class=\"center-align text-bold\" colspan=\"2\">REALISATION</td>\n        <td class=\"center-align text-bold\" rowspan=\"2\">PERFORMANCE<br>VALUE</td>\n      </tr>\n      <tr>\n        <td colspan=\"2\">OUTPUT QUANTITY</td>\n        <td colspan=\"2\">DURATION</td>\n        <td class=\"center-align text-bold\" colspan=\"2\">OUTPUT QUANTITY</td>\n      </tr>\n      <tr>\n        <td class=\"center-align\" style=\"width: 5%\">(1)</td>\n        <td class=\"center-align\" style=\"width: 40%\">(2)</td>\n        <td class=\"center-align\" style=\"width: 5%\">(3)</td>\n        <td class=\"center-align\" style=\"width: 10%\">(4)</td>\n        <td class=\"center-align\" style=\"width: 5%\">(5)</td>\n        <td class=\"center-align\" style=\"width: 10%\">(6)</td>\n        <td class=\"center-align\" style=\"width: 5%\">(7)</td>\n        <td class=\"center-align\" style=\"width: 10%\">(8)</td>\n        <td class=\"center-align\" style=\"width: 10%\">(11)</td>\n      </tr>\n      ";
            for (var _i = 0, _a = this.staffActivities[j]['staff_activities']; _i < _a.length; _i++) {
                var activity = _a[_i];
                var performance_1 = activity['finished_quantity'] / activity['target_quantity'] * 100;
                this.htmlPDF += "\n      <tr>\n        <td class=\"center-align\">" + activity['activity_id'] + "</td>\n        <td>" + activity['activity_title'] + "</td>\n        <td class=\"center-align\">" + activity['target_quantity'] + "</td>\n        <td class=\"center-align\">" + activity['activity_type_output'] + "</td>\n        <td class=\"center-align\">" + activity['activity_duration'] + "</td>\n        <td class=\"center-align\">" + activity['activity_type_duration'] + "</td>\n         <td class=\"center-align\">" + activity['finished_quantity'] + "</td>\n        <td class=\"center-align\">" + activity['activity_type_output'] + "</td>\n        <td class=\"center-align\">" + performance_1 + "</td>\n\n\n      </tr>";
            }
            this.htmlPDF += "\n    </table>";
        }
        this.htmlPDF += "\n</body>\n</html>";
        this.display_pdf_report = true;
    };
    PdfPerformanceReportComponent.prototype.download = function (nom) {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this._pdfService.generatePdf(this.htmlPDF)
                            .subscribe(function (res) {
                            console.log(res);
                            if (!window.navigator.msSaveOrOpenBlob) {
                                // BLOB NAVIGATOR
                                var url = window.URL.createObjectURL(new Blob([res]));
                                var link = document.createElement('a');
                                link.href = url;
                                link.setAttribute('download', nom);
                                document.body.appendChild(link);
                                link.click();
                            }
                            else {
                                // BLOB FOR EXPLORER 11
                                var url = window.navigator.msSaveOrOpenBlob(new Blob([res]), "" + res['data'] + name + ".pdf");
                            }
                        }, function (error) {
                            console.log("ERREUR : ", error);
                        })];
                    case 1:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    PdfPerformanceReportComponent.prototype.fillUpJobTable = function () {
        return __awaiter(this, void 0, void 0, function () {
            var _i, _a, activitie, actualStaff, bool, i, tmp_activites, _b, _c, activitie2;
            return __generator(this, function (_d) {
                switch (_d.label) {
                    case 0:
                        _i = 0, _a = this.activities;
                        _d.label = 1;
                    case 1:
                        if (!(_i < _a.length)) return [3 /*break*/, 4];
                        activitie = _a[_i];
                        actualStaff = activitie['member_id'];
                        bool = false;
                        for (i = 0; i < this.staffActivities.length; i++) {
                            if (this.staffActivities[i]['member_id'] == actualStaff) {
                                bool = true;
                            }
                        }
                        if (!(bool == false)) return [3 /*break*/, 3];
                        this.name == "";
                        return [4 /*yield*/, this.getMember(actualStaff)];
                    case 2:
                        _d.sent();
                        tmp_activites = [];
                        for (_b = 0, _c = this.activities; _b < _c.length; _b++) {
                            activitie2 = _c[_b];
                            if (activitie2['member_id'] == actualStaff) {
                                tmp_activites.push(activitie2);
                            }
                        }
                        this.staffActivities.push({
                            staff_activities: tmp_activites,
                            member_id: actualStaff,
                            member_name: this.name
                        });
                        _d.label = 3;
                    case 3:
                        _i++;
                        return [3 /*break*/, 1];
                    case 4:
                        console.log(this.staffActivities);
                        this.filupPDF();
                        return [2 /*return*/];
                }
            });
        });
    };
    PdfPerformanceReportComponent.prototype.selectAllFromProject = function (idProject) {
        return __awaiter(this, void 0, void 0, function () {
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        console.log("ici : " + idProject);
                        return [4 /*yield*/, this._memberActivityProjectService.selectAllFromProjectFull(idProject)
                                .subscribe(function (res) {
                                console.log(res['data']);
                                _this.activities = res['data'];
                                _this.fillUpJobTable();
                            }, function (error) {
                                console.log("ERREUR : ", error);
                            })];
                    case 1:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    PdfPerformanceReportComponent.prototype.getProject = function (idProject) {
        return __awaiter(this, void 0, void 0, function () {
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        console.log("ici projet id : " + idProject);
                        return [4 /*yield*/, this._projectService.getProject(idProject)
                                .subscribe(function (res) {
                                _this.project = res['data'];
                                _this.selectAllFromProject(idProject);
                            }, function (error) {
                                console.log("ERREUR : ", error);
                            })];
                    case 1:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    PdfPerformanceReportComponent.prototype.getMember = function (idMember) {
        return __awaiter(this, void 0, void 0, function () {
            var n, error_1;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        _a.trys.push([0, 2, , 3]);
                        return [4 /*yield*/, this._memberService.select(idMember).toPromise()];
                    case 1:
                        n = _a.sent();
                        this.name = n['data']['member_first_name'] + " " + n['data']['member_name'];
                        return [3 /*break*/, 3];
                    case 2:
                        error_1 = _a.sent();
                        this.errorMessage = error_1.message;
                        return [3 /*break*/, 3];
                    case 3: return [2 /*return*/];
                }
            });
        });
    };
    PdfPerformanceReportComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-pdf-performance-report',
            template: __webpack_require__(/*! ./pdf-performance-report.component.html */ "./src/app/documents/pdf-performance-report/pdf-performance-report.component.html"),
            styles: [__webpack_require__(/*! ./pdf-performance-report.component.scss */ "./src/app/documents/pdf-performance-report/pdf-performance-report.component.scss")]
        }),
        __metadata("design:paramtypes", [_objects_project_project_service__WEBPACK_IMPORTED_MODULE_2__["ProjectService"],
            _objects_member_activity_project_member_activity_project_service__WEBPACK_IMPORTED_MODULE_3__["MemberActivityProjectService"],
            _objects_pdf_pdf_service__WEBPACK_IMPORTED_MODULE_4__["PdfService"],
            _objects_member_member_service__WEBPACK_IMPORTED_MODULE_5__["MemberService"]])
    ], PdfPerformanceReportComponent);
    return PdfPerformanceReportComponent;
}());



/***/ }),

/***/ "./src/app/documents/pdf-performance-target/pdf-performance-target.component.html":
/*!****************************************************************************************!*\
  !*** ./src/app/documents/pdf-performance-target/pdf-performance-target.component.html ***!
  \****************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<button *ngIf=\"display_pdf_target\" type=\"button\" class=\"btn btn-default\" (click)=\"download('Staff-Performance-Target.pdf')\">Download Performance Target PDF</button>\r\n<button *ngIf=\"!display_pdf_target\" type=\"button\" class=\"btn btn-default\" disabled (click)=\"download('Staff-Performance-Target.pdf')\">Download Performance Target PDF</button>\r\n"

/***/ }),

/***/ "./src/app/documents/pdf-performance-target/pdf-performance-target.component.scss":
/*!****************************************************************************************!*\
  !*** ./src/app/documents/pdf-performance-target/pdf-performance-target.component.scss ***!
  \****************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/documents/pdf-performance-target/pdf-performance-target.component.ts":
/*!**************************************************************************************!*\
  !*** ./src/app/documents/pdf-performance-target/pdf-performance-target.component.ts ***!
  \**************************************************************************************/
/*! exports provided: PdfPerformanceTargetComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PdfPerformanceTargetComponent", function() { return PdfPerformanceTargetComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var jspdf_autotable__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jspdf-autotable */ "./node_modules/jspdf-autotable/dist/jspdf.plugin.autotable.js");
/* harmony import */ var jspdf_autotable__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jspdf_autotable__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _objects_project_project_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../objects/project/project.service */ "./src/app/objects/project/project.service.ts");
/* harmony import */ var _objects_member_activity_project_member_activity_project_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../objects/member_activity_project/member-activity-project.service */ "./src/app/objects/member_activity_project/member-activity-project.service.ts");
/* harmony import */ var _objects_pdf_pdf_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../objects/pdf/pdf.service */ "./src/app/objects/pdf/pdf.service.ts");
/* harmony import */ var _objects_member_member_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../objects/member/member.service */ "./src/app/objects/member/member.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = y[op[0] & 2 ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [0, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};






var PdfPerformanceTargetComponent = /** @class */ (function () {
    function PdfPerformanceTargetComponent(_projectService, _memberActivityProjectService, _pdfService, _memberService) {
        this._projectService = _projectService;
        this._memberActivityProjectService = _memberActivityProjectService;
        this._pdfService = _pdfService;
        this._memberService = _memberService;
        this.errorMessage = "";
        this.idProject = "";
        this.jobs = [];
        this.name = "";
        this.staffActivities = [];
        this.display_pdf_target = false;
    }
    PdfPerformanceTargetComponent.prototype.ngOnInit = function () {
        this.idProject = localStorage.getItem("Project_id");
        this.getProject(this.idProject);
    };
    PdfPerformanceTargetComponent.prototype.filupPDF = function () {
        this.htmlPDF = "<html>\n<head>\n<style>\ntable{\n  border-collapse: collapse;\n}\n td {\n    border: 0.5mm solid black;\n    margin: 0;\n    padding: 2mm;\n    font-size: 4.5mm;\n    \n}\ntr{\n  margin: 0;\n  padding: 0;\n}\n.text-bold{\n    font-weight: bold;\n}\n.saut-page\n{\n    page-break-after: always;\n}\n.no-borders\n{\n    border: none;\n}\n.center-align\n{\n    text-align: center;\n}\n</style>\n</head>\n<body>\n";
        for (var j = 0; j < this.staffActivities.length; j++) {
            var name_1 = "";
            if (j > 0) {
                this.htmlPDF += "<div class=\"saut-page\"></div> ";
            }
            this.htmlPDF += "\n    <h5 style=\"margin-left: 37%; font-size: 140%;font-weight: bold;margin-top: 25mm;\">STAFF PERFORMANCE TARGET</h5>\n    \n    <table style=\"margin-left: 10%; width: 80%;\">\n        <tr class=\"no-borders\">\n            <td class=\"no-borders\" style=\"width: 20%\">Staff Name : " + this.staffActivities[j]['member_name'] + "</td>\n        </tr>\n    </table>\n    \n    <table style=\"margin-left: 5%; width: 90%; margin-top: 10mm;\">\n      <tr>\n        <td class=\"center-align text-bold\" rowspan=\"2\">No</td>\n        <td class=\"center-align text-bold\" rowspan=\"2\">Work Project</td>\n        <td class=\"center-align text-bold\" colspan=\"4\">Target</td>\n        <td class=\"center-align text-bold\" rowspan=\"2\">Note</td>\n      </tr>\n      <tr>\n        <td colspan=\"2\">Output Quantity</td>\n        <td colspan=\"2\">Duration</td>\n      </tr>\n      <tr>\n        <td class=\"center-align\" style=\"width: 5%\">(1)</td>\n        <td class=\"center-align\" style=\"width: 50%\">(2)</td>\n        <td class=\"center-align\" style=\"width: 5%\">(3)</td>\n        <td class=\"center-align\" style=\"width: 10%\">(4)</td>\n        <td class=\"center-align\" style=\"width: 5%\">(5)</td>\n        <td class=\"center-align\" style=\"width: 10%\">(6)</td>\n        <td class=\"center-align\" style=\"width: 15%\">(7)</td>\n      </tr>\n      ";
            for (var _i = 0, _a = this.staffActivities[j]['staff_activities']; _i < _a.length; _i++) {
                var activity = _a[_i];
                this.htmlPDF += "\n      <tr>\n        <td class=\"center-align\">" + activity['activity_id'] + "</td>\n        <td>" + activity['activity_title'] + "</td>\n        <td class=\"center-align\">" + activity['target_quantity'] + "</td>\n        <td class=\"center-align\">" + activity['activity_type_output'] + "</td>\n        <td class=\"center-align\">" + activity['activity_duration'] + "</td>\n        <td class=\"center-align\">" + activity['activity_type_duration'] + "</td>\n        <td class=\"center-align\">" + activity['note'] + "</td>\n\n\n      </tr>";
            }
            this.htmlPDF += "\n    </table>";
        }
        this.htmlPDF += "\n</body>\n</html>";
        this.display_pdf_target = true;
    };
    PdfPerformanceTargetComponent.prototype.download = function (nom) {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this._pdfService.generatePdf(this.htmlPDF)
                            .subscribe(function (res) {
                            console.log(res);
                            if (!window.navigator.msSaveOrOpenBlob) {
                                // BLOB NAVIGATOR
                                var url = window.URL.createObjectURL(new Blob([res]));
                                var link = document.createElement('a');
                                link.href = url;
                                link.setAttribute('download', nom);
                                document.body.appendChild(link);
                                link.click();
                            }
                            else {
                                // BLOB FOR EXPLORER 11
                                var url = window.navigator.msSaveOrOpenBlob(new Blob([res]), "" + res['data'] + name + ".pdf");
                            }
                        }, function (error) {
                            console.log("ERREUR : ", error);
                        })];
                    case 1:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    PdfPerformanceTargetComponent.prototype.fillUpJobTable = function () {
        return __awaiter(this, void 0, void 0, function () {
            var _i, _a, activitie, actualStaff, bool, i, tmp_activites, _b, _c, activitie2;
            return __generator(this, function (_d) {
                switch (_d.label) {
                    case 0:
                        _i = 0, _a = this.activities;
                        _d.label = 1;
                    case 1:
                        if (!(_i < _a.length)) return [3 /*break*/, 4];
                        activitie = _a[_i];
                        actualStaff = activitie['member_id'];
                        bool = false;
                        for (i = 0; i < this.staffActivities.length; i++) {
                            if (this.staffActivities[i]['member_id'] == actualStaff) {
                                bool = true;
                            }
                        }
                        if (!(bool == false)) return [3 /*break*/, 3];
                        this.name == "";
                        return [4 /*yield*/, this.getMember(actualStaff)];
                    case 2:
                        _d.sent();
                        tmp_activites = [];
                        for (_b = 0, _c = this.activities; _b < _c.length; _b++) {
                            activitie2 = _c[_b];
                            if (activitie2['member_id'] == actualStaff) {
                                tmp_activites.push(activitie2);
                            }
                        }
                        this.staffActivities.push({
                            staff_activities: tmp_activites,
                            member_id: actualStaff,
                            member_name: this.name
                        });
                        _d.label = 3;
                    case 3:
                        _i++;
                        return [3 /*break*/, 1];
                    case 4:
                        console.log(this.staffActivities);
                        this.filupPDF();
                        return [2 /*return*/];
                }
            });
        });
    };
    PdfPerformanceTargetComponent.prototype.selectAllFromProject = function (idProject) {
        return __awaiter(this, void 0, void 0, function () {
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        console.log("ici : " + idProject);
                        return [4 /*yield*/, this._memberActivityProjectService.selectAllFromProjectFull(idProject)
                                .subscribe(function (res) {
                                console.log(res['data']);
                                _this.activities = res['data'];
                                _this.fillUpJobTable();
                            }, function (error) {
                                console.log("ERREUR : ", error);
                            })];
                    case 1:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    PdfPerformanceTargetComponent.prototype.getProject = function (idProject) {
        return __awaiter(this, void 0, void 0, function () {
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        console.log("ici projet id : " + idProject);
                        return [4 /*yield*/, this._projectService.getProject(idProject)
                                .subscribe(function (res) {
                                _this.project = res['data'];
                                _this.selectAllFromProject(idProject);
                            }, function (error) {
                                console.log("ERREUR : ", error);
                            })];
                    case 1:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    PdfPerformanceTargetComponent.prototype.getMember = function (idMember) {
        return __awaiter(this, void 0, void 0, function () {
            var n, error_1;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        _a.trys.push([0, 2, , 3]);
                        return [4 /*yield*/, this._memberService.select(idMember).toPromise()];
                    case 1:
                        n = _a.sent();
                        this.name = n['data']['member_first_name'] + " " + n['data']['member_name'];
                        return [3 /*break*/, 3];
                    case 2:
                        error_1 = _a.sent();
                        this.errorMessage = error_1.message;
                        return [3 /*break*/, 3];
                    case 3: return [2 /*return*/];
                }
            });
        });
    };
    PdfPerformanceTargetComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-pdf-performance-target',
            template: __webpack_require__(/*! ./pdf-performance-target.component.html */ "./src/app/documents/pdf-performance-target/pdf-performance-target.component.html"),
            styles: [__webpack_require__(/*! ./pdf-performance-target.component.scss */ "./src/app/documents/pdf-performance-target/pdf-performance-target.component.scss")]
        }),
        __metadata("design:paramtypes", [_objects_project_project_service__WEBPACK_IMPORTED_MODULE_2__["ProjectService"],
            _objects_member_activity_project_member_activity_project_service__WEBPACK_IMPORTED_MODULE_3__["MemberActivityProjectService"],
            _objects_pdf_pdf_service__WEBPACK_IMPORTED_MODULE_4__["PdfService"],
            _objects_member_member_service__WEBPACK_IMPORTED_MODULE_5__["MemberService"]])
    ], PdfPerformanceTargetComponent);
    return PdfPerformanceTargetComponent;
}());



/***/ }),

/***/ "./src/app/documents/pdf-progress-evaluation/pdf-progress-evaluation.component.html":
/*!******************************************************************************************!*\
  !*** ./src/app/documents/pdf-progress-evaluation/pdf-progress-evaluation.component.html ***!
  \******************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<button *ngIf=\"display_pdf_progress\" type=\"button\" class=\"btn btn-default\" (click)=\"filupPDF()\">Download Progress PDF (Days)</button>\r\n<button *ngIf=\"!display_pdf_progress\" type=\"button\" class=\"btn btn-default\" disabled (click)=\"filupPDF()\">Download Progress PDF (Days)</button>\r\n<!--<button *ngIf=\"display_pdf_progress\" type=\"button\" class=\"btn btn-default\" (click)=\"filupPDFWeek()\">Download Progress PDF (Weeks)</button>\r\n<button *ngIf=\"!display_pdf_progress\" type=\"button\" class=\"btn btn-default\" disabled (click)=\"filupPDFWeek()\">Download Progress PDF (Weeks)</button>-->\r\n"

/***/ }),

/***/ "./src/app/documents/pdf-progress-evaluation/pdf-progress-evaluation.component.scss":
/*!******************************************************************************************!*\
  !*** ./src/app/documents/pdf-progress-evaluation/pdf-progress-evaluation.component.scss ***!
  \******************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/documents/pdf-progress-evaluation/pdf-progress-evaluation.component.ts":
/*!****************************************************************************************!*\
  !*** ./src/app/documents/pdf-progress-evaluation/pdf-progress-evaluation.component.ts ***!
  \****************************************************************************************/
/*! exports provided: PdfProgressEvaluationComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PdfProgressEvaluationComponent", function() { return PdfProgressEvaluationComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _objects_member_activity_project_member_activity_project_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../objects/member_activity_project/member-activity-project.service */ "./src/app/objects/member_activity_project/member-activity-project.service.ts");
/* harmony import */ var _objects_member_member_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../objects/member/member.service */ "./src/app/objects/member/member.service.ts");
/* harmony import */ var _objects_activity_activity_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../objects/activity/activity.service */ "./src/app/objects/activity/activity.service.ts");
/* harmony import */ var _objects_project_project_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../objects/project/project.service */ "./src/app/objects/project/project.service.ts");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _objects_job_job_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../objects/job/job.service */ "./src/app/objects/job/job.service.ts");
/* harmony import */ var _objects_pdf_pdf_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../objects/pdf/pdf.service */ "./src/app/objects/pdf/pdf.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = y[op[0] & 2 ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [0, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};








var PdfProgressEvaluationComponent = /** @class */ (function () {
    function PdfProgressEvaluationComponent(_projectService, _memberActivityProjectService, _pdfService, _memberService, _activityService, _jobService) {
        this._projectService = _projectService;
        this._memberActivityProjectService = _memberActivityProjectService;
        this._pdfService = _pdfService;
        this._memberService = _memberService;
        this._activityService = _activityService;
        this._jobService = _jobService;
        this.idProject = "3";
        this.jobs = [];
        this.display_pdf_gantt = false;
        this.errorMessage = "";
        this.ready = false;
        this.m_a_p = [];
        this.workers = [];
        this.activities = [];
        this.sorted_workers = [];
        /*
        * [{date: Date,
        *   elements: [{target_quantity: number,
        *               finished_quantity: number,
        *               finished_rate: number,
        *               member: Member
        *              }]
        *  }]
        * */
        this.volume_per_days = [];
        this.volume_per_weeks = [];
        this.is_type_weeks = false;
        /* [{member: Member,
        *    m_a_ps: MemberActivityProject[],
        *    total_target: number,
        *    total_finished: number
        *  }}
        *  */
        this.elements = [];
        // Volumes that are displayed on the main table
        this.volumes_displayed = new Map();
        this.dates_displayed = [];
        this.volumes_displayed_iterator = 0;
        this.members_activities = new Map();
        this.display_pdf_progress = false;
    }
    PdfProgressEvaluationComponent.prototype.ngOnInit = function () {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.loadData()];
                    case 1:
                        _a.sent();
                        return [4 /*yield*/, this.sortElements()];
                    case 2:
                        _a.sent();
                        this.ready = true;
                        console.log(this.elements);
                        return [4 /*yield*/, this.getProject(localStorage.getItem("Project_id"))];
                    case 3:
                        _a.sent();
                        this.display_pdf_progress = true;
                        return [2 /*return*/];
                }
            });
        });
    };
    PdfProgressEvaluationComponent.prototype.filupPDF = function () {
        return __awaiter(this, void 0, void 0, function () {
            var tmp_job_done, i, boolTest, j, _i, _a, member, _b, _c, volume, error_1;
            return __generator(this, function (_d) {
                switch (_d.label) {
                    case 0:
                        this.htmlPDF = "<html>\n<head>\n<style>\ntable{\n  border-collapse: collapse;\n}\n td {\n    border: 0.5mm solid black;\n    margin: 0;\n    padding: 2mm;\n    font-size: 3mm;\n    \n}\ntr{\n  margin: 0;\n  padding: 0;\n}\n.text-bold{\n    font-weight: bold;\n}\n.saut-page\n{\n    page-break-after: always;\n}\n.no-borders\n{\n    border: none;\n}\n.center-align\n{\n    text-align: center;\n}\n</style>\n</head>\n<body>\n";
                        console.log(this.activities);
                        tmp_job_done = [];
                        i = 0;
                        _d.label = 1;
                    case 1:
                        if (!(i < this.activities.length)) return [3 /*break*/, 6];
                        boolTest = false;
                        for (j = 0; j < tmp_job_done.length; j++) {
                            if (tmp_job_done[j] == this.activities[i]['job']['job_id']) {
                                boolTest = true;
                            }
                        }
                        if (!(boolTest == false)) return [3 /*break*/, 5];
                        _d.label = 2;
                    case 2:
                        _d.trys.push([2, 4, , 5]);
                        console.log("ici");
                        return [4 /*yield*/, this.loadVolumePerDay(this.activities[i]['job']['job_id'])];
                    case 3:
                        _d.sent();
                        console.log(this.volumes_displayed);
                        if (i > 0) {
                            this.htmlPDF += "<div class=\"saut-page\"></div> ";
                        }
                        this.htmlPDF += "\n            <h5 style=\"margin-left: 37%; font-size: 140%;font-weight: bold;margin-top: 25mm;\">VOLUME PROGRESS EVALUATION </h5>\n            \n            <table style=\"margin-left: 5%; width: 90%;\">\n                <tr class=\"no-borders\">\n                    <td class=\"no-borders\" style=\"width: 20%\">Work Code</td>\n                    <td class=\"no-borders\" style=\"width: 15%\">" + this.activities[i]['job']['job_id'] + "</td>\n                    <td class=\"no-borders\" style=\"width: 15%\">Project Code</td>\n                    <td class=\"no-borders\" style=\"width: 15%\">" + this.project_pdf.project_id + "</td>\n                    <td class=\"no-borders\" style=\"width: 35%\"></td>\n                </tr>\n                <tr class=\"no-borders\">\n                    <td class=\"no-borders\">Name of Project Work</td>\n                    <td colspan=\"4\" class=\"no-borders\">Name of the job</td>\n            \n                </tr>\n                \n            </table>\n            \n            <table style=\"margin-left: 5%; width: 90%; margin-top: 10mm;\">\n              <tr>\n                <td style=\"width: 3%\" class=\"center-align text-bold\" rowspan=\"3\">No</td>\n                <td style=\"width: 10%\" class=\"center-align text-bold\" rowspan=\"3\">Staff Names</td>\n                <td style=\"width: 7%\" class=\"center-align text-bold\" rowspan=\"3\">Total <br> Target</td>\n                <td style=\"width: 10%\" class=\"center-align text-bold\" rowspan=\"3\">Total Target <br> vs Details</td>\n                <td style=\"width: 45%\" class=\"center-align text-bold\" colspan=\"27\">w1</td>\n                <td style=\"width: 8%\" class=\"center-align text-bold\" rowspan=\"3\">Total Finished</td>\n                <td style=\"width: 7%\" class=\"center-align text-bold\" rowspan=\"3\">%</td>\n                <td style=\"width: 10%\" class=\"center-align text-bold\" rowspan=\"3\">Note</td>\n                 \n              </tr>\n              <tr>\n                <td colspan=\"3\" class=\"center-align\">D1</td>\n                <td colspan=\"3\" class=\"center-align\">D2</td>\n                <td colspan=\"3\" class=\"center-align\">D3</td>\n                <td colspan=\"3\" class=\"center-align\">D4</td>\n                <td colspan=\"3\" class=\"center-align\">D5</td>\n                <td colspan=\"3\" class=\"center-align\">D6</td>\n                <td colspan=\"3\" class=\"center-align\">D7</td>\n              </tr>\n              <tr>\n                <td class=\"center-align\">Target</td>\n                <td class=\"center-align\">Finished</td>\n                <td class=\"center-align\">%</td>\n                <td class=\"center-align\">Target</td>\n                <td class=\"center-align\">Finished</td>\n                <td class=\"center-align\">%</td>\n                <td class=\"center-align\">Target</td>\n                <td class=\"center-align\">Finished</td>\n                <td class=\"center-align\">%</td>\n                <td class=\"center-align\">Target</td>\n                <td class=\"center-align\">Finished</td>\n                <td class=\"center-align\">%</td>\n                <td class=\"center-align\">Target</td>\n                <td class=\"center-align\">Finished</td>\n                <td class=\"center-align\">%</td>\n                <td class=\"center-align\">Target</td>\n                <td class=\"center-align\">Finished</td>\n                <td class=\"center-align\">%</td>\n                <td class=\"center-align\">Target</td>\n                <td class=\"center-align\">Finished</td>\n                <td class=\"center-align\">%</td>\n              </tr>\n              ";
                        for (_i = 0, _a = this.convertMap(this.volumes_displayed); _i < _a.length; _i++) {
                            member = _a[_i];
                            this.htmlPDF += "\n                <tr>\n              <td >" + member['member'].member_id + "</td>\n              <td class=\"text-small\">" + member['member'].member_name + " " + member['member'].member_first_name + "</td>\n               <td>" + member['total_finished'] + " " + member['total_target'] + " " + member['total_rates'] + " </td>\n               <td></td>\n               ";
                            for (_b = 0, _c = member['volumes']; _b < _c.length; _b++) {
                                volume = _c[_b];
                                this.htmlPDF += "\n                <td>" + volume['target_quantity'] + "</td>\n                <td>" + volume['finished_quantity'] + "</td>\n                <td>" + volume['finished_rate'] + "</td>\n                ";
                            }
                            this.htmlPDF += "</tr>";
                        }
                        this.htmlPDF += "\n            </table>";
                        console.log("là");
                        return [3 /*break*/, 5];
                    case 4:
                        error_1 = _d.sent();
                        this.errorMessage = error_1.message;
                        return [3 /*break*/, 5];
                    case 5:
                        i++;
                        return [3 /*break*/, 1];
                    case 6:
                        this.htmlPDF += "</body></html>";
                        this.download("");
                        return [2 /*return*/];
                }
            });
        });
    };
    PdfProgressEvaluationComponent.prototype.filupPDFWeek = function () {
        this.htmlPDF = "<html>\n<head>\n<style>\ntable{\n  border-collapse: collapse;\n}\n td {\n    border: 0.5mm solid black;\n    margin: 0;\n    padding: 2mm;\n    font-size: 3mm;\n    \n}\ntr{\n  margin: 0;\n  padding: 0;\n}\n.text-bold{\n    font-weight: bold;\n}\n.saut-page\n{\n    page-break-after: always;\n}\n.no-borders\n{\n    border: none;\n}\n.center-align\n{\n    text-align: center;\n}\n</style>\n</head>\n<body>\n";
        this.htmlPDF += "\n    <h5 style=\"margin-left: 37%; font-size: 140%;font-weight: bold;margin-top: 25mm;\">VOLUME PROGRESS EVALUATION </h5>\n    \n    <table style=\"margin-left: 5%; width: 90%;\">\n        <tr class=\"no-borders\">\n            <td class=\"no-borders\" style=\"width: 20%\">Work Code</td>\n            <td class=\"no-borders\" style=\"width: 15%\">0000000</td>\n            <td class=\"no-borders\" style=\"width: 15%\">Project Code</td>\n            <td class=\"no-borders\" style=\"width: 15%\">" + this.project_pdf.project_id + "</td>\n            <td class=\"no-borders\" style=\"width: 35%\"></td>\n        </tr>\n        <tr class=\"no-borders\">\n            <td class=\"no-borders\">Name of Project Work</td>\n            <td colspan=\"4\" class=\"no-borders\">Name of the job</td>\n    \n        </tr>\n        \n    </table>\n    \n    <table style=\"margin-left: 5%; width: 90%; margin-top: 10mm;\">\n      <tr>\n        <td style=\"width: 3%\" class=\"center-align text-bold\" rowspan=\"3\">No</td>\n        <td style=\"width: 10%\" class=\"center-align text-bold\" rowspan=\"3\">Staff Names</td>\n        <td style=\"width: 7%\" class=\"center-align text-bold\" rowspan=\"3\">Total <br> Target</td>\n        <td style=\"width: 10%\" class=\"center-align text-bold\" rowspan=\"3\">Total Target <br> vs Details</td>\n        <td style=\"width: 45%\" class=\"center-align text-bold\" colspan=\"12\">M1</td>\n        <td style=\"width: 8%\" class=\"center-align text-bold\" rowspan=\"3\">Total Finished</td>\n        <td style=\"width: 7%\" class=\"center-align text-bold\" rowspan=\"3\">%</td>\n        <td style=\"width: 10%\" class=\"center-align text-bold\" rowspan=\"3\">Note</td>\n         \n      </tr>\n      <tr>\n        <td colspan=\"3\" class=\"center-align\">M1</td>\n        <td colspan=\"3\" class=\"center-align\">M2</td>\n        <td colspan=\"3\" class=\"center-align\">M3</td>\n        <td colspan=\"3\" class=\"center-align\">M4</td>\n      </tr>\n      <tr>\n        <td class=\"center-align\">Target</td>\n        <td class=\"center-align\">Finished</td>\n        <td class=\"center-align\">%</td>\n        <td class=\"center-align\">Target</td>\n        <td class=\"center-align\">Finished</td>\n        <td class=\"center-align\">%</td>\n        <td class=\"center-align\">Target</td>\n        <td class=\"center-align\">Finished</td>\n        <td class=\"center-align\">%</td>\n        <td class=\"center-align\">Target</td>\n        <td class=\"center-align\">Finished</td>\n        <td class=\"center-align\">%</td>\n      </tr>\n      ";
        this.htmlPDF += "\n    </table>";
        this.htmlPDF += "</body></html>";
        this.download("");
    };
    PdfProgressEvaluationComponent.prototype.getProject = function (idProject) {
        return __awaiter(this, void 0, void 0, function () {
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        console.log("ici projet id : " + idProject);
                        return [4 /*yield*/, this._projectService.getProject(idProject)
                                .subscribe(function (res) {
                                _this.project_pdf = res['data'];
                            }, function (error) {
                                console.log("ERREUR : ", error);
                            })];
                    case 1:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    PdfProgressEvaluationComponent.prototype.download = function (nom) {
        return __awaiter(this, void 0, void 0, function () {
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this._pdfService.generatePdf(this.htmlPDF)
                            .subscribe(function (res) {
                            console.log(res);
                            if (!window.navigator.msSaveOrOpenBlob) {
                                // BLOB NAVIGATOR
                                var url = window.URL.createObjectURL(new Blob([res]));
                                var link = document.createElement('a');
                                link.href = url;
                                link.setAttribute('download', "Progress-evaluation-" + _this.project.project_title + ".pdf");
                                document.body.appendChild(link);
                                link.click();
                            }
                            else {
                                // BLOB FOR EXPLORER 11
                                var url = window.navigator.msSaveOrOpenBlob(new Blob([res]), "" + res['data'] + name + ".pdf");
                            }
                        }, function (error) {
                            console.log("ERREUR : ", error);
                        })];
                    case 1:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    /* ----------- METHODS ----------- */
    /* Load the project & all m_a_p data with the activity & member linked */
    PdfProgressEvaluationComponent.prototype.loadData = function () {
        return __awaiter(this, void 0, void 0, function () {
            var project_id, project, error_2, m_a_p, error_3, _i, _a, m, worker, activity, job, e, error_4;
            return __generator(this, function (_b) {
                switch (_b.label) {
                    case 0:
                        this.ready = false;
                        _b.label = 1;
                    case 1:
                        _b.trys.push([1, 3, , 4]);
                        project_id = localStorage.getItem('Project_id');
                        return [4 /*yield*/, this._projectService.select(project_id).toPromise()];
                    case 2:
                        project = _b.sent();
                        this.project = project['data'];
                        return [3 /*break*/, 4];
                    case 3:
                        error_2 = _b.sent();
                        this.errorMessage = error_2.error.message;
                        return [3 /*break*/, 4];
                    case 4:
                        //We select all MemberActivityProject linked to the project
                        this.m_a_p = [];
                        _b.label = 5;
                    case 5:
                        _b.trys.push([5, 7, , 8]);
                        return [4 /*yield*/, this._memberActivityProjectService.selectAllFromProject(this.project.project_id).toPromise()];
                    case 6:
                        m_a_p = _b.sent();
                        this.m_a_p = m_a_p['data'];
                        return [3 /*break*/, 8];
                    case 7:
                        error_3 = _b.sent();
                        this.errorMessage = error_3.error.message;
                        return [3 /*break*/, 8];
                    case 8:
                        //We select all Members & Activities linked to theses m_a_p
                        this.workers = [];
                        this.activities = [];
                        this.elements = [];
                        _b.label = 9;
                    case 9:
                        _b.trys.push([9, 16, , 17]);
                        _i = 0, _a = this.m_a_p;
                        _b.label = 10;
                    case 10:
                        if (!(_i < _a.length)) return [3 /*break*/, 15];
                        m = _a[_i];
                        return [4 /*yield*/, this._memberService.select(m.member_id).toPromise()];
                    case 11:
                        worker = _b.sent();
                        return [4 /*yield*/, this._activityService.select(m.activity_id).toPromise()];
                    case 12:
                        activity = _b.sent();
                        return [4 /*yield*/, this._jobService.select(m.job_id).toPromise()];
                    case 13:
                        job = _b.sent();
                        this.workers.push(worker['data']);
                        e = {
                            activity: activity['data'],
                            job: job['data']
                        };
                        this.activities.push(e);
                        _b.label = 14;
                    case 14:
                        _i++;
                        return [3 /*break*/, 10];
                    case 15: return [3 /*break*/, 17];
                    case 16:
                        error_4 = _b.sent();
                        this.errorMessage = error_4.error.message;
                        return [3 /*break*/, 17];
                    case 17: return [2 /*return*/];
                }
            });
        });
    };
    /* For one member, we group all his m_a_p inside the elements array.It's like a distinct member request */
    PdfProgressEvaluationComponent.prototype.sortElements = function () {
        return __awaiter(this, void 0, void 0, function () {
            var add, _i, _a, w, _b, _c, s, _d, _e, s, sorted_map, total_target, total_finished, _f, _g, m, a, j, e, error_5, element;
            return __generator(this, function (_h) {
                switch (_h.label) {
                    case 0:
                        this.sorted_workers = [];
                        //I CHECK EVERY WORKERS
                        for (_i = 0, _a = this.workers; _i < _a.length; _i++) {
                            w = _a[_i];
                            add = true;
                            for (_b = 0, _c = this.sorted_workers; _b < _c.length; _b++) {
                                s = _c[_b];
                                if (s.member_id == w.member_id) {
                                    add = false;
                                }
                            }
                            if (add) {
                                this.sorted_workers.push(w);
                            }
                        }
                        _d = 0, _e = this.sorted_workers;
                        _h.label = 1;
                    case 1:
                        if (!(_d < _e.length)) return [3 /*break*/, 10];
                        s = _e[_d];
                        sorted_map = [];
                        total_target = 0;
                        total_finished = 0;
                        _f = 0, _g = this.m_a_p;
                        _h.label = 2;
                    case 2:
                        if (!(_f < _g.length)) return [3 /*break*/, 8];
                        m = _g[_f];
                        if (!(s.member_id == m.member_id)) return [3 /*break*/, 7];
                        _h.label = 3;
                    case 3:
                        _h.trys.push([3, 6, , 7]);
                        return [4 /*yield*/, this._activityService.select(m.activity_id).toPromise()];
                    case 4:
                        a = _h.sent();
                        return [4 /*yield*/, this._jobService.select(m.job_id).toPromise()];
                    case 5:
                        j = _h.sent();
                        this.calculState(m);
                        e = {
                            m_a_p: m,
                            activity: a['data'],
                            job: j['data'],
                        };
                        sorted_map.push(e);
                        total_target += m.target_quantity;
                        total_finished += m.finished_quantity;
                        return [3 /*break*/, 7];
                    case 6:
                        error_5 = _h.sent();
                        this.errorMessage = error_5.error.message;
                        return [3 /*break*/, 7];
                    case 7:
                        _f++;
                        return [3 /*break*/, 2];
                    case 8:
                        element = {
                            member: s,
                            m_a_ps: sorted_map,
                            total_target: total_target,
                            total_finished: total_finished
                        };
                        this.elements.push(element);
                        _h.label = 9;
                    case 9:
                        _d++;
                        return [3 /*break*/, 1];
                    case 10: return [2 /*return*/];
                }
            });
        });
    };
    /* Ask to the server side to compute every target quantity, quantity finished, rates and store it in an array per days */
    PdfProgressEvaluationComponent.prototype.loadVolumePerDay = function (job_id) {
        return __awaiter(this, void 0, void 0, function () {
            var v, error_6;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        _a.trys.push([0, 3, , 4]);
                        return [4 /*yield*/, this._projectService.volume_per_days_pdf(this.project.project_id, job_id).toPromise()];
                    case 1:
                        v = _a.sent();
                        this.volume_per_days = v['data'];
                        this.volumes_displayed_iterator = 0;
                        return [4 /*yield*/, this.selectVolumes(0)];
                    case 2:
                        _a.sent();
                        return [3 /*break*/, 4];
                    case 3:
                        error_6 = _a.sent();
                        this.errorMessage = error_6.message;
                        return [3 /*break*/, 4];
                    case 4: return [2 /*return*/];
                }
            });
        });
    };
    PdfProgressEvaluationComponent.prototype.loadVolumePerWeek = function () {
        return __awaiter(this, void 0, void 0, function () {
            var v, error_7;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        _a.trys.push([0, 3, , 4]);
                        return [4 /*yield*/, this._projectService.volume_per_weeks(this.project.project_id).toPromise()];
                    case 1:
                        v = _a.sent();
                        this.volume_per_weeks = v['data'];
                        this.volumes_displayed_iterator = 0;
                        return [4 /*yield*/, this.selectVolumes(0)];
                    case 2:
                        _a.sent();
                        return [3 /*break*/, 4];
                    case 3:
                        error_7 = _a.sent();
                        this.errorMessage = error_7.message;
                        return [3 /*break*/, 4];
                    case 4: return [2 /*return*/];
                }
            });
        });
    };
    PdfProgressEvaluationComponent.prototype.selectVolumes = function (i) {
        if (this.is_type_weeks) {
            this.selectVolumesWeeks(i);
        }
        else {
            this.selectVolumesDays(i);
        }
    };
    /* Take 7 elements from Monday to Sunday, and store it in the array that is shown on the view */
    PdfProgressEvaluationComponent.prototype.selectVolumesDays = function (i) {
        // We convert the volume_per_days array to fit with the ngFor view
        this.ready = false;
        this.volumes_displayed = new Map();
        this.dates_displayed = [];
        for (var _i = 0, _a = this.volume_per_days.slice(i, i + 7); _i < _a.length; _i++) {
            var volume = _a[_i];
            this.dates_displayed.push(volume['date']);
            for (var _b = 0, _c = volume['elements']; _b < _c.length; _b++) {
                var member = _c[_b];
                //We initialize the map if needed
                if (this.volumes_displayed.get(member['member'].member_id) == null) {
                    var quantities = this.foundQuantities(member['member'].member_id);
                    var o = {
                        member: member['member'],
                        volumes: [],
                        total_finished: quantities[0],
                        total_target: quantities[1],
                        total_rates: quantities[2]
                    };
                    this.volumes_displayed.set(member['member'].member_id, o);
                }
                //We store quantity
                var e = {
                    target_quantity: member['target_quantity'],
                    finished_quantity: member['finished_quantity'],
                    finished_rate: member['finished_rate']
                };
                this.volumes_displayed.get(member['member'].member_id)['volumes'].push(e);
            }
        }
        this.ready = true;
    };
    /* Take all elements of a month, and store it in the array that is shown on the view */
    PdfProgressEvaluationComponent.prototype.selectVolumesWeeks = function (i) {
        // We convert the volume_per_weeks array to fit with the ngFor view
        this.ready = false;
        this.volumes_displayed = new Map();
        this.dates_displayed = [];
        for (var _i = 0, _a = this.volume_per_weeks[i]['weeks']; _i < _a.length; _i++) {
            var volume = _a[_i];
            this.dates_displayed.push(volume['date']);
            for (var _b = 0, _c = volume['elements']; _b < _c.length; _b++) {
                var member = _c[_b];
                //We initialize the map if needed
                if (this.volumes_displayed.get(member['member'].member_id) == null) {
                    var o = {
                        member: member['member'],
                        volumes: []
                    };
                    this.volumes_displayed.set(member['member'].member_id, o);
                }
                //We store quantity
                var e = {
                    target_quantity: member['target_quantity'],
                    finished_quantity: member['finished_quantity'],
                    finished_rate: member['finished_rate']
                };
                this.volumes_displayed.get(member['member'].member_id)['volumes'].push(e);
            }
        }
        this.ready = true;
    };
    /* Found the total quantities inside the elements array */
    PdfProgressEvaluationComponent.prototype.foundQuantities = function (member_id) {
        for (var _i = 0, _a = this.elements; _i < _a.length; _i++) {
            var e = _a[_i];
            if (e['member'].member_id == member_id) {
                var total_rates = Math.round(100 * e['total_finished'] / e['total_target']);
                return [e['total_finished'], e['total_target'], total_rates];
            }
        }
    };
    //Convert map to array to use it in the view
    PdfProgressEvaluationComponent.prototype.convertMap = function (map) {
        return Array.from(map.values());
    };
    //Load the seven next days
    PdfProgressEvaluationComponent.prototype.next = function () {
        if (this.is_type_weeks) {
            if (this.volumes_displayed_iterator < this.volume_per_days.length - 1) {
                this.volumes_displayed_iterator += 1;
                var i = this.volumes_displayed_iterator;
                this.selectVolumes(i);
            }
        }
        else {
            //We do next only if we don't have the last portion of the array
            if (this.volumes_displayed_iterator <= this.volume_per_days.length - 7) {
                this.volumes_displayed_iterator += 7;
                var i = this.volumes_displayed_iterator;
                this.selectVolumes(i);
            }
        }
    };
    //Load the seven previous days
    PdfProgressEvaluationComponent.prototype.previous = function () {
        if (this.is_type_weeks) {
            if (this.volumes_displayed_iterator > 0) {
                this.volumes_displayed_iterator -= 1;
                var i = this.volumes_displayed_iterator;
                this.selectVolumes(i);
            }
        }
        else {
            //We do next only if we don't have the last portion of the array
            if (this.volumes_displayed_iterator != 0) {
                this.volumes_displayed_iterator -= 7;
                var i = this.volumes_displayed_iterator;
                this.selectVolumes(i);
            }
        }
    };
    /* Show all activities of the member selected */
    PdfProgressEvaluationComponent.prototype.selectMember = function (member_id) {
        if (this.element_selected != null) {
            var oldCell = document.getElementById(this.element_selected['member']['member_id']);
            oldCell.className = "";
        }
        /* We search for the right element of the array */
        for (var _i = 0, _a = this.elements; _i < _a.length; _i++) {
            var e = _a[_i];
            if (e['member'].member_id == member_id) {
                this.element_selected = e;
            }
        }
        var newCell = document.getElementById(member_id);
        newCell.className += "selected";
    };
    /* Calcul if the member activity project is late, on date or something else */
    PdfProgressEvaluationComponent.prototype.calculState = function (m_a_p) {
        return __awaiter(this, void 0, void 0, function () {
            var target, finished_date, now, isChanged;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        target = new Date(m_a_p.target_date);
                        finished_date = new Date(m_a_p.finished_date);
                        now = new Date();
                        isChanged = false;
                        //The activity is finished
                        if (m_a_p.target_quantity == m_a_p.finished_quantity) {
                            if (m_a_p.evaluation == 'on date' || m_a_p.evaluation == 'finished on date') {
                                if (target.getTime() < finished_date.getTime()) {
                                    m_a_p.evaluation = 'finished late';
                                }
                                else {
                                    m_a_p.evaluation = 'finished on date';
                                }
                                isChanged = true;
                            }
                            else if (m_a_p.evaluation == 'late') {
                                m_a_p.evaluation = 'finished late';
                                isChanged = true;
                            }
                        }
                        else if (m_a_p.evaluation == 'finished late' || m_a_p.evaluation == 'finished on date') {
                            m_a_p.finished_date = new Date();
                            m_a_p.finished_date = moment__WEBPACK_IMPORTED_MODULE_5__(m_a_p.finished_date).format('Y-MM-D');
                            if (target.getTime() < now.getTime()) {
                                m_a_p.evaluation = 'late';
                            }
                            else {
                                m_a_p.evaluation = 'on date';
                            }
                            isChanged = true;
                        }
                        else if (target.getTime() < now.getTime()) {
                            m_a_p.evaluation = 'late';
                            isChanged = true;
                        }
                        else {
                            m_a_p.finished_date = new Date();
                            m_a_p.finished_date = moment__WEBPACK_IMPORTED_MODULE_5__(m_a_p.finished_date).format('Y-MM-D');
                            isChanged = true;
                        }
                        if (!isChanged) return [3 /*break*/, 2];
                        return [4 /*yield*/, this._memberActivityProjectService.update(m_a_p).toPromise()];
                    case 1:
                        _a.sent();
                        _a.label = 2;
                    case 2: return [2 /*return*/];
                }
            });
        });
    };
    PdfProgressEvaluationComponent.prototype.sortTable = function (n) {
        var table, rows, switching, i, x, y, shouldSwitch, dir, switchcount = 0;
        table = document.getElementById("volume-table");
        switching = true;
        // Set the sorting direction to ascending:
        dir = "asc";
        /* Make a loop that will continue until
        no switching has been done: */
        while (switching) {
            // Start by saying: no switching is done:
            switching = false;
            rows = table.getElementsByTagName("TR");
            /* Loop through all table rows (except the
            first, which contains table headers): */
            for (i = 1; i < (rows.length - 1); i++) {
                // Start by saying there should be no switching:
                shouldSwitch = false;
                /* Get the two elements you want to compare,
                one from current row and one from the next: */
                x = rows[i].getElementsByTagName("TD")[n];
                y = rows[i + 1].getElementsByTagName("TD")[n];
                /* Check if the two rows should switch place,
                based on the direction, asc or desc: */
                if (dir == "asc") {
                    if (x.innerHTML.toLowerCase() > y.innerHTML.toLowerCase()) {
                        // If so, mark as a switch and break the loop:
                        shouldSwitch = true;
                        break;
                    }
                }
                else if (dir == "desc") {
                    if (x.innerHTML.toLowerCase() < y.innerHTML.toLowerCase()) {
                        // If so, mark as a switch and break the loop:
                        shouldSwitch = true;
                        break;
                    }
                }
            }
            if (shouldSwitch) {
                /* If a switch has been marked, make the switch
                and mark that a switch has been done: */
                rows[i].parentNode.insertBefore(rows[i + 1], rows[i]);
                switching = true;
                // Each time a switch is done, increase this count by 1:
                switchcount++;
            }
            else {
                /* If no switching has been done AND the direction is "asc",
                set the direction to "desc" and run the while loop again. */
                if (switchcount == 0 && dir == "asc") {
                    dir = "desc";
                    switching = true;
                }
            }
        }
    };
    PdfProgressEvaluationComponent.prototype.sortTable1 = function (n) {
        var table, rows, switching, i, x, y, shouldSwitch, dir, switchcount = 0;
        table = document.getElementById("activity-table");
        switching = true;
        // Set the sorting direction to ascending:
        dir = "asc";
        /* Make a loop that will continue until
        no switching has been done: */
        while (switching) {
            // Start by saying: no switching is done:
            switching = false;
            rows = table.getElementsByTagName("TR");
            /* Loop through all table rows (except the
            first, which contains table headers): */
            for (i = 1; i < (rows.length - 1); i++) {
                // Start by saying there should be no switching:
                shouldSwitch = false;
                /* Get the two elements you want to compare,
                one from current row and one from the next: */
                x = rows[i].getElementsByTagName("TD")[n];
                y = rows[i + 1].getElementsByTagName("TD")[n];
                /* Check if the two rows should switch place,
                based on the direction, asc or desc: */
                if (dir == "asc") {
                    if (x.innerHTML.toLowerCase() > y.innerHTML.toLowerCase()) {
                        // If so, mark as a switch and break the loop:
                        shouldSwitch = true;
                        break;
                    }
                }
                else if (dir == "desc") {
                    if (x.innerHTML.toLowerCase() < y.innerHTML.toLowerCase()) {
                        // If so, mark as a switch and break the loop:
                        shouldSwitch = true;
                        break;
                    }
                }
            }
            if (shouldSwitch) {
                /* If a switch has been marked, make the switch
                and mark that a switch has been done: */
                rows[i].parentNode.insertBefore(rows[i + 1], rows[i]);
                switching = true;
                // Each time a switch is done, increase this count by 1:
                switchcount++;
            }
            else {
                /* If no switching has been done AND the direction is "asc",
                set the direction to "desc" and run the while loop again. */
                if (switchcount == 0 && dir == "asc") {
                    dir = "desc";
                    switching = true;
                }
            }
        }
    };
    PdfProgressEvaluationComponent.prototype.search = function () {
        // Declare variables
        var input, filter, table, tr, td, i;
        input = document.getElementById("search");
        filter = input.value.toUpperCase();
        table = document.getElementById("volume-table");
        tr = table.getElementsByTagName("tr");
        // Loop through all table rows, and hide those who don't match the search query
        for (i = 0; i < tr.length; i++) {
            td = tr[i].getElementsByTagName("td")[1];
            if (td) {
                if (td.innerHTML.toUpperCase().indexOf(filter) > -1) {
                    tr[i].style.display = "";
                }
                else {
                    tr[i].style.display = "none";
                }
            }
        }
    };
    PdfProgressEvaluationComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-pdf-progress-evaluation',
            template: __webpack_require__(/*! ./pdf-progress-evaluation.component.html */ "./src/app/documents/pdf-progress-evaluation/pdf-progress-evaluation.component.html"),
            styles: [__webpack_require__(/*! ./pdf-progress-evaluation.component.scss */ "./src/app/documents/pdf-progress-evaluation/pdf-progress-evaluation.component.scss")]
        }),
        __metadata("design:paramtypes", [_objects_project_project_service__WEBPACK_IMPORTED_MODULE_4__["ProjectService"],
            _objects_member_activity_project_member_activity_project_service__WEBPACK_IMPORTED_MODULE_1__["MemberActivityProjectService"],
            _objects_pdf_pdf_service__WEBPACK_IMPORTED_MODULE_7__["PdfService"],
            _objects_member_member_service__WEBPACK_IMPORTED_MODULE_2__["MemberService"],
            _objects_activity_activity_service__WEBPACK_IMPORTED_MODULE_3__["ActivityService"],
            _objects_job_job_service__WEBPACK_IMPORTED_MODULE_6__["JobService"]])
    ], PdfProgressEvaluationComponent);
    return PdfProgressEvaluationComponent;
}());



/***/ }),

/***/ "./src/app/documents/pdf-sop/pdf-sop.component.html":
/*!**********************************************************!*\
  !*** ./src/app/documents/pdf-sop/pdf-sop.component.html ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<button *ngIf=\"display_pdf_sop\" type=\"button\" class=\"btn btn-default\" (click)=\"download()\">Download Sop PDF</button>\r\n<button *ngIf=\"!display_pdf_sop && sop_pdf_button\" type=\"button\" class=\"btn btn-default\" disabled (click)=\"download()\">Download Sop PDF</button>\r\n<button *ngIf=\"display_pdf_project\" type=\"button\" class=\"btn btn-default\" (click)=\"download()\">Download Project PDF</button>\r\n<button *ngIf=\"!display_pdf_project && project_pdf_button\" class=\"btn btn-default\" disabled (click)=\"download()\">Download Project PDF</button>\r\n\r\n"

/***/ }),

/***/ "./src/app/documents/pdf-sop/pdf-sop.component.scss":
/*!**********************************************************!*\
  !*** ./src/app/documents/pdf-sop/pdf-sop.component.scss ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/documents/pdf-sop/pdf-sop.component.ts":
/*!********************************************************!*\
  !*** ./src/app/documents/pdf-sop/pdf-sop.component.ts ***!
  \********************************************************/
/*! exports provided: PdfSopComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PdfSopComponent", function() { return PdfSopComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var jspdf_autotable__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jspdf-autotable */ "./node_modules/jspdf-autotable/dist/jspdf.plugin.autotable.js");
/* harmony import */ var jspdf_autotable__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jspdf_autotable__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _objects_organisation_organisation_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../objects/organisation/organisation.service */ "./src/app/objects/organisation/organisation.service.ts");
/* harmony import */ var _objects_branch_branch_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../objects/branch/branch.service */ "./src/app/objects/branch/branch.service.ts");
/* harmony import */ var _objects_department_department_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../objects/department/department.service */ "./src/app/objects/department/department.service.ts");
/* harmony import */ var _objects_sub_department_sub_department_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../objects/sub_department/sub-department.service */ "./src/app/objects/sub_department/sub-department.service.ts");
/* harmony import */ var _objects_sop_sop_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../objects/sop/sop.service */ "./src/app/objects/sop/sop.service.ts");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _objects_project_project_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../objects/project/project.service */ "./src/app/objects/project/project.service.ts");
/* harmony import */ var _objects_pdf_pdf_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../objects/pdf/pdf.service */ "./src/app/objects/pdf/pdf.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = y[op[0] & 2 ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [0, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};










var PdfSopComponent = /** @class */ (function () {
    function PdfSopComponent(_organisationService, _branchService, _departmentService, _subDepartmentService, _sopService, _projectService, _pdfService) {
        this._organisationService = _organisationService;
        this._branchService = _branchService;
        this._departmentService = _departmentService;
        this._subDepartmentService = _subDepartmentService;
        this._sopService = _sopService;
        this._projectService = _projectService;
        this._pdfService = _pdfService;
        this.organisation_name = "";
        this.branch_name = "";
        this.department_name = "";
        this.sub_department_name = "";
        this.sop_title = "NA";
        this.sop_creation = new Date();
        this.sop_revision = new Date();
        this.sop_published = new Date();
        this.sop_approvment = "NA";
        this.sop_rules = "NA";
        this.sop_warning = "NA";
        this.sop_staff_qualification = "NA";
        this.sop_tools = "NA";
        this.sop_type_reports = "NA";
        this.sop_objectives = "NA";
        this.units = [""];
        this.activities = [];
        this.display_pdf_project = false;
        this.display_pdf_sop = false;
        this.sop_pdf_button = false;
        this.project_pdf_button = false;
        this.title = " ";
    }
    PdfSopComponent.prototype.ngOnInit = function () {
        return __awaiter(this, void 0, void 0, function () {
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this.project_id = localStorage.getItem("Project_id");
                        this.sop_id = localStorage.getItem("Sop_id");
                        if (!(this.sop_id === null && this.project_id === null)) return [3 /*break*/, 1];
                        console.log("ERROR : No data send to the PDF.");
                        return [3 /*break*/, 5];
                    case 1:
                        if (!(this.sop_id !== null)) return [3 /*break*/, 3];
                        this.sop_pdf_button = true;
                        return [4 /*yield*/, this.getSOP(this.sop_id)];
                    case 2:
                        _a.sent();
                        setTimeout(function () {
                            _this.filupPDF();
                            _this.display_pdf_sop = true;
                        }, 1000);
                        return [3 /*break*/, 5];
                    case 3:
                        if (!(this.project_id !== null)) return [3 /*break*/, 5];
                        this.project_pdf_button = true;
                        return [4 /*yield*/, this.getProject(this.project_id)];
                    case 4:
                        _a.sent();
                        setTimeout(function () {
                            _this.filupPDF();
                            _this.display_pdf_project = true;
                        }, 2000);
                        _a.label = 5;
                    case 5: return [2 /*return*/];
                }
            });
        });
    };
    PdfSopComponent.prototype.filupPDF = function () {
        if (this.sop_pdf_button == true) {
            this.title = this.sop_title;
        }
        else {
            this.title = this.project.project_title;
        }
        this.htmlPDF = "<html>\n<head>\n<style>\ntable{\n  border-collapse: collapse;\n}\n td {\n    border: 0.5mm solid black;\n    margin: 0;\n    padding: 2mm;\n    font-size: 4.5mm;\n    \n}\ntr{\n  margin: 0;\n  padding: 0;\n}\n.text-bold{\n    font-weight: bold;\n}\n.saut-page\n{\n    page-break-after: always;\n}\n</style>\n</head>\n<body>\n  <table style=\"width: 90%; margin-left: 5%;margin-top: 15mm;\"> \n    <tr>\n      <td style=\"width: 20%\" rowspan=\"5\"> <img src=\"images/logo-stikom.png\" style=\"width: 20mm;margin-left: 20mm;\"></td>\n      <td style=\"width: 40%\"><strong>" + this.organisation_name + "</strong></td>\n      <td style=\"width: 20%\"><strong>SOP Number</strong></td>\n      <td style=\"width: 20%\">" + this.sop_id + "</td>\n    </tr>\n    <tr>\n      <td><strong>" + this.branch_name + "</strong></td>\n      <td><strong>Creation Date</strong></td>\n      <td>" + new _angular_common__WEBPACK_IMPORTED_MODULE_7__["DatePipe"]('en-US').transform(this.sop_creation, 'dd-MM-yyyy') + "</td>\n    </tr>\n    <tr>\n      <td><strong>" + this.department_name + "</strong></td>\n      <td><strong>Revision Date</strong></td>\n      <td>" + new _angular_common__WEBPACK_IMPORTED_MODULE_7__["DatePipe"]('en-US').transform(this.sop_revision, 'dd-MM-yyyy') + "</td>\n    </tr>\n    <tr>\n      <td><strong>" + this.sub_department_name + "</strong></td>\n      <td><strong>Published Date</strong></td>\n      <td>" + new _angular_common__WEBPACK_IMPORTED_MODULE_7__["DatePipe"]('en-US').transform(this.sop_published, 'dd-MM-yyyy') + "</td>\n    </tr>\n    <tr>\n      <td></td>\n      <td><strong>Approved by</strong></td>\n      <td>" + this.sop_approvment + "</td>\n    </tr>\n    <tr>\n      <td colspan=\"4\" style=\"text-align: center;font-size: 6mm; padding: 2mm;line-height: 8mm\"><strong>STANDARD OPERATIONAL PROCEDURE <br> " + this.title + "</strong></td>\n    </tr>\n  </table>\n  \n  <table  style=\"width: 90%; margin-left: 5%;margin-top: 8mm;\">\n    <tr>\n      <td style=\"width: 45%\"><strong>Base Rule/Regulation</strong></td>\n      <td style=\"width: 10%\" rowspan=\"6\"></td>\n      <td style=\"width: 45%\"><strong>Staff Qualification</strong></td>\n    </tr>\n    <tr>\n      <td>" + this.sop_rules + "</td>\n      <td>" + this.sop_staff_qualification + "</td>\n    </tr>\n    <tr>\n      <td><strong>Related Working Units</strong></td>\n      <td><strong>Supporting Tools</strong></td>\n    </tr>\n     <tr>\n      <td>to add</td>\n      <td>" + this.sop_tools + "</td>\n    </tr>\n    <tr>\n      <td><strong>Warning</strong></td>\n      <td><strong>Types of Forms and Reports</strong></td>\n    </tr>\n    <tr>\n      <td>" + this.sop_warning + "</td>\n      <td>" + this.sop_type_reports + "</td>\n    </tr>\n    <tr>\n    <td colspan=\"3\" style=\"padding-top: 10mm; line-height: 8mm; padding-left: 30mm;\"><strong>Objectives : </strong><br> " + this.sop_objectives + "<br> </td>\n  </tr>\n  \n  </table>\n\n  <div class=\"saut-page\">\n  \n  </div>\n  \n  <table style=\"width: 90%; margin-left: 5%;margin-top: 15mm;\"> \n    <tr>\n       <td style=\"width: 4%\" rowspan=\"2\"><strong>No</strong></td>\n       <td style=\"width: 18%\" rowspan=\"2\"><strong>Activity</strong></td>";
        for (var i = 0; i < this.units.length; i++) {
            if (i < 4) {
                this.htmlPDF += " <td style=\"width: 12%\" rowspan=\"2\"><strong>" + this.units[i] + "</strong></td>";
            }
        }
        this.htmlPDF += "\n       \n       <td style=\"width: 30%\" colspan=\"3\"><strong>Quality Standard</strong></td>\n       \n    </tr>\n    <tr>\n        <td style=\"width: 10%; font-size: 3.5mm\"><strong>Supporting<br>Materials/Inputs</strong></td>\n        <td style=\"width: 10%; font-size: 3.5mm\"><strong>Duration</strong></td>\n        <td style=\"width: 10%; font-size: 3.5mm\"><strong>Output</strong></td>\n    </tr>";
        for (var i = 0; i < this.activities.length; i++) {
            this.htmlPDF += " <tr>";
            for (var j = 0; j < this.activities[i].length; j++) {
                if (j < 9) {
                    this.htmlPDF += " <td>" + this.activities[i][j] + "</td>";
                    if (j == 1) {
                        j = 4;
                    }
                }
            }
            for (var j = 2; j < 5; j++) {
                this.htmlPDF += " <td>" + this.activities[i][j] + "</td>";
            }
            this.htmlPDF += " </tr>";
        }
        this.htmlPDF += "\n  </table>";
        if (this.units.length > 4) {
            this.htmlPDF += "<div class=\"saut-page\">\n\n      </div>\n\n      <table style=\"width: 90%; margin-left: 5%;margin-top: 15mm;\">\n  <tr>\n    <td style=\"width: 4%\" rowspan=\"2\"><strong>No</strong></td>\n  <td style=\"width: 18%\" rowspan=\"2\"><strong>Activity</strong></td>";
            for (var i = 0; i < this.units.length; i++) {
                if (i > 3 && i < 8) {
                    this.htmlPDF += " <td style=\"width: 12%\" rowspan=\"2\"><strong>" + this.units[i] + "</strong></td>";
                }
            }
            this.htmlPDF += "\n\n  <td style=\"width: 30%\" colspan=\"3\"><strong>Quality Standard</strong></td>\n\n  </tr>\n  <tr>\n  <td style=\"width: 10%; font-size: 3.5mm\"><strong>Supporting<br>Materials/Inputs</strong></td>\n  <td style=\"width: 10%; font-size: 3.5mm\"><strong>Duration</strong></td>\n  <td style=\"width: 10%; font-size: 3.5mm\"><strong>Output</strong></td>\n  </tr>";
            for (var i = 0; i < this.activities.length; i++) {
                this.htmlPDF += " <tr>";
                for (var j = 0; j < this.activities[i].length; j++) {
                    if (j < 5 || (j > 8 && j < 13)) {
                        this.htmlPDF += " <td>" + this.activities[i][j] + "</td>";
                        if (j == 1) {
                            j = 4;
                        }
                    }
                }
                for (var j = 2; j < 5; j++) {
                    this.htmlPDF += " <td>" + this.activities[i][j] + "</td>";
                }
                this.htmlPDF += " </tr>";
            }
            this.htmlPDF += "\n  </table>";
        }
        if (this.units.length > 7) {
            this.htmlPDF += "<div class=\"saut-page\">\n\n      </div>\n\n      <table style=\"width: 90%; margin-left: 5%;margin-top: 15mm;\">\n  <tr>\n    <td style=\"width: 4%\" rowspan=\"2\"><strong>No</strong></td>\n  <td style=\"width: 18%\" rowspan=\"2\"><strong>Activity</strong></td>";
            for (var i = 0; i < this.units.length; i++) {
                if (i > 7 && i < 12) {
                    this.htmlPDF += " <td style=\"width: 12%\" rowspan=\"2\"><strong>" + this.units[i] + "</strong></td>";
                }
            }
            this.htmlPDF += "\n\n  <td style=\"width: 30%\" colspan=\"3\"><strong>Quality Standard</strong></td>\n\n  </tr>\n  <tr>\n  <td style=\"width: 10%; font-size: 3.5mm\"><strong>Supporting<br>Materials/Inputs</strong></td>\n  <td style=\"width: 10%; font-size: 3.5mm\"><strong>Duration</strong></td>\n  <td style=\"width: 10%; font-size: 3.5mm\"><strong>Output</strong></td>\n  </tr>";
            for (var i = 0; i < this.activities.length; i++) {
                this.htmlPDF += " <tr>";
                for (var j = 0; j < this.activities[i].length; j++) {
                    if (j < 5 || (j > 12 && j < 17)) {
                        this.htmlPDF += " <td>" + this.activities[i][j] + "</td>";
                        if (j == 1) {
                            j = 4;
                        }
                    }
                }
                for (var j = 2; j < 5; j++) {
                    this.htmlPDF += " <td>" + this.activities[i][j] + "</td>";
                }
                this.htmlPDF += " </tr>";
            }
            this.htmlPDF += "\n  </table>";
        }
        this.htmlPDF += "\n  \n</body>\n\n</html>";
    };
    PdfSopComponent.prototype.download = function () {
        return __awaiter(this, void 0, void 0, function () {
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (this.sop_pdf_button == true) {
                            this.title = "sop-" + this.sop_title;
                        }
                        else {
                            this.title = "project-" + this.project.project_title;
                        }
                        return [4 /*yield*/, this._pdfService.generatePdf(this.htmlPDF)
                                .subscribe(function (res) {
                                if (!window.navigator.msSaveOrOpenBlob) {
                                    // BLOB NAVIGATOR
                                    var url = window.URL.createObjectURL(new Blob([res]));
                                    var link = document.createElement('a');
                                    link.href = url;
                                    link.setAttribute('download', _this.title + ".pdf");
                                    document.body.appendChild(link);
                                    link.click();
                                }
                                else {
                                    // BLOB FOR EXPLORER 11
                                    var url = window.navigator.msSaveOrOpenBlob(new Blob([res]), "" + res['data'] + name + ".pdf");
                                }
                            }, function (error) {
                                console.log("ERREUR : ", error);
                            })];
                    case 1:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    PdfSopComponent.prototype.getAllSopFromProject = function (idProject) {
        return __awaiter(this, void 0, void 0, function () {
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this._projectService.selectAllFromProject(idProject)
                            .subscribe(function (res) {
                            // Take all the sop informations and preparing them for display in the var
                            _this.sop_id = res['data'][0]['sop_id'];
                            _this.sop_creation = new Date(res['data'][0]['sop_creation']);
                            _this.sop_revision = new Date(res['data'][0]['sop_revision']);
                            _this.sop_published = new Date(res['data'][0]['sop_published']);
                            _this.sop_approvment = res['data'][0]['sop_approvment'];
                            _this.sop_rules = res['data'][0]['sop_rules'];
                            _this.sop_warning = res['data'][0]['sop_warning'];
                            _this.sop_staff_qualification = res['data'][0]['sop_staff_qualification'];
                            _this.sop_tools = res['data'][0]['sop_tools'];
                            _this.sop_type_reports = res['data'][0]['sop_type_reports'];
                            _this.sop_objectives = res['data'][0]['sop_objectives'];
                            _this.sop_title = res['data'][0]['sop_title'];
                            //creating a table of the units working for this project
                            var counter = 0;
                            for (var _i = 0, _a = res['data']; _i < _a.length; _i++) {
                                var job = _a[_i];
                                for (var _b = 0, _c = job['activities']; _b < _c.length; _b++) {
                                    var activitie = _c[_b];
                                    for (var _d = 0, _e = activitie['activity_unit']; _d < _e.length; _d++) {
                                        var unit = _e[_d];
                                        if (!_this.isInUnitTable(unit)) {
                                            if (counter == 0) {
                                                _this.units[0] = unit;
                                            }
                                            else {
                                                _this.units.push(unit);
                                            }
                                        }
                                        counter = counter + 1;
                                    }
                                }
                            }
                            //End unit tab filling up
                            var tmp_activites = [];
                            var counter2 = 0;
                            for (var _f = 0, _g = res['data']; _f < _g.length; _f++) {
                                var job = _g[_f];
                                for (var _h = 0, _j = job['activities']; _h < _j.length; _h++) {
                                    var activitie = _j[_h];
                                    var boolean_test = false;
                                    for (var f = 0; f < tmp_activites.length; f++) {
                                        if (activitie['activity_id'] == tmp_activites[f]) {
                                            boolean_test = true;
                                        }
                                    }
                                    if (boolean_test == false) {
                                        tmp_activites.push(activitie['activity_id']);
                                        if (activitie['activity_id_is_father'] == null) {
                                            if (activitie['activity_type'] != "sop") {
                                                var temp = [];
                                                temp.push(activitie['activity_id']);
                                                temp.push(activitie['activity_title'] + " : " + activitie['activity_description']);
                                                temp.push(activitie['activity_type']);
                                                temp.push(activitie['activity_duration'] + " " + activitie['activity_type_duration']);
                                                temp.push(activitie['activity_type_output']);
                                                for (var _k = 0, _l = _this.units; _k < _l.length; _k++) {
                                                    var i = _l[_k];
                                                    temp.push("");
                                                }
                                                if (_this.activities[0] == "") {
                                                    _this.activities[0] = temp;
                                                }
                                                else {
                                                    _this.activities.push(temp);
                                                }
                                            }
                                        }
                                        else {
                                            var pointeur = 0;
                                            for (var j = 0; j < _this.activities.length; j++) {
                                                if (_this.activities[j][0] === activitie['activity_id_is_father'] && activitie['activity_type'] != "super_activity") {
                                                    if (activitie['activity_unit'] !== null) {
                                                        var points = 0;
                                                        var res_1 = void 0;
                                                        for (var k = 0; k < _this.units.length; k++) {
                                                            if (_this.units[k] == activitie['activity_unit'][0]) {
                                                                res_1 = points;
                                                            }
                                                            points = points + 1;
                                                        }
                                                        if (res_1 !== null) {
                                                            if (_this.activities[pointeur][res_1 + 5] == "") {
                                                                _this.activities[pointeur][res_1 + 5] += "- " + activitie['activity_title'] + " : " + activitie['activity_description'];
                                                            }
                                                            else {
                                                                _this.activities[pointeur][res_1 + 5] += "</br></br>- " + activitie['activity_title'] + " : " + activitie['activity_description'];
                                                            }
                                                        }
                                                    }
                                                }
                                                pointeur = pointeur + 1;
                                            }
                                        } //
                                    }
                                }
                            }
                        }, //end subscribe
                        function (//end subscribe
                        error) {
                            console.log("ERREUR : ", error);
                        })];
                    case 1:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    PdfSopComponent.prototype.getAllSopFromProject2 = function () {
        return __awaiter(this, void 0, void 0, function () {
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this._projectService.selectAllFromSOP(this.sop_id)
                            .subscribe(function (res) {
                            // Take all the sop informations and preparing them for display in the var
                            _this.sop_id = res['data']['sop_id'];
                            _this.sop_creation = new Date(res['data']['sop_creation']);
                            _this.sop_revision = new Date(res['data']['sop_revision']);
                            _this.sop_published = new Date(res['data']['sop_published']);
                            _this.sop_approvment = res['data']['sop_approvment'];
                            _this.sop_rules = res['data']['sop_rules'];
                            _this.sop_warning = res['data']['sop_warning'];
                            _this.sop_staff_qualification = res['data']['sop_staff_qualification'];
                            _this.sop_tools = res['data']['sop_tools'];
                            _this.sop_type_reports = res['data']['sop_type_reports'];
                            _this.sop_objectives = res['data']['sop_objectives'];
                            _this.sop_title = res['data']['sop_title'];
                            //creating a table of the units working for this project
                            var counter = 0;
                            for (var _i = 0, _a = res['data']['jobs']; _i < _a.length; _i++) {
                                var job = _a[_i];
                                for (var _b = 0, _c = job['activities']; _b < _c.length; _b++) {
                                    var activitie = _c[_b];
                                    for (var _d = 0, _e = activitie['activity_unit']; _d < _e.length; _d++) {
                                        var unit = _e[_d];
                                        if (!_this.isInUnitTable(unit)) {
                                            if (counter == 0) {
                                                _this.units[0] = unit;
                                            }
                                            else {
                                                _this.units.push(unit);
                                            }
                                        }
                                        counter = counter + 1;
                                    }
                                }
                            }
                            //End unit tab filling up
                            var tmp_activites = [];
                            var counter2 = 0;
                            for (var _f = 0, _g = res['data']['jobs']; _f < _g.length; _f++) {
                                var job = _g[_f];
                                for (var _h = 0, _j = job['activities']; _h < _j.length; _h++) {
                                    var activitie = _j[_h];
                                    var boolean_test = false;
                                    for (var f = 0; f < tmp_activites.length; f++) {
                                        if (activitie['activity_id'] == tmp_activites[f]) {
                                            boolean_test = true;
                                        }
                                    }
                                    if (boolean_test == false) {
                                        tmp_activites.push(activitie['activity_id']);
                                        if (activitie['activity_id_is_father'] == null) {
                                            if (activitie['activity_type'] != "sop") {
                                                var temp = [];
                                                temp.push(activitie['activity_id']);
                                                temp.push(activitie['activity_title'] + " : " + activitie['activity_description']);
                                                temp.push(activitie['activity_type']);
                                                temp.push(activitie['activity_duration'] + " " + activitie['activity_type_duration']);
                                                temp.push(activitie['activity_type_output']);
                                                for (var _k = 0, _l = _this.units; _k < _l.length; _k++) {
                                                    var i = _l[_k];
                                                    temp.push("");
                                                }
                                                if (_this.activities[0] == "") {
                                                    _this.activities[0] = temp;
                                                }
                                                else {
                                                    _this.activities.push(temp);
                                                }
                                            }
                                        }
                                        else {
                                            var pointeur = 0;
                                            for (var j = 0; j < _this.activities.length; j++) {
                                                if (_this.activities[j][0] === activitie['activity_id_is_father'] && activitie['activity_type'] != "super_activity") {
                                                    if (activitie['activity_unit'] !== null) {
                                                        var points = 0;
                                                        var res_2 = void 0;
                                                        for (var k = 0; k < _this.units.length; k++) {
                                                            if (_this.units[k] == activitie['activity_unit'][0]) {
                                                                res_2 = points;
                                                            }
                                                            points = points + 1;
                                                        }
                                                        if (res_2 !== null) {
                                                            if (_this.activities[pointeur][res_2 + 5] == "") {
                                                                _this.activities[pointeur][res_2 + 5] += "- " + activitie['activity_title'] + " : " + activitie['activity_description'];
                                                            }
                                                            else {
                                                                _this.activities[pointeur][res_2 + 5] += "</br></br>- " + activitie['activity_title'] + " : " + activitie['activity_description'];
                                                            }
                                                        }
                                                    }
                                                }
                                                pointeur = pointeur + 1;
                                            }
                                        } //
                                    }
                                }
                            }
                        }, //end subscribe
                        function (//end subscribe
                        error) {
                            console.log("ERREUR : ", error);
                        })];
                    case 1:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    PdfSopComponent.prototype.getOrganisation = function (idSubDepartment) {
        return __awaiter(this, void 0, void 0, function () {
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this._organisationService.selectSchema(idSubDepartment)
                            .subscribe(function (res) {
                            _this.sub_department_name = res['data'][0]['sub_department_name'];
                            _this.department_name = res['data'][0]['department_name'];
                            _this.branch_name = res['data'][0]['branch_name'];
                            _this.organisation_name = res['data'][0]['organisation_name'];
                        }, function (error) {
                            console.log("ERREUR : ", error);
                        })];
                    case 1:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    PdfSopComponent.prototype.getSOP = function (idSop) {
        return __awaiter(this, void 0, void 0, function () {
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this._sopService.getSop(idSop)
                            .subscribe(function (res) {
                            //this.res=res['data'];
                            _this.sop_creation = new Date(res['data']['sop_creation']);
                            _this.sop_revision = new Date(res['data']['sop_revision']);
                            _this.sop_published = new Date(res['data']['sop_published']);
                            _this.sop_approvment = res['data']['sop_approvment'];
                            _this.sop_rules = res['data']['sop_rules'];
                            _this.sop_warning = res['data']['sop_warning'];
                            _this.sop_staff_qualification = res['data']['sop_staff_qualification'];
                            _this.sop_tools = res['data']['sop_tools'];
                            _this.sop_type_reports = res['data']['sop_type_reports'];
                            _this.sop_objectives = res['data']['sop_objectives'];
                            _this.sop_title = res['data']['sop_title'];
                            _this.getAllSopFromProject2();
                        }, function (error) {
                            console.log("ERREUR : ", error);
                        })];
                    case 1:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    PdfSopComponent.prototype.getProject = function (idProject) {
        return __awaiter(this, void 0, void 0, function () {
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this._projectService.getProject(idProject)
                            .subscribe(function (res) {
                            _this.project = res['data'];
                            _this.getOrganisation(res['data']['sub_department_id']);
                            _this.getAllSopFromProject(idProject);
                        }, function (error) {
                            console.log("ERREUR : ", error);
                        })];
                    case 1:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    PdfSopComponent.prototype.isInUnitTable = function (value) {
        var exist = false;
        for (var _i = 0, _a = this.units; _i < _a.length; _i++) {
            var pin = _a[_i];
            if (pin == value && !exist) {
                exist = true;
            }
        }
        return exist;
    };
    PdfSopComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-pdf-sop',
            template: __webpack_require__(/*! ./pdf-sop.component.html */ "./src/app/documents/pdf-sop/pdf-sop.component.html"),
            styles: [__webpack_require__(/*! ./pdf-sop.component.scss */ "./src/app/documents/pdf-sop/pdf-sop.component.scss")]
        }),
        __metadata("design:paramtypes", [_objects_organisation_organisation_service__WEBPACK_IMPORTED_MODULE_2__["OrganisationService"],
            _objects_branch_branch_service__WEBPACK_IMPORTED_MODULE_3__["BranchService"],
            _objects_department_department_service__WEBPACK_IMPORTED_MODULE_4__["DepartmentService"],
            _objects_sub_department_sub_department_service__WEBPACK_IMPORTED_MODULE_5__["SubDepartmentService"],
            _objects_sop_sop_service__WEBPACK_IMPORTED_MODULE_6__["SopService"],
            _objects_project_project_service__WEBPACK_IMPORTED_MODULE_8__["ProjectService"],
            _objects_pdf_pdf_service__WEBPACK_IMPORTED_MODULE_9__["PdfService"]])
    ], PdfSopComponent);
    return PdfSopComponent;
}());



/***/ }),

/***/ "./src/app/guards/auth.guard.ts":
/*!**************************************!*\
  !*** ./src/app/guards/auth.guard.ts ***!
  \**************************************/
/*! exports provided: AuthGuard */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AuthGuard", function() { return AuthGuard; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _objects_member_member_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./../objects/member/member.service */ "./src/app/objects/member/member.service.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
/* harmony import */ var rxjs_internal_operators__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! rxjs/internal/operators */ "./node_modules/rxjs/internal/operators/index.js");
/* harmony import */ var rxjs_internal_operators__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(rxjs_internal_operators__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






var AuthGuard = /** @class */ (function () {
    function AuthGuard(memberService, myRoute) {
        this.memberService = memberService;
        this.myRoute = myRoute;
    }
    /*canActivate(
      next: ActivatedRouteSnapshot,
      state: RouterStateSnapshot){
      if(this.memberService.isLoggedIn()){
        return true;
      }else{
        this.myRoute.navigate(["authentification"]);
        return false;
      }
    }*/
    AuthGuard.prototype.canActivate = function () {
        var _this = this;
        //get user data
        return this.memberService.setUserDetails().pipe(Object(rxjs_internal_operators__WEBPACK_IMPORTED_MODULE_4__["catchError"])(function (err) {
            _this.memberService.logout();
            _this.myRoute.navigate(['/authentification']);
            return Object(rxjs__WEBPACK_IMPORTED_MODULE_5__["throwError"])('some message');
        }), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["map"])(function (res) {
            if (res !== null) {
                _this.memberService.storeUserDataFull(res['data']);
                return true;
            }
            else {
                _this.memberService.logout();
                _this.myRoute.navigate(['/authentification']);
                return false;
            }
        }));
    };
    AuthGuard = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])(),
        __metadata("design:paramtypes", [_objects_member_member_service__WEBPACK_IMPORTED_MODULE_1__["MemberService"],
            _angular_router__WEBPACK_IMPORTED_MODULE_2__["Router"]])
    ], AuthGuard);
    return AuthGuard;
}());



/***/ }),

/***/ "./src/app/helpers/date-helper/date-helper.component.html":
/*!****************************************************************!*\
  !*** ./src/app/helpers/date-helper/date-helper.component.html ***!
  \****************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<p>\r\n  date-helper works!\r\n</p>\r\n"

/***/ }),

/***/ "./src/app/helpers/date-helper/date-helper.component.scss":
/*!****************************************************************!*\
  !*** ./src/app/helpers/date-helper/date-helper.component.scss ***!
  \****************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/helpers/date-helper/date-helper.component.ts":
/*!**************************************************************!*\
  !*** ./src/app/helpers/date-helper/date-helper.component.ts ***!
  \**************************************************************/
/*! exports provided: DateHelperComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DateHelperComponent", function() { return DateHelperComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

var DateHelperComponent = /** @class */ (function () {
    function DateHelperComponent() {
    }
    DateHelperComponent.prototype.ngOnInit = function () {
    };
    DateHelperComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-date-helper',
            template: __webpack_require__(/*! ./date-helper.component.html */ "./src/app/helpers/date-helper/date-helper.component.html"),
            styles: [__webpack_require__(/*! ./date-helper.component.scss */ "./src/app/helpers/date-helper/date-helper.component.scss")]
        }),
        __metadata("design:paramtypes", [])
    ], DateHelperComponent);
    return DateHelperComponent;
}());



/***/ }),

/***/ "./src/app/helpers/text-helper/text-helper.component.html":
/*!****************************************************************!*\
  !*** ./src/app/helpers/text-helper/text-helper.component.html ***!
  \****************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<p>\r\n  text-helper works!\r\n</p>\r\n"

/***/ }),

/***/ "./src/app/helpers/text-helper/text-helper.component.scss":
/*!****************************************************************!*\
  !*** ./src/app/helpers/text-helper/text-helper.component.scss ***!
  \****************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/helpers/text-helper/text-helper.component.ts":
/*!**************************************************************!*\
  !*** ./src/app/helpers/text-helper/text-helper.component.ts ***!
  \**************************************************************/
/*! exports provided: TextHelperComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TextHelperComponent", function() { return TextHelperComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

var TextHelperComponent = /** @class */ (function () {
    function TextHelperComponent() {
    }
    TextHelperComponent.prototype.ngOnInit = function () {
    };
    TextHelperComponent.prototype.firstLetterUpperCase = function (string) {
        return string.charAt(0).toUpperCase() + string.slice(1);
    };
    TextHelperComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-text-helper',
            template: __webpack_require__(/*! ./text-helper.component.html */ "./src/app/helpers/text-helper/text-helper.component.html"),
            styles: [__webpack_require__(/*! ./text-helper.component.scss */ "./src/app/helpers/text-helper/text-helper.component.scss")]
        }),
        __metadata("design:paramtypes", [])
    ], TextHelperComponent);
    return TextHelperComponent;
}());



/***/ }),

/***/ "./src/app/objects/activity/activity.service.ts":
/*!******************************************************!*\
  !*** ./src/app/objects/activity/activity.service.ts ***!
  \******************************************************/
/*! exports provided: ActivityService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ActivityService", function() { return ActivityService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var _environments_environment__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../environments/environment */ "./src/environments/environment.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var ActivityService = /** @class */ (function () {
    function ActivityService(http, router) {
        this.http = http;
        this.router = router;
        this.domain = _environments_environment__WEBPACK_IMPORTED_MODULE_2__["environment"].SERVEUR_URL;
    }
    ActivityService.prototype.createActivity = function (activity) {
        var body = {
            activity_description: activity.activity_description,
            activity_shape: activity.activity_shape,
            activity_title: activity.activity_title,
            activity_id_is_father: activity.activity_id_is_father,
            sop_id: activity.sop_id,
            activity_type_duration: activity.activity_type_duration,
            activity_duration: activity.activity_duration,
            activity_type: activity.activity_type,
            activity_type_output: activity.activity_type_output,
            managment_level_id: activity.managment_level_id
        };
        console.log('Create activity : ', body);
        this.generateHeaders();
        return this.http.post(this.domain + '/api/activity/create', body, this.httpOptions);
    };
    ActivityService.prototype.select = function (activity_id) {
        this.generateHeaders();
        return this.http.get(this.domain + '/api/activity/find_one/' + activity_id, this.httpOptions);
    };
    ActivityService.prototype.selectAllFromSop = function (sop_id) {
        this.generateHeaders();
        return this.http.get(this.domain + '/api/activity/all_from_sop/' + sop_id, this.httpOptions);
    };
    ActivityService.prototype.selectAllFromJob = function (job_id) {
        this.generateHeaders();
        return this.http.get(this.domain + '/api/activity/all_from_job/' + job_id, this.httpOptions);
    };
    ActivityService.prototype.selectAllFromUnit = function (unit_id) {
        this.generateHeaders();
        return this.http.get(this.domain + '/api/activity/all_from_unit/' + unit_id, this.httpOptions);
    };
    ActivityService.prototype.selectAllFromProject = function (project_id) {
        this.generateHeaders();
        return this.http.get(this.domain + '/api/activity/all_from_project/' + project_id, this.httpOptions);
    };
    ActivityService.prototype.update = function (activity) {
        var body = {
            activity_id: activity.activity_id,
            activity_description: activity.activity_description,
            activity_shape: activity.activity_shape,
            activity_title: activity.activity_title,
            activity_id_is_father: activity.activity_id_is_father,
            sop_id: activity.sop_id,
            activity_type_duration: activity.activity_type_duration,
            activity_duration: activity.activity_duration,
            activity_type: activity.activity_type,
            activity_type_output: activity.activity_type_output,
            managment_level_id: activity.managment_level_id
        };
        console.log('Update activity : ', body);
        this.generateHeaders();
        return this.http.put(this.domain + '/api/activity/update', body, this.httpOptions);
    };
    //If job_id is null => We delete only the activity. Else => we delete the activity, its sub activities, and the job linked to all of them.
    ActivityService.prototype.delete = function (activity_id, job_id) {
        this.generateHeaders();
        console.log("activity id : ", activity_id);
        return this.http.delete(this.domain + '/api/activity/delete?job_id=' + job_id + '&activity_id=' + activity_id, this.httpOptions);
    };
    ActivityService.prototype.generateHeaders = function () {
        if (localStorage.getItem("Token") === null) {
            this.httpOptions = {
                headers: new _angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpHeaders"]({
                    'Content-Type': 'application/json'
                })
            };
        }
        else {
            this.httpOptions = {
                headers: new _angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpHeaders"]({
                    'Content-Type': 'application/json',
                    'Authorization': localStorage.getItem("Token")
                })
            };
        }
    };
    ActivityService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({
            providedIn: 'root'
        }),
        __metadata("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpClient"],
            _angular_router__WEBPACK_IMPORTED_MODULE_3__["Router"]])
    ], ActivityService);
    return ActivityService;
}());



/***/ }),

/***/ "./src/app/objects/activity/activity.ts":
/*!**********************************************!*\
  !*** ./src/app/objects/activity/activity.ts ***!
  \**********************************************/
/*! exports provided: Activity */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Activity", function() { return Activity; });
var Activity = /** @class */ (function () {
    function Activity() {
    }
    return Activity;
}());



/***/ }),

/***/ "./src/app/objects/branch/branch.service.ts":
/*!**************************************************!*\
  !*** ./src/app/objects/branch/branch.service.ts ***!
  \**************************************************/
/*! exports provided: BranchService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BranchService", function() { return BranchService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var _environments_environment__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../environments/environment */ "./src/environments/environment.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var BranchService = /** @class */ (function () {
    function BranchService(http) {
        this.http = http;
        this.domain = _environments_environment__WEBPACK_IMPORTED_MODULE_2__["environment"].SERVEUR_URL;
    }
    BranchService.prototype.generateHeaders = function () {
        if (localStorage.getItem("Token") === null) {
            this.httpOptions = {
                headers: new _angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpHeaders"]({
                    'Content-Type': 'application/json'
                })
            };
        }
        else {
            this.httpOptions = {
                headers: new _angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpHeaders"]({
                    'Content-Type': 'application/json',
                    'Authorization': localStorage.getItem("Token")
                })
            };
        }
    };
    BranchService.prototype.add = function (branchName, organisationId) {
        var body = {
            branch_name: branchName,
            organisation_id: organisationId
        };
        this.generateHeaders();
        return this.http.post(this.domain + '/api/branch/create', body, this.httpOptions);
    };
    BranchService.prototype.selectAllFromOrganisation = function (organisation) {
        this.generateHeaders();
        return this.http.get(this.domain + '/api/branch/all?organisation=' + organisation, this.httpOptions);
    };
    BranchService.prototype.delete = function (branch) {
        this.generateHeaders();
        return this.http.delete(this.domain + '/api/branch/delete/' + branch, this.httpOptions);
    };
    BranchService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({
            providedIn: 'root'
        }),
        __metadata("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpClient"]])
    ], BranchService);
    return BranchService;
}());



/***/ }),

/***/ "./src/app/objects/department/department.service.ts":
/*!**********************************************************!*\
  !*** ./src/app/objects/department/department.service.ts ***!
  \**********************************************************/
/*! exports provided: DepartmentService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DepartmentService", function() { return DepartmentService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var _environments_environment__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../environments/environment */ "./src/environments/environment.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var DepartmentService = /** @class */ (function () {
    function DepartmentService(http) {
        this.http = http;
        this.domain = _environments_environment__WEBPACK_IMPORTED_MODULE_2__["environment"].SERVEUR_URL;
    }
    DepartmentService.prototype.generateHeaders = function () {
        if (localStorage.getItem("Token") === null) {
            this.httpOptions = {
                headers: new _angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpHeaders"]({
                    'Content-Type': 'application/json'
                })
            };
        }
        else {
            this.httpOptions = {
                headers: new _angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpHeaders"]({
                    'Content-Type': 'application/json',
                    'Authorization': localStorage.getItem("Token")
                })
            };
        }
    };
    DepartmentService.prototype.add = function (departmentName, branchId) {
        var body = {
            department_name: departmentName,
            branch_id: branchId
        };
        this.generateHeaders();
        return this.http.post(this.domain + '/api/department/create', body, this.httpOptions);
    };
    DepartmentService.prototype.selectAllFromBranch = function (branch) {
        this.generateHeaders();
        return this.http.get(this.domain + '/api/department/all?branch=' + branch, this.httpOptions);
    };
    DepartmentService.prototype.delete = function (department) {
        this.generateHeaders();
        return this.http.delete(this.domain + '/api/department/delete/' + department, this.httpOptions);
    };
    DepartmentService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({
            providedIn: 'root'
        }),
        __metadata("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpClient"]])
    ], DepartmentService);
    return DepartmentService;
}());



/***/ }),

/***/ "./src/app/objects/execute/execute.service.ts":
/*!****************************************************!*\
  !*** ./src/app/objects/execute/execute.service.ts ***!
  \****************************************************/
/*! exports provided: ExecuteService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ExecuteService", function() { return ExecuteService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _environments_environment__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../environments/environment */ "./src/environments/environment.ts");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var ExecuteService = /** @class */ (function () {
    function ExecuteService(http, router) {
        this.http = http;
        this.router = router;
        this.domain = _environments_environment__WEBPACK_IMPORTED_MODULE_1__["environment"].SERVEUR_URL;
    }
    ExecuteService.prototype.update = function (unit_id, activity_id) {
        var body = {
            unit_id: unit_id,
            activity_id: activity_id
        };
        this.generateHeaders();
        return this.http.put(this.domain + '/api/unit/update_execute', body, this.httpOptions);
    };
    ExecuteService.prototype.generateHeaders = function () {
        if (localStorage.getItem("Token") === null) {
            this.httpOptions = {
                headers: new _angular_common_http__WEBPACK_IMPORTED_MODULE_2__["HttpHeaders"]({
                    'Content-Type': 'application/json'
                })
            };
        }
        else {
            this.httpOptions = {
                headers: new _angular_common_http__WEBPACK_IMPORTED_MODULE_2__["HttpHeaders"]({
                    'Content-Type': 'application/json',
                    'Authorization': localStorage.getItem("Token")
                })
            };
        }
    };
    ExecuteService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({
            providedIn: 'root'
        }),
        __metadata("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_2__["HttpClient"],
            _angular_router__WEBPACK_IMPORTED_MODULE_3__["Router"]])
    ], ExecuteService);
    return ExecuteService;
}());



/***/ }),

/***/ "./src/app/objects/job/job.service.ts":
/*!********************************************!*\
  !*** ./src/app/objects/job/job.service.ts ***!
  \********************************************/
/*! exports provided: JobService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "JobService", function() { return JobService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var _environments_environment__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../environments/environment */ "./src/environments/environment.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var JobService = /** @class */ (function () {
    function JobService(http, router) {
        this.http = http;
        this.router = router;
        this.domain = _environments_environment__WEBPACK_IMPORTED_MODULE_2__["environment"].SERVEUR_URL;
    }
    JobService.prototype.createJob = function (job_name, jobe_code, sop_id) {
        var body = {
            job_name: job_name,
            job_code: jobe_code,
            sop_id: sop_id
        };
        console.log('create job : ', body);
        this.generateHeaders();
        return this.http.post(this.domain + '/api/job/create', body, this.httpOptions);
    };
    JobService.prototype.select = function (job_id) {
        this.generateHeaders();
        return this.http.get(this.domain + '/api/job/find_one/' + job_id, this.httpOptions);
    };
    JobService.prototype.selectFromActivity = function (activity_id) {
        this.generateHeaders();
        return this.http.get(this.domain + '/api/job/all_from_activity/' + activity_id, this.httpOptions);
    };
    JobService.prototype.selectAllFromProject = function (project_id) {
        this.generateHeaders();
        return this.http.get(this.domain + '/api/job/all_from_project/' + project_id, this.httpOptions);
    };
    JobService.prototype.selectAllFromSop = function (sop_id) {
        this.generateHeaders();
        return this.http.get(this.domain + '/api/job/all_from_sop/' + sop_id, this.httpOptions);
    };
    JobService.prototype.bind_job_activity = function (job_id, activity_id) {
        this.generateHeaders();
        var body = {
            activity_id: activity_id,
            job_id: job_id
        };
        console.log('bind_job_activity : ', body);
        return this.http.post(this.domain + '/api/job/bind_job_activity/', body, this.httpOptions);
    };
    JobService.prototype.computeDateEnd = function (jobs, date_begin) {
        var body = {
            jobs: jobs,
            date_begin: date_begin
        };
        console.log('body : ', body);
        this.generateHeaders();
        return this.http.post(this.domain + '/api/job/compute_end_date', body, this.httpOptions);
    };
    JobService.prototype.generateHeaders = function () {
        if (localStorage.getItem("Token") === null) {
            this.httpOptions = {
                headers: new _angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpHeaders"]({
                    'Content-Type': 'application/json'
                })
            };
        }
        else {
            this.httpOptions = {
                headers: new _angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpHeaders"]({
                    'Content-Type': 'application/json',
                    'Authorization': localStorage.getItem("Token")
                })
            };
        }
    };
    JobService.prototype.getJobIdLocal = function () {
        if (localStorage.getItem("Job_id") === null) {
            this.router.navigate(['/', 'job-list']);
        }
        else {
            var job_id = localStorage.getItem('Job_id');
            return job_id;
        }
    };
    JobService.prototype.removeJobIdLocal = function () {
        localStorage.removeItem('Job_id');
    };
    JobService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({
            providedIn: 'root'
        }),
        __metadata("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpClient"],
            _angular_router__WEBPACK_IMPORTED_MODULE_3__["Router"]])
    ], JobService);
    return JobService;
}());



/***/ }),

/***/ "./src/app/objects/job/job.ts":
/*!************************************!*\
  !*** ./src/app/objects/job/job.ts ***!
  \************************************/
/*! exports provided: Job */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Job", function() { return Job; });
var Job = /** @class */ (function () {
    function Job() {
    }
    return Job;
}());



/***/ }),

/***/ "./src/app/objects/managment_level/managment-level.service.ts":
/*!********************************************************************!*\
  !*** ./src/app/objects/managment_level/managment-level.service.ts ***!
  \********************************************************************/
/*! exports provided: ManagmentLevelService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ManagmentLevelService", function() { return ManagmentLevelService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var _environments_environment__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../environments/environment */ "./src/environments/environment.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var ManagmentLevelService = /** @class */ (function () {
    function ManagmentLevelService(http) {
        this.http = http;
        this.domain = _environments_environment__WEBPACK_IMPORTED_MODULE_2__["environment"].SERVEUR_URL;
    }
    ManagmentLevelService.prototype.generateHeaders = function () {
        if (localStorage.getItem("Token") === null) {
            this.httpOptions = {
                headers: new _angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpHeaders"]({
                    'Content-Type': 'application/json'
                })
            };
        }
        else {
            this.httpOptions = {
                headers: new _angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpHeaders"]({
                    'Content-Type': 'application/json',
                    'Authorization': localStorage.getItem("Token")
                })
            };
        }
    };
    ManagmentLevelService.prototype.selectAll = function () {
        this.generateHeaders();
        return this.http.get(this.domain + '/api/managment_level/all', this.httpOptions);
    };
    ManagmentLevelService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({
            providedIn: 'root'
        }),
        __metadata("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpClient"]])
    ], ManagmentLevelService);
    return ManagmentLevelService;
}());



/***/ }),

/***/ "./src/app/objects/managment_level/managment_level.ts":
/*!************************************************************!*\
  !*** ./src/app/objects/managment_level/managment_level.ts ***!
  \************************************************************/
/*! exports provided: ManagmentLevel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ManagmentLevel", function() { return ManagmentLevel; });
var ManagmentLevel = /** @class */ (function () {
    function ManagmentLevel() {
    }
    return ManagmentLevel;
}());



/***/ }),

/***/ "./src/app/objects/member/member.service.ts":
/*!**************************************************!*\
  !*** ./src/app/objects/member/member.service.ts ***!
  \**************************************************/
/*! exports provided: MemberService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MemberService", function() { return MemberService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var _environments_environment__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../environments/environment */ "./src/environments/environment.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var MemberService = /** @class */ (function () {
    function MemberService(http) {
        this.http = http;
        this.domain = _environments_environment__WEBPACK_IMPORTED_MODULE_2__["environment"].SERVEUR_URL;
    }
    MemberService.prototype.select = function (member_id) {
        this.generateHeaders();
        return this.http.get(this.domain + '/api/member/find_one/' + member_id, this.httpOptions);
    };
    MemberService.prototype.auth = function (mail, password) {
        var body = {
            mail: mail,
            password: password
        };
        this.generateHeaders();
        return this.http.post(this.domain + '/api/member/login', body, this.httpOptions);
    };
    MemberService.prototype.seedCheck = function (seed) {
        var body = {
            seed: seed
        };
        this.generateHeaders();
        return this.http.put(this.domain + '/api/member/validate_registration', body, this.httpOptions);
    };
    MemberService.prototype.register = function (mail, password, first_name, name, is_admin, sub_department_id, managment_level) {
        var body = {
            mail: mail,
            password: password,
            first_name: first_name,
            name: name,
            is_admin: is_admin,
            sub_department_id: sub_department_id,
            managment_level_id: managment_level
        };
        this.generateHeaders();
        return this.http.post(this.domain + '/api/member/register', body, this.httpOptions);
    };
    MemberService.prototype.generateHeaders = function () {
        if (localStorage.getItem("Token") === null) {
            this.httpOptions = {
                headers: new _angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpHeaders"]({
                    'Content-Type': 'application/json'
                })
            };
        }
        else {
            this.httpOptions = {
                headers: new _angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpHeaders"]({
                    'Content-Type': 'application/json',
                    'Authorization': localStorage.getItem("Token")
                })
            };
        }
    };
    MemberService.prototype.storeUserData = function (token) {
        localStorage.setItem('Token', "Bearer " + token);
    };
    MemberService.prototype.storeUserDataFull = function (user) {
        localStorage.setItem('Id', user['member_id']);
        localStorage.setItem('FirstName', user['member_first_name']);
        localStorage.setItem('Name', user['member_name']);
        localStorage.setItem('Mail', user['member_mail']);
    };
    MemberService.prototype.getUserDataFull = function () {
        if (localStorage.getItem("Mail") === null) {
            return {
                mail: "Erreur",
                first_name: "Erreur",
                name: "Erreur"
            };
        }
        else {
            return {
                id: localStorage.getItem("Id"),
                mail: localStorage.getItem("Mail"),
                first_name: localStorage.getItem("FirstName"),
                name: localStorage.getItem("Name")
            };
        }
    };
    MemberService.prototype.logout = function () {
        localStorage.clear();
    };
    MemberService.prototype.getToken = function () {
        return localStorage.getItem("Token");
    };
    MemberService.prototype.isLoggedIn = function () {
        return this.getToken() !== null;
    };
    MemberService.prototype.setUserDetails = function () {
        var body = {};
        this.generateHeaders();
        return this.http.post(this.domain + '/api/member/loggedIn', body, this.httpOptions);
    };
    MemberService.prototype.selectAll = function () {
        this.generateHeaders();
        return this.http.get(this.domain + '/api/member/all', this.httpOptions);
    };
    MemberService.prototype.getAllRoles = function (idUser) {
        this.generateHeaders();
        return this.http.get(this.domain + '/api/role/member_role/' + idUser, this.httpOptions);
    };
    MemberService.prototype.selectAllWaiting = function () {
        this.generateHeaders();
        return this.http.get(this.domain + '/api/member/waiting_member', this.httpOptions);
    };
    MemberService.prototype.validateUser = function (idUser) {
        var body = {
            member_id: idUser
        };
        console.log(idUser);
        this.generateHeaders();
        return this.http.put(this.domain + '/api/member/validate_member', body, this.httpOptions);
    };
    MemberService.prototype.passwordUpdate = function (actual, newP, confP) {
        var body = {
            member_mail: localStorage.getItem("Mail"),
            old_password: actual,
            new_password1: newP,
            new_password2: confP
        };
        console.log(localStorage.getItem("Mail"));
        this.generateHeaders();
        return this.http.put(this.domain + '/api/member/update_password', body, this.httpOptions);
    };
    MemberService.prototype.grantMember = function (idUser, idRole) {
        var body = {
            member: idUser,
            role_id: idRole,
        };
        this.generateHeaders();
        return this.http.post(this.domain + '/api/role/grant_member', body, this.httpOptions);
    };
    MemberService.prototype.unGrantMember = function (idUser, idRole) {
        this.generateHeaders();
        return this.http.delete(this.domain + '/api/role/ungrant_member?member=' + idUser + '&role=' + idRole, this.httpOptions);
    };
    MemberService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({
            providedIn: 'root'
        }),
        __metadata("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpClient"]])
    ], MemberService);
    return MemberService;
}());



/***/ }),

/***/ "./src/app/objects/member_activity_project/member-activity-project.service.ts":
/*!************************************************************************************!*\
  !*** ./src/app/objects/member_activity_project/member-activity-project.service.ts ***!
  \************************************************************************************/
/*! exports provided: MemberActivityProjectService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MemberActivityProjectService", function() { return MemberActivityProjectService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _environments_environment__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../environments/environment */ "./src/environments/environment.ts");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var MemberActivityProjectService = /** @class */ (function () {
    function MemberActivityProjectService(http, router) {
        this.http = http;
        this.router = router;
        this.domain = _environments_environment__WEBPACK_IMPORTED_MODULE_1__["environment"].SERVEUR_URL;
    }
    MemberActivityProjectService.prototype.selectAllFromProject = function (project_id) {
        this.generateHeaders();
        return this.http.get(this.domain + '/api/project/all_member_activity_project/' + project_id, this.httpOptions);
    };
    MemberActivityProjectService.prototype.selectAllFromProjectFull = function (project_id) {
        this.generateHeaders();
        return this.http.get(this.domain + '/api/project/all_member_activity_project_full/' + project_id, this.httpOptions);
    };
    MemberActivityProjectService.prototype.selectAllFromProjectDistinct = function (project_id) {
        this.generateHeaders();
        return this.http.get(this.domain + '/api/project/all_member_activity_project_distinct/' + project_id, this.httpOptions);
    };
    MemberActivityProjectService.prototype.update = function (m_a_p) {
        var body = {
            project_id: m_a_p.project_id,
            job_id: m_a_p.job_id,
            member_id: m_a_p.member_id,
            activity_id: m_a_p.activity_id,
            target_date: m_a_p.target_date,
            date_begin: m_a_p.date_begin,
            evaluation: m_a_p.evaluation,
            finished_date: m_a_p.finished_date,
            sign: m_a_p.sign,
            note: m_a_p.note,
            target_quantity: m_a_p.target_quantity,
            finished_quantity: m_a_p.finished_quantity,
            finished_duration: m_a_p.finished_duration
        };
        this.generateHeaders();
        return this.http.put(this.domain + '/api/project/update_member_activity_project', body, this.httpOptions);
    };
    MemberActivityProjectService.prototype.generateHeaders = function () {
        if (localStorage.getItem("Token") === null) {
            this.httpOptions = {
                headers: new _angular_common_http__WEBPACK_IMPORTED_MODULE_2__["HttpHeaders"]({
                    'Content-Type': 'application/json'
                })
            };
        }
        else {
            this.httpOptions = {
                headers: new _angular_common_http__WEBPACK_IMPORTED_MODULE_2__["HttpHeaders"]({
                    'Content-Type': 'application/json',
                    'Authorization': localStorage.getItem("Token")
                })
            };
        }
    };
    MemberActivityProjectService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({
            providedIn: 'root'
        }),
        __metadata("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_2__["HttpClient"],
            _angular_router__WEBPACK_IMPORTED_MODULE_3__["Router"]])
    ], MemberActivityProjectService);
    return MemberActivityProjectService;
}());



/***/ }),

/***/ "./src/app/objects/member_activity_project/member-activity-project.ts":
/*!****************************************************************************!*\
  !*** ./src/app/objects/member_activity_project/member-activity-project.ts ***!
  \****************************************************************************/
/*! exports provided: MemberActivityProject */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MemberActivityProject", function() { return MemberActivityProject; });
var MemberActivityProject = /** @class */ (function () {
    function MemberActivityProject() {
    }
    return MemberActivityProject;
}());



/***/ }),

/***/ "./src/app/objects/organisation/organisation.service.ts":
/*!**************************************************************!*\
  !*** ./src/app/objects/organisation/organisation.service.ts ***!
  \**************************************************************/
/*! exports provided: OrganisationService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "OrganisationService", function() { return OrganisationService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var _environments_environment__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../environments/environment */ "./src/environments/environment.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var OrganisationService = /** @class */ (function () {
    function OrganisationService(http) {
        this.http = http;
        this.domain = _environments_environment__WEBPACK_IMPORTED_MODULE_2__["environment"].SERVEUR_URL;
    }
    OrganisationService.prototype.generateHeaders = function () {
        if (localStorage.getItem("Token") === null) {
            this.httpOptions = {
                headers: new _angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpHeaders"]({
                    'Content-Type': 'application/json'
                })
            };
        }
        else {
            this.httpOptions = {
                headers: new _angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpHeaders"]({
                    'Content-Type': 'application/json',
                    'Authorization': localStorage.getItem("Token")
                })
            };
        }
    };
    OrganisationService.prototype.add = function (organisationName) {
        var body = {
            organisation_name: organisationName
        };
        this.generateHeaders();
        return this.http.post(this.domain + '/api/organisation/create', body, this.httpOptions);
    };
    OrganisationService.prototype.selectAll = function () {
        this.generateHeaders();
        return this.http.get(this.domain + '/api/organisation/all', this.httpOptions);
    };
    OrganisationService.prototype.delete = function (organisation) {
        this.generateHeaders();
        return this.http.delete(this.domain + '/api/organisation/delete/' + organisation, this.httpOptions);
    };
    OrganisationService.prototype.selectSchema = function (sub_dep_id) {
        this.generateHeaders();
        return this.http.get(this.domain + '/api/sub_department/find_one/' + sub_dep_id, this.httpOptions);
    };
    OrganisationService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({
            providedIn: 'root'
        }),
        __metadata("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpClient"]])
    ], OrganisationService);
    return OrganisationService;
}());



/***/ }),

/***/ "./src/app/objects/pdf/pdf.service.ts":
/*!********************************************!*\
  !*** ./src/app/objects/pdf/pdf.service.ts ***!
  \********************************************/
/*! exports provided: PdfService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PdfService", function() { return PdfService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var _environments_environment__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../environments/environment */ "./src/environments/environment.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var PdfService = /** @class */ (function () {
    function PdfService(http) {
        this.http = http;
        this.domain = _environments_environment__WEBPACK_IMPORTED_MODULE_2__["environment"].SERVEUR_URL;
    }
    PdfService.prototype.generateHeaders = function () {
        if (localStorage.getItem("Token") === null) {
            this.httpOptions = {
                headers: new _angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpHeaders"]({
                    'Content-Type': 'application/json'
                })
            };
        }
        else {
            this.httpOptions = {
                headers: new _angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpHeaders"]({
                    'Content-Type': 'application/json',
                    'Authorization': localStorage.getItem("Token")
                })
            };
        }
    };
    PdfService.prototype.generatePdf = function (htmlPdf) {
        var body = {
            html: htmlPdf,
        };
        this.httpOptions = {
            headers: new _angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpHeaders"]({
                'Content-Type': 'application/json',
                'Authorization': localStorage.getItem("Token")
            }),
            responseType: 'blob'
        };
        return this.http.post(this.domain + '/api/pdf/create', body, this.httpOptions);
    };
    PdfService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({
            providedIn: 'root'
        }),
        __metadata("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpClient"]])
    ], PdfService);
    return PdfService;
}());



/***/ }),

/***/ "./src/app/objects/project/project.service.ts":
/*!****************************************************!*\
  !*** ./src/app/objects/project/project.service.ts ***!
  \****************************************************/
/*! exports provided: ProjectService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ProjectService", function() { return ProjectService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var _environments_environment__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../environments/environment */ "./src/environments/environment.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var ProjectService = /** @class */ (function () {
    function ProjectService(http, router) {
        this.http = http;
        this.router = router;
        this.domain = _environments_environment__WEBPACK_IMPORTED_MODULE_2__["environment"].SERVEUR_URL;
    }
    ProjectService.prototype.selectAll = function () {
        this.generateHeaders();
        return this.http.get(this.domain + '/api/project/all', this.httpOptions);
    };
    ProjectService.prototype.selectAllSort = function () {
        this.generateHeaders();
        return this.http.get(this.domain + '/api/project/all_state', this.httpOptions);
    };
    ProjectService.prototype.select = function (project_id) {
        this.generateHeaders();
        return this.http.get(this.domain + '/api/project/find_one/' + project_id, this.httpOptions);
    };
    ProjectService.prototype.createProject = function (project) {
        var body = {
            project_title: project.project_title,
            project_code: project.project_code,
            project_work_code: project.project_work_code,
            project_start: project.project_start,
            project_end: project.project_end,
            sub_department_id: project.sub_department_id
        };
        this.generateHeaders();
        return this.http.post(this.domain + '/api/project/create', body, this.httpOptions);
    };
    ProjectService.prototype.bindProjectJob = function (project_id, job_id) {
        var body = {
            project_id: project_id,
            job_id: job_id
        };
        this.generateHeaders();
        return this.http.post(this.domain + '/api/project/bind_project_job', body, this.httpOptions);
    };
    ProjectService.prototype.bindMemberUnitProject = function (project_id, unit_id, member_id, job_id) {
        var body = {
            project_id: project_id,
            unit_id: unit_id,
            job_id: job_id,
            member_id: member_id
        };
        this.generateHeaders();
        return this.http.post(this.domain + '/api/project/bind_member_unit_project', body, this.httpOptions);
    };
    ProjectService.prototype.bindMemberActivityProject = function (m_a_p) {
        var body = {
            project_id: m_a_p.project_id,
            job_id: m_a_p.job_id,
            member_id: m_a_p.member_id,
            activity_id: m_a_p.activity_id,
            target_date: m_a_p.target_date,
            date_begin: m_a_p.date_begin,
            evaluation: m_a_p.evaluation,
            finished_date: m_a_p.finished_date,
            sign: m_a_p.sign,
            note: m_a_p.note,
            target_quantity: m_a_p.target_quantity,
            finished_quantity: m_a_p.finished_quantity,
            finished_duration: m_a_p.finished_duration
        };
        console.log('body : ', body);
        this.generateHeaders();
        return this.http.post(this.domain + '/api/project/bind_member_activity_project', body, this.httpOptions);
    };
    ProjectService.prototype.delete = function (project_id) {
        this.generateHeaders();
        return this.http.delete(this.domain + '/api/project/delete/' + project_id, this.httpOptions);
    };
    ProjectService.prototype.generateHeaders = function () {
        if (localStorage.getItem("Token") === null) {
            this.httpOptions = {
                headers: new _angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpHeaders"]({
                    'Content-Type': 'application/json'
                })
            };
        }
        else {
            this.httpOptions = {
                headers: new _angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpHeaders"]({
                    'Content-Type': 'application/json',
                    'Authorization': localStorage.getItem("Token")
                })
            };
        }
    };
    ProjectService.prototype.getProject = function (project_id) {
        this.generateHeaders();
        return this.http.get(this.domain + '/api/project/find_One/' + project_id, this.httpOptions);
    };
    ProjectService.prototype.selectAllFromProject = function (project_id) {
        this.generateHeaders();
        return this.http.get(this.domain + '/api/activity/all_from_all_job_from_project/' + project_id, this.httpOptions);
    };
    ProjectService.prototype.selectAllFromSOP = function (sop_id) {
        this.generateHeaders();
        return this.http.get(this.domain + '/api/activity/all_from_all_job_from_sop/' + sop_id, this.httpOptions);
    };
    ProjectService.prototype.updateProject = function (project) {
        var body = {
            project_id: project.project_id,
            project_title: project.project_title,
            project_code: project.project_code,
            project_work_code: project.project_work_code,
            project_start: project.project_start,
            project_end: project.project_end,
            sub_department_id: project.sub_department_id
        };
        this.generateHeaders();
        return this.http.put(this.domain + '/api/project/update', body, this.httpOptions);
    };
    ProjectService.prototype.volume_per_days = function (project_id) {
        this.generateHeaders();
        return this.http.get(this.domain + '/api/project/volume_progress_days/' + project_id, this.httpOptions);
    };
    ProjectService.prototype.volume_per_days_pdf = function (project_id, job_id) {
        this.generateHeaders();
        return this.http.get(this.domain + '/api/project/volume_progress_days?project=' + project_id + '&job=' + job_id, this.httpOptions);
    };
    ProjectService.prototype.volume_per_weeks = function (project_id) {
        this.generateHeaders();
        return this.http.get(this.domain + '/api/project/volume_progress_weeks/' + project_id, this.httpOptions);
    };
    ProjectService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({
            providedIn: 'root'
        }),
        __metadata("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpClient"],
            _angular_router__WEBPACK_IMPORTED_MODULE_3__["Router"]])
    ], ProjectService);
    return ProjectService;
}());



/***/ }),

/***/ "./src/app/objects/project/project.ts":
/*!********************************************!*\
  !*** ./src/app/objects/project/project.ts ***!
  \********************************************/
/*! exports provided: Project */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Project", function() { return Project; });
var Project = /** @class */ (function () {
    function Project() {
    }
    return Project;
}());



/***/ }),

/***/ "./src/app/objects/role/role.service.ts":
/*!**********************************************!*\
  !*** ./src/app/objects/role/role.service.ts ***!
  \**********************************************/
/*! exports provided: RoleService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoleService", function() { return RoleService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var _environments_environment__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../environments/environment */ "./src/environments/environment.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var RoleService = /** @class */ (function () {
    function RoleService(http) {
        this.http = http;
        this.domain = _environments_environment__WEBPACK_IMPORTED_MODULE_2__["environment"].SERVEUR_URL;
    }
    RoleService.prototype.generateHeaders = function () {
        if (localStorage.getItem("Token") === null) {
            this.httpOptions = {
                headers: new _angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpHeaders"]({
                    'Content-Type': 'application/json'
                })
            };
        }
        else {
            this.httpOptions = {
                headers: new _angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpHeaders"]({
                    'Content-Type': 'application/json',
                    'Authorization': localStorage.getItem("Token")
                })
            };
        }
    };
    RoleService.prototype.selectAll = function () {
        this.generateHeaders();
        return this.http.get(this.domain + '/api/role/all', this.httpOptions);
    };
    RoleService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({
            providedIn: 'root'
        }),
        __metadata("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpClient"]])
    ], RoleService);
    return RoleService;
}());



/***/ }),

/***/ "./src/app/objects/sop/sop.service.ts":
/*!********************************************!*\
  !*** ./src/app/objects/sop/sop.service.ts ***!
  \********************************************/
/*! exports provided: SopService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SopService", function() { return SopService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var _environments_environment__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../environments/environment */ "./src/environments/environment.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var SopService = /** @class */ (function () {
    function SopService(http, router) {
        this.http = http;
        this.router = router;
        this.domain = _environments_environment__WEBPACK_IMPORTED_MODULE_2__["environment"].SERVEUR_URL;
    }
    SopService.prototype.createSop = function (sop_title, sop_creation, sop_revision, sop_published, sop_approvement, sop_rules, sop_warning, sop_staff_qualification, sop_tools, sop_type_reports, sop_objectives) {
        var body = {
            sop_title: sop_title,
            sop_creation: sop_creation,
            sop_revision: sop_revision,
            sop_published: sop_published,
            sop_approvment: sop_approvement,
            sop_rules: sop_rules,
            sop_warning: sop_warning,
            sop_staff_qualification: sop_staff_qualification,
            sop_tools: sop_tools,
            sop_type_reports: sop_type_reports,
            sop_objectives: sop_objectives
        };
        this.generateHeaders();
        return this.http.post(this.domain + '/api/sop/create', body, this.httpOptions);
    };
    SopService.prototype.updateSop = function (sop) {
        var body = {
            sop_id: sop.sop_id,
            sop_title: sop.sop_title,
            sop_approvment: sop.sop_approvment,
            sop_creation: sop.sop_creation,
            sop_objectives: sop.sop_objectives,
            sop_published: sop.sop_published,
            sop_revision: sop.sop_revision,
            sop_rules: sop.sop_rules,
            sop_staff_qualification: sop.sop_staff_qualification,
            sop_tools: sop.sop_tools,
            sop_type_reports: sop.sop_type_reports,
            sop_warning: sop.sop_warning
        };
        this.generateHeaders();
        return this.http.put(this.domain + '/api/sop/update', body, this.httpOptions);
    };
    SopService.prototype.selectAll = function () {
        this.generateHeaders();
        return this.http.get(this.domain + '/api/sop/all', this.httpOptions);
    };
    SopService.prototype.delete = function (sop_id) {
        this.generateHeaders();
        return this.http.delete(this.domain + '/api/sop/delete/' + sop_id, this.httpOptions);
    };
    SopService.prototype.generateHeaders = function () {
        if (localStorage.getItem("Token") === null) {
            this.httpOptions = {
                headers: new _angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpHeaders"]({
                    'Content-Type': 'application/json'
                })
            };
        }
        else {
            this.httpOptions = {
                headers: new _angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpHeaders"]({
                    'Content-Type': 'application/json',
                    'Authorization': localStorage.getItem("Token")
                })
            };
        }
    };
    SopService.prototype.getSopIdLocal = function () {
        if (localStorage.getItem("Sop_id") === null) {
            this.router.navigate(['/', 'sop-list']);
        }
        else {
            var sop_id = localStorage.getItem('Sop_id');
            return sop_id;
        }
    };
    SopService.prototype.removeSopIdLocal = function () {
        localStorage.removeItem('Sop_id');
    };
    SopService.prototype.getSop = function (sop_id) {
        this.generateHeaders();
        return this.http.get(this.domain + '/api/sop/findOne/' + sop_id, this.httpOptions);
    };
    SopService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({
            providedIn: 'root'
        }),
        __metadata("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpClient"],
            _angular_router__WEBPACK_IMPORTED_MODULE_3__["Router"]])
    ], SopService);
    return SopService;
}());



/***/ }),

/***/ "./src/app/objects/sop/sop.ts":
/*!************************************!*\
  !*** ./src/app/objects/sop/sop.ts ***!
  \************************************/
/*! exports provided: Sop */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Sop", function() { return Sop; });
var Sop = /** @class */ (function () {
    function Sop() {
    }
    return Sop;
}());



/***/ }),

/***/ "./src/app/objects/sub_department/sub-department.service.ts":
/*!******************************************************************!*\
  !*** ./src/app/objects/sub_department/sub-department.service.ts ***!
  \******************************************************************/
/*! exports provided: SubDepartmentService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SubDepartmentService", function() { return SubDepartmentService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var _environments_environment__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../environments/environment */ "./src/environments/environment.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var SubDepartmentService = /** @class */ (function () {
    function SubDepartmentService(http) {
        this.http = http;
        this.domain = _environments_environment__WEBPACK_IMPORTED_MODULE_2__["environment"].SERVEUR_URL;
    }
    SubDepartmentService.prototype.generateHeaders = function () {
        if (localStorage.getItem("Token") === null) {
            this.httpOptions = {
                headers: new _angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpHeaders"]({
                    'Content-Type': 'application/json'
                })
            };
        }
        else {
            this.httpOptions = {
                headers: new _angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpHeaders"]({
                    'Content-Type': 'application/json',
                    'Authorization': localStorage.getItem("Token")
                })
            };
        }
    };
    SubDepartmentService.prototype.add = function (subDepartmentName, departmentId) {
        var body = {
            sub_department_name: subDepartmentName,
            department_id: departmentId
        };
        this.generateHeaders();
        return this.http.post(this.domain + '/api/sub_department/create', body, this.httpOptions);
    };
    SubDepartmentService.prototype.selectAllFromDepartment = function (department) {
        this.generateHeaders();
        return this.http.get(this.domain + '/api/sub_department/all?department=' + department, this.httpOptions);
    };
    SubDepartmentService.prototype.delete = function (sub_department) {
        this.generateHeaders();
        return this.http.delete(this.domain + '/api/sub_department/delete/' + sub_department, this.httpOptions);
    };
    SubDepartmentService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({
            providedIn: 'root'
        }),
        __metadata("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpClient"]])
    ], SubDepartmentService);
    return SubDepartmentService;
}());



/***/ }),

/***/ "./src/app/objects/unit/unit.service.ts":
/*!**********************************************!*\
  !*** ./src/app/objects/unit/unit.service.ts ***!
  \**********************************************/
/*! exports provided: UnitService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UnitService", function() { return UnitService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _environments_environment__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../environments/environment */ "./src/environments/environment.ts");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var UnitService = /** @class */ (function () {
    function UnitService(http, router) {
        this.http = http;
        this.router = router;
        this.domain = _environments_environment__WEBPACK_IMPORTED_MODULE_1__["environment"].SERVEUR_URL;
    }
    UnitService.prototype.createUnit = function (unit_name) {
        var body = {
            unit_name: unit_name
        };
        this.generateHeaders();
        return this.http.post(this.domain + '/api/unit/create', body, this.httpOptions);
    };
    UnitService.prototype.updateUnit = function (unit) {
        var body = {
            unit_id: unit.unit_id,
            unit_name: unit.unit_name
        };
        this.generateHeaders();
        return this.http.put(this.domain + '/api/unit/update', body, this.httpOptions);
    };
    UnitService.prototype.bindUnitSop = function (unit_id, sop_id) {
        var body = {
            unit_id: unit_id,
            sop_id: sop_id
        };
        this.generateHeaders();
        return this.http.post(this.domain + '/api/sop/bind_sop_unit', body, this.httpOptions);
    };
    UnitService.prototype.bindUnitActivity = function (unit_id, activity_id) {
        var body = {
            unit_id: unit_id,
            activity_id: activity_id
        };
        console.log('bind : ', body);
        this.generateHeaders();
        return this.http.post(this.domain + '/api/unit/execute_activity', body, this.httpOptions);
    };
    UnitService.prototype.selectAllFromSop = function (sop_id) {
        this.generateHeaders();
        return this.http.get(this.domain + '/api/unit/all_from_sop/' + sop_id, this.httpOptions);
    };
    UnitService.prototype.selectAllFromActivity = function (activity_id) {
        this.generateHeaders();
        return this.http.get(this.domain + '/api/unit/all_from_activity/' + activity_id, this.httpOptions);
    };
    UnitService.prototype.selectAllFromJob = function (job_id) {
        this.generateHeaders();
        return this.http.get(this.domain + '/api/unit/all_from_job/' + job_id, this.httpOptions);
    };
    UnitService.prototype.generateHeaders = function () {
        if (localStorage.getItem("Token") === null) {
            this.httpOptions = {
                headers: new _angular_common_http__WEBPACK_IMPORTED_MODULE_2__["HttpHeaders"]({
                    'Content-Type': 'application/json'
                })
            };
        }
        else {
            this.httpOptions = {
                headers: new _angular_common_http__WEBPACK_IMPORTED_MODULE_2__["HttpHeaders"]({
                    'Content-Type': 'application/json',
                    'Authorization': localStorage.getItem("Token")
                })
            };
        }
    };
    UnitService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({
            providedIn: 'root'
        }),
        __metadata("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_2__["HttpClient"],
            _angular_router__WEBPACK_IMPORTED_MODULE_3__["Router"]])
    ], UnitService);
    return UnitService;
}());



/***/ }),

/***/ "./src/app/objects/unit/unit.ts":
/*!**************************************!*\
  !*** ./src/app/objects/unit/unit.ts ***!
  \**************************************/
/*! exports provided: Unit */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Unit", function() { return Unit; });
var Unit = /** @class */ (function () {
    function Unit() {
    }
    return Unit;
}());



/***/ }),

/***/ "./src/app/shared/Loader/loader/loader.component.html":
/*!************************************************************!*\
  !*** ./src/app/shared/Loader/loader/loader.component.html ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class=\"container\">\r\n  <div class=\"row\">\r\n    <div class=\"col-md-12\">\r\n      <div class=\"loader\">\r\n        <div class=\"loader-inner\">\r\n          <div class=\"loading one\"></div>\r\n        </div>\r\n        <div class=\"loader-inner\">\r\n          <div class=\"loading two\"></div>\r\n        </div>\r\n        <div class=\"loader-inner\">\r\n          <div class=\"loading three\"></div>\r\n        </div>\r\n        <div class=\"loader-inner\">\r\n          <div class=\"loading four\"></div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n"

/***/ }),

/***/ "./src/app/shared/Loader/loader/loader.component.scss":
/*!************************************************************!*\
  !*** ./src/app/shared/Loader/loader/loader.component.scss ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".loader {\n  width: 150px;\n  height: 150px;\n  margin: 40px auto;\n  -webkit-transform: rotate(-45deg);\n          transform: rotate(-45deg);\n  font-size: 0;\n  line-height: 0;\n  -webkit-animation: rotate-loader 5s infinite;\n          animation: rotate-loader 5s infinite;\n  padding: 25px;\n  border: 1px solid #085193; }\n\n.loader .loader-inner {\n  position: relative;\n  display: inline-block;\n  width: 50%;\n  height: 50%; }\n\n.loader .loading {\n  position: absolute;\n  background: #085193; }\n\n.loader .one {\n  width: 100%;\n  bottom: 0;\n  height: 0;\n  -webkit-animation: loading-one 1s infinite;\n          animation: loading-one 1s infinite; }\n\n.loader .two {\n  width: 0;\n  height: 100%;\n  left: 0;\n  -webkit-animation: loading-two 1s infinite;\n          animation: loading-two 1s infinite;\n  -webkit-animation-delay: 0.25s;\n          animation-delay: 0.25s; }\n\n.loader .three {\n  width: 0;\n  height: 100%;\n  right: 0;\n  -webkit-animation: loading-two 1s infinite;\n          animation: loading-two 1s infinite;\n  -webkit-animation-delay: 0.75s;\n          animation-delay: 0.75s; }\n\n.loader .four {\n  width: 100%;\n  top: 0;\n  height: 0;\n  -webkit-animation: loading-one 1s infinite;\n          animation: loading-one 1s infinite;\n  -webkit-animation-delay: 0.5s;\n          animation-delay: 0.5s; }\n\n@-webkit-keyframes loading-one {\n  0% {\n    height: 0;\n    opacity: 1; }\n  12.5% {\n    height: 100%;\n    opacity: 1; }\n  50% {\n    opacity: 1; }\n  100% {\n    height: 100%;\n    opacity: 0; } }\n\n@keyframes loading-one {\n  0% {\n    height: 0;\n    opacity: 1; }\n  12.5% {\n    height: 100%;\n    opacity: 1; }\n  50% {\n    opacity: 1; }\n  100% {\n    height: 100%;\n    opacity: 0; } }\n\n@-webkit-keyframes loading-two {\n  0% {\n    width: 0;\n    opacity: 1; }\n  12.5% {\n    width: 100%;\n    opacity: 1; }\n  50% {\n    opacity: 1; }\n  100% {\n    width: 100%;\n    opacity: 0; } }\n\n@keyframes loading-two {\n  0% {\n    width: 0;\n    opacity: 1; }\n  12.5% {\n    width: 100%;\n    opacity: 1; }\n  50% {\n    opacity: 1; }\n  100% {\n    width: 100%;\n    opacity: 0; } }\n\n@-webkit-keyframes rotate-loader {\n  0% {\n    -webkit-transform: rotate(-45deg);\n            transform: rotate(-45deg); }\n  20% {\n    -webkit-transform: rotate(-45deg);\n            transform: rotate(-45deg); }\n  25% {\n    -webkit-transform: rotate(-135deg);\n            transform: rotate(-135deg); }\n  45% {\n    -webkit-transform: rotate(-135deg);\n            transform: rotate(-135deg); }\n  50% {\n    -webkit-transform: rotate(-225deg);\n            transform: rotate(-225deg); }\n  70% {\n    -webkit-transform: rotate(-225deg);\n            transform: rotate(-225deg); }\n  75% {\n    -webkit-transform: rotate(-315deg);\n            transform: rotate(-315deg); }\n  95% {\n    -webkit-transform: rotate(-315deg);\n            transform: rotate(-315deg); }\n  100% {\n    -webkit-transform: rotate(-405deg);\n            transform: rotate(-405deg); } }\n\n@keyframes rotate-loader {\n  0% {\n    -webkit-transform: rotate(-45deg);\n            transform: rotate(-45deg); }\n  20% {\n    -webkit-transform: rotate(-45deg);\n            transform: rotate(-45deg); }\n  25% {\n    -webkit-transform: rotate(-135deg);\n            transform: rotate(-135deg); }\n  45% {\n    -webkit-transform: rotate(-135deg);\n            transform: rotate(-135deg); }\n  50% {\n    -webkit-transform: rotate(-225deg);\n            transform: rotate(-225deg); }\n  70% {\n    -webkit-transform: rotate(-225deg);\n            transform: rotate(-225deg); }\n  75% {\n    -webkit-transform: rotate(-315deg);\n            transform: rotate(-315deg); }\n  95% {\n    -webkit-transform: rotate(-315deg);\n            transform: rotate(-315deg); }\n  100% {\n    -webkit-transform: rotate(-405deg);\n            transform: rotate(-405deg); } }\n"

/***/ }),

/***/ "./src/app/shared/Loader/loader/loader.component.ts":
/*!**********************************************************!*\
  !*** ./src/app/shared/Loader/loader/loader.component.ts ***!
  \**********************************************************/
/*! exports provided: LoaderComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LoaderComponent", function() { return LoaderComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

var LoaderComponent = /** @class */ (function () {
    function LoaderComponent() {
    }
    LoaderComponent.prototype.ngOnInit = function () {
    };
    LoaderComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-loader',
            template: __webpack_require__(/*! ./loader.component.html */ "./src/app/shared/Loader/loader/loader.component.html"),
            styles: [__webpack_require__(/*! ./loader.component.scss */ "./src/app/shared/Loader/loader/loader.component.scss")]
        }),
        __metadata("design:paramtypes", [])
    ], LoaderComponent);
    return LoaderComponent;
}());



/***/ }),

/***/ "./src/app/shared/footer/footer.component.html":
/*!*****************************************************!*\
  !*** ./src/app/shared/footer/footer.component.html ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\r\n<!-- Footer -->\r\n<footer class=\"page-footer font-small pt-4\" style=\"margin-top: 0.1%\">\r\n\r\n  <!-- Footer Text -->\r\n  <div class=\"container text-center text-md-left\">\r\n\r\n    <!-- Grid row -->\r\n    <div class=\"row\">\r\n\r\n      <!-- Grid column -->\r\n      <div class=\"col-md-6 mt-md-0 mt-3 row\">\r\n\r\n        <!-- Content -->\r\n        <h5 class=\"col-12 text-uppercase font-weight-bold\" style=\"font-size: 1.2em\">standard Operational procedure</h5>\r\n        <p class=\"col-12 text-justify\">This web application is part of an internship project realized by three students of Polytech Montpellier FRANCE, for the IT school Stikom Bali INDONESIA.\r\n        The project took place from the 3rd june 2018 to the 2nd august 2018. </p>\r\n\r\n      </div>\r\n      <!-- Grid column -->\r\n\r\n      <hr class=\"clearfix w-100 d-md-none pb-3\">\r\n\r\n      <!-- Grid column -->\r\n      <div class=\"col-md-6 mb-md-0 mb-3\">\r\n\r\n        <!-- Content -->\r\n        <h5 class=\"offset-2 col-10 text-uppercase font-weight-bold\" style=\"font-size: 1.2em\">Team</h5>\r\n        <p class=\"offset-2 col-10 text-justify\">Project Master : Mr AGUSTA Yudi</p>\r\n        <p class=\"offset-2 col-10 text-justify\">Workers : FABRE Enzo, PLUCHE Cyril, TERRIEN James</p>\r\n\r\n      </div>\r\n      <!-- Grid column -->\r\n\r\n    </div>\r\n    <!-- Grid row -->\r\n\r\n  </div>\r\n  <!-- Footer Text -->\r\n\r\n  <!-- Copyright -->\r\n  <div class=\"footer-copyright text-center py-1\">© 2018 Copyright:\r\n    <a href=\"https://stikom-bali.ac.id/act/\"> Stikom, Bali</a>\r\n  </div>\r\n  <!-- Copyright -->\r\n\r\n</footer>\r\n<!-- Footer -->\r\n"

/***/ }),

/***/ "./src/app/shared/footer/footer.component.scss":
/*!*****************************************************!*\
  !*** ./src/app/shared/footer/footer.component.scss ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/shared/footer/footer.component.ts":
/*!***************************************************!*\
  !*** ./src/app/shared/footer/footer.component.ts ***!
  \***************************************************/
/*! exports provided: FooterComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FooterComponent", function() { return FooterComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

var FooterComponent = /** @class */ (function () {
    function FooterComponent() {
    }
    FooterComponent.prototype.ngOnInit = function () {
    };
    FooterComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-footer',
            template: __webpack_require__(/*! ./footer.component.html */ "./src/app/shared/footer/footer.component.html"),
            styles: [__webpack_require__(/*! ./footer.component.scss */ "./src/app/shared/footer/footer.component.scss")]
        }),
        __metadata("design:paramtypes", [])
    ], FooterComponent);
    return FooterComponent;
}());



/***/ }),

/***/ "./src/app/shared/layout/nav-bar/nav-bar.component.css":
/*!*************************************************************!*\
  !*** ./src/app/shared/layout/nav-bar/nav-bar.component.css ***!
  \*************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "/* LIGHT BLACK #222222 */\r\n\r\n.navbar-brand {\r\n  max-width: 2%;\r\n  height: auto;\r\n}\r\n\r\n.navbar {\r\n  background-color: white !important;\r\n}\r\n\r\n.navbar a{\r\n  color: #222222 !important;\r\n}\r\n"

/***/ }),

/***/ "./src/app/shared/layout/nav-bar/nav-bar.component.html":
/*!**************************************************************!*\
  !*** ./src/app/shared/layout/nav-bar/nav-bar.component.html ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<!--Navbar-->\r\n<nav class=\"navbar sticky-top navbar-expand-lg navbar-dark primary-color hoverable\">\r\n\r\n  <!-- Navbar brand -->\r\n  <img src=\"../../../../assets/images/logo-stikom.png\" class=\"navbar-brand img-fluid\" />\r\n\r\n  <!-- Collapse button -->\r\n  <button class=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#basicExampleNav\" aria-controls=\"basicExampleNav\"\r\n          aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n    <span class=\"navbar-toggler-icon\"></span>\r\n  </button>\r\n\r\n  <!-- Collapsible content -->\r\n  <div class=\"collapse navbar-collapse\" id=\"basicExampleNav\">\r\n\r\n    <!-- Links -->\r\n    <ul class=\"navbar-nav ml-auto\">\r\n      <li class=\"nav-item active\">\r\n        <a class=\"nav-link\" [routerLink]=\"['/home']\" >Home\r\n          <span class=\"sr-only\">(current)</span>\r\n        </a>\r\n      </li>\r\n\r\n      <li class=\"nav-item active\">\r\n        <a class=\"nav-link\" *ngIf=\"_memberService.isLoggedIn()\" [routerLink]=\"['/admin-users']\" >Admin Users\r\n        </a>\r\n      </li>\r\n      <li class=\"nav-item active\">\r\n        <a class=\"nav-link\" *ngIf=\"_memberService.isLoggedIn()\" [routerLink]=\"['/admin-organization-management']\" >Admin organizations\r\n        </a>\r\n      </li>\r\n      <!--<li class=\"nav-item active\">\r\n        <a class=\"nav-link\" *ngIf=\"_memberService.isLoggedIn()\" [routerLink]=\"['/personal-achievement']\" >Personal achievement\r\n        </a>\r\n      </li>-->\r\n\r\n      <li class=\"nav-item\">\r\n        <a class=\"nav-link\" *ngIf=\"_memberService.isLoggedIn()\" [routerLink]=\"['/project-list']\" >Projects</a>\r\n      </li>\r\n\r\n      <li class=\"nav-item\">\r\n        <a class=\"nav-link\" *ngIf=\"_memberService.isLoggedIn()\" [routerLink]=\"['/sop-list']\" >SOP</a>\r\n      </li>\r\n\r\n      <li class=\"nav-item\">\r\n        <a class=\"nav-link\" *ngIf=\"_memberService.isLoggedIn()\" [routerLink]=\"['/account']\" >My Account</a>\r\n      </li>\r\n\r\n      <li class=\"nav-item\">\r\n        <a class=\"nav-link\" *ngIf=\"!_memberService.isLoggedIn()\" [routerLink]=\"['/authentification']\" >Log In</a>\r\n      </li>\r\n\r\n      <li class=\"nav-item\">\r\n        <a class=\"nav-link\" *ngIf=\"_memberService.isLoggedIn()\" (click)=\"onLogoutClick()\" >Log Out</a>\r\n      </li>\r\n\r\n    </ul>\r\n    <!-- Links -->\r\n\r\n    <form class=\"form-inline\">\r\n      <div class=\"md-form my-0\">\r\n        <input class=\"form-control mr-sm-2\" type=\"text\" placeholder=\"Search\" aria-label=\"Search\">\r\n      </div>\r\n    </form>\r\n  </div>\r\n  <!-- Collapsible content -->\r\n\r\n</nav>\r\n<!--/.Navbar-->\r\n"

/***/ }),

/***/ "./src/app/shared/layout/nav-bar/nav-bar.component.ts":
/*!************************************************************!*\
  !*** ./src/app/shared/layout/nav-bar/nav-bar.component.ts ***!
  \************************************************************/
/*! exports provided: NavBarComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NavBarComponent", function() { return NavBarComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _objects_member_member_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../objects/member/member.service */ "./src/app/objects/member/member.service.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var NavBarComponent = /** @class */ (function () {
    function NavBarComponent(_memberService, router) {
        this._memberService = _memberService;
        this.router = router;
        this.isLoggedIn = false;
    }
    NavBarComponent.prototype.ngOnInit = function () {
        var result = this._memberService.isLoggedIn();
        if (result) {
            this.isLoggedIn = true;
        }
        else {
            this.isLoggedIn = false;
        }
    };
    NavBarComponent.prototype.onLogoutClick = function () {
        var _this = this;
        this._memberService.logout();
        setTimeout(function () {
            _this.router.navigate(['/home']);
        }, 500);
    };
    NavBarComponent.prototype.isActive = function (page) {
        this.reg = new RegExp("^/" + page);
        return this.reg.test(this.router.url);
    };
    NavBarComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-nav-bar',
            template: __webpack_require__(/*! ./nav-bar.component.html */ "./src/app/shared/layout/nav-bar/nav-bar.component.html"),
            styles: [__webpack_require__(/*! ./nav-bar.component.css */ "./src/app/shared/layout/nav-bar/nav-bar.component.css")]
        }),
        __metadata("design:paramtypes", [_objects_member_member_service__WEBPACK_IMPORTED_MODULE_1__["MemberService"],
            _angular_router__WEBPACK_IMPORTED_MODULE_2__["Router"]])
    ], NavBarComponent);
    return NavBarComponent;
}());



/***/ }),

/***/ "./src/app/shared/modals/action/action.component.html":
/*!************************************************************!*\
  !*** ./src/app/shared/modals/action/action.component.html ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<!-- Central Modal Medium Success -->\r\n<div class=\"modal fade\" id=\"actionModal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"myModalLabel\" aria-hidden=\"true\">\r\n  <div class=\"modal-dialog modal-notify modal-warning\" role=\"document\">\r\n    <!--Content-->\r\n    <div class=\"modal-content\">\r\n      <!--Header-->\r\n      <div class=\"modal-header\">\r\n        <p class=\"heading lead\">{{title}}</p>\r\n\r\n        <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n          <span aria-hidden=\"true\" class=\"white-text\">&times;</span>\r\n        </button>\r\n      </div>\r\n\r\n      <!--Body-->\r\n      <div class=\"modal-body\">\r\n        <div class=\"text-center\">\r\n          <i id=\"iconDisplayed\" class=\"fa fa-cog fa-4x mb-3 animated rotateIn\"></i>\r\n          <p>{{text}}</p>\r\n        </div>\r\n      </div>\r\n\r\n      <!--Footer-->\r\n      <div class=\"modal-footer justify-content-center\">\r\n        <div class=\"btn-group-vertical\" role=\"group\" aria-label=\"Vertical button group\">\r\n          <button *ngFor=\"let b of buttonsArray;\" type=\"button\" class=\"btn btn-outline-default ml-0\" (click)=\"goDestination(linksArray[buttonsArray.indexOf(b)]);\" data-dismiss=\"modal\">{{b}}</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <!--/.Content-->\r\n  </div>\r\n</div>\r\n<!-- Central Modal Medium Success-->\r\n\r\n"

/***/ }),

/***/ "./src/app/shared/modals/action/action.component.scss":
/*!************************************************************!*\
  !*** ./src/app/shared/modals/action/action.component.scss ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".modal-dialog.modal-notify.modal-warning .modal-header {\n  background-color: #085193 !important; }\n\n#iconDisplayed {\n  color: #085193 !important; }\n"

/***/ }),

/***/ "./src/app/shared/modals/action/action.component.ts":
/*!**********************************************************!*\
  !*** ./src/app/shared/modals/action/action.component.ts ***!
  \**********************************************************/
/*! exports provided: ActionComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ActionComponent", function() { return ActionComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var ActionComponent = /** @class */ (function () {
    function ActionComponent(router) {
        this.router = router;
        /* ----- Data ----- */
        this.title = "";
        this.text = "";
        this.isLinkActive = true;
    }
    ActionComponent.prototype.ngOnInit = function () {
        this.buttonsArray = this.buttons.split(',');
        this.linksArray = this.links.split(',');
    };
    ActionComponent.prototype.goDestination = function (link) {
        if (this.isLinkActive) {
            this.router.navigate(['/', link]);
        }
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", String)
    ], ActionComponent.prototype, "title", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", String)
    ], ActionComponent.prototype, "text", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", String)
    ], ActionComponent.prototype, "buttons", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", String)
    ], ActionComponent.prototype, "links", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Boolean)
    ], ActionComponent.prototype, "isLinkActive", void 0);
    ActionComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-action',
            template: __webpack_require__(/*! ./action.component.html */ "./src/app/shared/modals/action/action.component.html"),
            styles: [__webpack_require__(/*! ./action.component.scss */ "./src/app/shared/modals/action/action.component.scss")]
        }),
        __metadata("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_1__["Router"]])
    ], ActionComponent);
    return ActionComponent;
}());



/***/ }),

/***/ "./src/app/shared/modals/activity-update/activity-update.component.html":
/*!******************************************************************************!*\
  !*** ./src/app/shared/modals/activity-update/activity-update.component.html ***!
  \******************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<!-- Central Modal Medium Success -->\r\n<div class=\"modal fade\" id=\"activityModal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"myModalLabel\" aria-hidden=\"true\">\r\n  <div class=\"modal-dialog modal-notify modal-warning\" role=\"document\">\r\n    <!--Content-->\r\n    <div class=\"modal-content\">\r\n      <!--Header-->\r\n      <div class=\"modal-header\">\r\n        <p class=\"heading lead\">{{title}}</p>\r\n\r\n        <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n          <span aria-hidden=\"true\" class=\"white-text\">&times;</span>\r\n        </button>\r\n      </div>\r\n\r\n      <!--Body-->\r\n      <div class=\"modal-body\">\r\n        <div class=\"text-center\">\r\n          <i id=\"iconDisplayed\" class=\"fa fa-cog fa-4x mb-3 animated rotateIn\"></i>\r\n\r\n          <div class=\"row row-first\">\r\n            <div class=\"col-3 font-weight-bold\">\r\n              <p>Title</p>\r\n            </div>\r\n            <div class=\"col-8\">\r\n              <input [disabled]=\"!isActive\" [(ngModel)]=\"activityUpdate.activity_title\" type=\"text\" class=\"form-control\">\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"row\">\r\n            <div class=\"col-3 font-weight-bold\">\r\n              <p>Description</p>\r\n            </div>\r\n            <div class=\"col-8\">\r\n              <input [disabled]=\"!isActive\" [(ngModel)]=\"activityUpdate.activity_description\" type=\"text\" class=\"form-control\">\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"row\">\r\n            <div class=\"col-3 font-weight-bold\">\r\n              <p>Management level</p>\r\n            </div>\r\n            <div class=\"col-8\">\r\n              <select [disabled]=\"!isActive\" [(ngModel)]=\"new_management_level\" class=\"form-control\">\r\n                <option name=\"organisation\" value=\"\" disabled selected>Choose organisation</option>\r\n                <option *ngFor=\"let m of managment_levels\" [ngValue]=\"m\">{{m.managment_level_label}}</option>\r\n              </select>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"row\">\r\n            <div class=\"col-3 font-weight-bold\">\r\n              <p>Type duration</p>\r\n            </div>\r\n            <div class=\"col-8\">\r\n              <select [disabled]=\"!isActive\" [(ngModel)]=\"activityUpdate.activity_type_duration\" class=\"form-control\">\r\n                <option name=\"organisation\" value=\"\" disabled selected>Choose organisation</option>\r\n                <option *ngFor=\"let d of type_durations\" [ngValue]=\"d\">{{d}}</option>\r\n              </select>\r\n            </div>\r\n          </div>\r\n\r\n          <div *ngIf=\"isActive\" class=\"row\">\r\n            <div class=\"col-3 font-weight-bold\">\r\n              <p>Unit</p>\r\n            </div>\r\n            <div class=\"col-8\">\r\n              <select [(ngModel)]=\"new_unit\" class=\"form-control\">\r\n                <option name=\"organisation\" value=\"\" disabled selected>Choose organisation</option>\r\n                <option *ngFor=\"let u of units\" [ngValue]=\"u\">{{u.unit_name}}</option>\r\n              </select>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"row\">\r\n            <div class=\"col-3 font-weight-bold\">\r\n              <p>Duration</p>\r\n            </div>\r\n            <div class=\"col-8\">\r\n              <input [disabled]=\"!isActive\" [(ngModel)]=\"activityUpdate.activity_duration\" type=\"number\" class=\"form-control\">\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"row\">\r\n            <div class=\"col-3 font-weight-bold\">\r\n              <p>Type output</p>\r\n            </div>\r\n            <div class=\"col-8\">\r\n              <input [disabled]=\"!isActive\" [(ngModel)]=\"activityUpdate.activity_type_output\" type=\"text\" class=\"form-control\">\r\n            </div>\r\n          </div>\r\n\r\n        </div>\r\n      </div>\r\n\r\n      <!--Footer-->\r\n      <div class=\"modal-footer justify-content-center\">\r\n        <a *ngIf=\"isActive\" type=\"button\" class=\"btn btn-outline-danger waves-effect\" data-dismiss=\"modal\" (click)=\"reset();\">Cancel</a>\r\n        <a *ngIf=\"isActive\" type=\"button\" class=\"btn btn-success waves-effect\" (click)=\"goDestination();\" data-dismiss=\"modal\" >Save</a>\r\n        <a *ngIf=\"!isActive\" type=\"button\" class=\"btn btn-default waves-effect\" data-dismiss=\"modal\" >Dismiss</a>\r\n      </div>\r\n    </div>\r\n    <!--/.Content-->\r\n  </div>\r\n</div>\r\n<!-- Central Modal Medium Success-->\r\n"

/***/ }),

/***/ "./src/app/shared/modals/activity-update/activity-update.component.scss":
/*!******************************************************************************!*\
  !*** ./src/app/shared/modals/activity-update/activity-update.component.scss ***!
  \******************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".modal-dialog.modal-notify.modal-warning .modal-header {\n  background-color: #085193 !important; }\n\n#iconDisplayed {\n  color: #085193 !important; }\n"

/***/ }),

/***/ "./src/app/shared/modals/activity-update/activity-update.component.ts":
/*!****************************************************************************!*\
  !*** ./src/app/shared/modals/activity-update/activity-update.component.ts ***!
  \****************************************************************************/
/*! exports provided: ActivityUpdateComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ActivityUpdateComponent", function() { return ActivityUpdateComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _objects_activity_activity__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../objects/activity/activity */ "./src/app/objects/activity/activity.ts");
/* harmony import */ var _objects_unit_unit__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../objects/unit/unit */ "./src/app/objects/unit/unit.ts");
/* harmony import */ var _objects_unit_unit_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../objects/unit/unit.service */ "./src/app/objects/unit/unit.service.ts");
/* harmony import */ var _objects_managment_level_managment_level__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../objects/managment_level/managment_level */ "./src/app/objects/managment_level/managment_level.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






var ActivityUpdateComponent = /** @class */ (function () {
    function ActivityUpdateComponent(router, _unitService) {
        this.router = router;
        this._unitService = _unitService;
        /* ----- Data ----- */
        this.title = "";
        this.isActive = true;
        this.new_unit = new _objects_unit_unit__WEBPACK_IMPORTED_MODULE_3__["Unit"]();
        this.new_management_level = new _objects_managment_level_managment_level__WEBPACK_IMPORTED_MODULE_5__["ManagmentLevel"]();
        this.type_durations = ['minutes', 'hours', 'days', 'months'];
        this.success = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
    }
    ActivityUpdateComponent.prototype.ngOnInit = function () {
        try {
            this.new_unit.unit_name = this.activityUpdate['activity_unit'][0];
        }
        catch (error) {
            //nothing
        }
        this.selectUnit();
        this.selectManagement();
        console.log(this.new_unit);
    };
    ActivityUpdateComponent.prototype.goDestination = function (link) {
        if (this.isLinkActive) {
            this.router.navigate(['/', link]);
        }
        else {
            this.success.emit(true);
        }
    };
    ActivityUpdateComponent.prototype.reset = function () {
        this.success.emit(false);
    };
    ActivityUpdateComponent.prototype.selectUnit = function () {
        for (var _i = 0, _a = this.units; _i < _a.length; _i++) {
            var u = _a[_i];
            if (u.unit_name == this.new_unit.unit_name) {
                this.new_unit = u;
            }
        }
    };
    ActivityUpdateComponent.prototype.selectManagement = function () {
        for (var _i = 0, _a = this.managment_levels; _i < _a.length; _i++) {
            var m = _a[_i];
            if (m.managment_level_id.toString() == this.activityUpdate.managment_level_id) {
                this.new_management_level = m;
            }
        }
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", String)
    ], ActivityUpdateComponent.prototype, "title", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", _objects_activity_activity__WEBPACK_IMPORTED_MODULE_2__["Activity"])
    ], ActivityUpdateComponent.prototype, "activityUpdate", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Array)
    ], ActivityUpdateComponent.prototype, "units", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Array)
    ], ActivityUpdateComponent.prototype, "managment_levels", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", String)
    ], ActivityUpdateComponent.prototype, "link", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Boolean)
    ], ActivityUpdateComponent.prototype, "isLinkActive", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Boolean)
    ], ActivityUpdateComponent.prototype, "isActive", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", Object)
    ], ActivityUpdateComponent.prototype, "success", void 0);
    ActivityUpdateComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-activity-update',
            template: __webpack_require__(/*! ./activity-update.component.html */ "./src/app/shared/modals/activity-update/activity-update.component.html"),
            styles: [__webpack_require__(/*! ./activity-update.component.scss */ "./src/app/shared/modals/activity-update/activity-update.component.scss")]
        }),
        __metadata("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_1__["Router"],
            _objects_unit_unit_service__WEBPACK_IMPORTED_MODULE_4__["UnitService"]])
    ], ActivityUpdateComponent);
    return ActivityUpdateComponent;
}());



/***/ }),

/***/ "./src/app/shared/modals/confirmation/confirmation.component.html":
/*!************************************************************************!*\
  !*** ./src/app/shared/modals/confirmation/confirmation.component.html ***!
  \************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<!-- Central Modal Medium Success -->\r\n<div class=\"modal fade\" id=\"confirmationModal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"myModalLabel\" aria-hidden=\"true\">\r\n  <div class=\"modal-dialog modal-notify modal-warning\" role=\"document\">\r\n    <!--Content-->\r\n    <div class=\"modal-content\">\r\n      <!--Header-->\r\n      <div class=\"modal-header\">\r\n        <p class=\"heading lead\">{{title}}</p>\r\n\r\n        <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n          <span aria-hidden=\"true\" class=\"white-text\">&times;</span>\r\n        </button>\r\n      </div>\r\n\r\n      <!--Body-->\r\n      <div class=\"modal-body\">\r\n        <div class=\"text-center\">\r\n          <i id=\"iconDisplayed\" class=\"fa fa-exclamation-circle fa-4x mb-3 animated rotateIn\"></i>\r\n          <p>{{text}}</p>\r\n        </div>\r\n      </div>\r\n\r\n      <!--Footer-->\r\n      <div class=\"modal-footer justify-content-center\">\r\n        <a type=\"button\" class=\"btn btn-success waves-effect\" (click)=\"goDestination();\" data-dismiss=\"modal\" >Yes</a>\r\n        <a type=\"button\" class=\"btn btn-outline-secondary waves-effect\" data-dismiss=\"modal\">No</a>\r\n      </div>\r\n    </div>\r\n    <!--/.Content-->\r\n  </div>\r\n</div>\r\n<!-- Central Modal Medium Success-->\r\n\r\n"

/***/ }),

/***/ "./src/app/shared/modals/confirmation/confirmation.component.scss":
/*!************************************************************************!*\
  !*** ./src/app/shared/modals/confirmation/confirmation.component.scss ***!
  \************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".modal-dialog.modal-notify.modal-warning .modal-header {\n  background-color: #ffa701 !important; }\n\n#iconDisplayed {\n  color: #ffa701 !important; }\n"

/***/ }),

/***/ "./src/app/shared/modals/confirmation/confirmation.component.ts":
/*!**********************************************************************!*\
  !*** ./src/app/shared/modals/confirmation/confirmation.component.ts ***!
  \**********************************************************************/
/*! exports provided: ConfirmationComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ConfirmationComponent", function() { return ConfirmationComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var ConfirmationComponent = /** @class */ (function () {
    function ConfirmationComponent(router) {
        this.router = router;
        /* ----- Data ----- */
        this.title = "";
        this.text = "";
        this.link = "";
        this.success = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
    }
    ConfirmationComponent.prototype.ngOnInit = function () {
    };
    ConfirmationComponent.prototype.goDestination = function () {
        if (this.isLinkActive == true) {
            this.router.navigate(['/', this.link]);
        }
        else {
            this.success.emit(true);
        }
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", String)
    ], ConfirmationComponent.prototype, "title", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", String)
    ], ConfirmationComponent.prototype, "text", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", String)
    ], ConfirmationComponent.prototype, "link", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Boolean)
    ], ConfirmationComponent.prototype, "isLinkActive", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", Object)
    ], ConfirmationComponent.prototype, "success", void 0);
    ConfirmationComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-confirmation',
            template: __webpack_require__(/*! ./confirmation.component.html */ "./src/app/shared/modals/confirmation/confirmation.component.html"),
            styles: [__webpack_require__(/*! ./confirmation.component.scss */ "./src/app/shared/modals/confirmation/confirmation.component.scss")]
        }),
        __metadata("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_1__["Router"]])
    ], ConfirmationComponent);
    return ConfirmationComponent;
}());



/***/ }),

/***/ "./src/app/shared/modals/warning/warning.component.html":
/*!**************************************************************!*\
  !*** ./src/app/shared/modals/warning/warning.component.html ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<!-- Central Modal Medium Success -->\r\n<div class=\"modal fade\" id=\"warningModal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"myModalLabel\" aria-hidden=\"true\">\r\n  <div class=\"modal-dialog modal-notify modal-warning\" role=\"document\">\r\n    <!--Content-->\r\n    <div class=\"modal-content\">\r\n      <!--Header-->\r\n      <div class=\"modal-header\">\r\n        <p class=\"heading lead\">{{title}}</p>\r\n\r\n        <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n          <span aria-hidden=\"true\" class=\"white-text\">&times;</span>\r\n        </button>\r\n      </div>\r\n\r\n      <!--Body-->\r\n      <div class=\"modal-body\">\r\n        <div class=\"text-center\">\r\n          <i id=\"iconDisplayed\" class=\"fa fa-exclamation-circle fa-4x mb-3 animated rotateIn\"></i>\r\n          <p>{{text}}</p>\r\n        </div>\r\n      </div>\r\n\r\n      <!--Footer-->\r\n      <div class=\"modal-footer justify-content-center\">\r\n        <a type=\"button\" class=\"btn btn-danger waves-effect\" (click)=\"goDestination();\" data-dismiss=\"modal\" >I'm sure</a>\r\n        <a type=\"button\" class=\"btn btn-outline-default waves-effect\" data-dismiss=\"modal\">Cancel</a>\r\n      </div>\r\n    </div>\r\n    <!--/.Content-->\r\n  </div>\r\n</div>\r\n<!-- Central Modal Medium Success-->\r\n\r\n"

/***/ }),

/***/ "./src/app/shared/modals/warning/warning.component.scss":
/*!**************************************************************!*\
  !*** ./src/app/shared/modals/warning/warning.component.scss ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".modal-dialog.modal-notify.modal-warning .modal-header {\n  background-color: #e5242c !important; }\n\n#iconDisplayed {\n  color: #e5242c !important; }\n"

/***/ }),

/***/ "./src/app/shared/modals/warning/warning.component.ts":
/*!************************************************************!*\
  !*** ./src/app/shared/modals/warning/warning.component.ts ***!
  \************************************************************/
/*! exports provided: WarningComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "WarningComponent", function() { return WarningComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var WarningComponent = /** @class */ (function () {
    function WarningComponent(router) {
        this.router = router;
        /* ----- Data ----- */
        this.title = "";
        this.link = "";
        this.success = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
    }
    WarningComponent.prototype.ngOnInit = function () {
    };
    WarningComponent.prototype.goDestination = function () {
        if (this.isLink) {
            this.router.navigate(['/', this.link]);
        }
        else {
            this.success.emit(true);
        }
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", String)
    ], WarningComponent.prototype, "title", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", String)
    ], WarningComponent.prototype, "text", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", String)
    ], WarningComponent.prototype, "link", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Boolean)
    ], WarningComponent.prototype, "isLink", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", Object)
    ], WarningComponent.prototype, "success", void 0);
    WarningComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-warning',
            template: __webpack_require__(/*! ./warning.component.html */ "./src/app/shared/modals/warning/warning.component.html"),
            styles: [__webpack_require__(/*! ./warning.component.scss */ "./src/app/shared/modals/warning/warning.component.scss")]
        }),
        __metadata("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_1__["Router"]])
    ], WarningComponent);
    return WarningComponent;
}());



/***/ }),

/***/ "./src/app/shared/summary/summary.component.html":
/*!*******************************************************!*\
  !*** ./src/app/shared/summary/summary.component.html ***!
  \*******************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class=\"container\">\r\n  <div class=\"row row-first justify-content-center\">\r\n\r\n    <!-- Card -->\r\n    <div class=\"col-10 col-sm-8 col-md-6 col-xl-4 card card-cascade hoverable\">\r\n\r\n      <!-- Card content -->\r\n      <div class=\"card-body card-body-cascade\">\r\n\r\n        <p class=\"h4 text-center mb-4\" >{{title}}</p>\r\n\r\n\r\n          <p class=\"text-center mb-4\">\r\n            {{text}}\r\n          </p>\r\n\r\n        <div class=\"text-center mt-4\">\r\n          <a class=\"btn btn-default\" (click)=\"goDestination()\" >{{buttonTitle}}</a>\r\n        </div>\r\n\r\n      </div>\r\n    </div>\r\n\r\n\r\n\r\n  </div>\r\n</div>\r\n"

/***/ }),

/***/ "./src/app/shared/summary/summary.component.scss":
/*!*******************************************************!*\
  !*** ./src/app/shared/summary/summary.component.scss ***!
  \*******************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/shared/summary/summary.component.ts":
/*!*****************************************************!*\
  !*** ./src/app/shared/summary/summary.component.ts ***!
  \*****************************************************/
/*! exports provided: SummaryComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SummaryComponent", function() { return SummaryComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var SummaryComponent = /** @class */ (function () {
    function SummaryComponent(router, _location) {
        this.router = router;
        this._location = _location;
    }
    SummaryComponent.prototype.ngOnInit = function () {
    };
    SummaryComponent.prototype.goDestination = function () {
        if (this.link == "back") {
            this._location.back();
        }
        else {
            this.router.navigate(['/', this.link]);
        }
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", String)
    ], SummaryComponent.prototype, "buttonTitle", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", String)
    ], SummaryComponent.prototype, "link", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", String)
    ], SummaryComponent.prototype, "title", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", String)
    ], SummaryComponent.prototype, "text", void 0);
    SummaryComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-summary',
            template: __webpack_require__(/*! ./summary.component.html */ "./src/app/shared/summary/summary.component.html"),
            styles: [__webpack_require__(/*! ./summary.component.scss */ "./src/app/shared/summary/summary.component.scss")]
        }),
        __metadata("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_1__["Router"],
            _angular_common__WEBPACK_IMPORTED_MODULE_2__["Location"]])
    ], SummaryComponent);
    return SummaryComponent;
}());



/***/ }),

/***/ "./src/environments/environment.ts":
/*!*****************************************!*\
  !*** ./src/environments/environment.ts ***!
  \*****************************************/
/*! exports provided: environment */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "environment", function() { return environment; });
// This file can be replaced during build by using the `fileReplacements` array.
// `ng build ---prod` replaces `environment.ts` with `environment.prod.ts`.
// The list of file replacements can be found in `angular.json`.
var environment = {
    production: false,
    SERVEUR_URL: 'https://stikom-sop-managment.herokuapp.com'
};
/*
 * In development mode, to ignore zone related error stack frames such as
 * `zone.run`, `zoneDelegate.invokeTask` for easier debugging, you can
 * import the following file, but please comment it out in production mode
 * because it will have performance impact when throw error
 */
// import 'zone.js/dist/zone-error';  // Included with Angular CLI.


/***/ }),

/***/ "./src/main.ts":
/*!*********************!*\
  !*** ./src/main.ts ***!
  \*********************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_platform_browser_dynamic__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/platform-browser-dynamic */ "./node_modules/@angular/platform-browser-dynamic/fesm5/platform-browser-dynamic.js");
/* harmony import */ var _app_app_module__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./app/app.module */ "./src/app/app.module.ts");
/* harmony import */ var _environments_environment__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./environments/environment */ "./src/environments/environment.ts");




if (_environments_environment__WEBPACK_IMPORTED_MODULE_3__["environment"].production) {
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["enableProdMode"])();
}
Object(_angular_platform_browser_dynamic__WEBPACK_IMPORTED_MODULE_1__["platformBrowserDynamic"])().bootstrapModule(_app_app_module__WEBPACK_IMPORTED_MODULE_2__["AppModule"])
    .catch(function (err) { return console.log(err); });


/***/ }),

/***/ 0:
/*!***************************!*\
  !*** multi ./src/main.ts ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(/*! C:\Users\ENZO\WebstormProjects\stikom\client\src\main.ts */"./src/main.ts");


/***/ })

},[[0,"runtime","vendor"]]]);
//# sourceMappingURL=main.js.map